<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 4 Data Manipulation with dplyr | R Programming for Business</title>
  <meta name="description" content="Module 4 Data Manipulation with dplyr | R Programming for Business" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 4 Data Manipulation with dplyr | R Programming for Business" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 4 Data Manipulation with dplyr | R Programming for Business" />
  
  
  

<meta name="author" content="Iain Webb" />


<meta name="date" content="2020-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-markdown.html"/>
<link rel="next" href="cleaning-data-in-r.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Wonderland</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#intro-to-basics"><i class="fa fa-check"></i><b>1.1</b> Intro to basics</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#how-it-works"><i class="fa fa-check"></i><b>1.1.1</b> How it works</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#arithmetic-with-r"><i class="fa fa-check"></i><b>1.1.2</b> Arithmetic with R</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#variable-assignment"><i class="fa fa-check"></i><b>1.1.3</b> Variable assignment</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#variable-assignment-2"><i class="fa fa-check"></i><b>1.1.4</b> Variable assignment (2)</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#variable-assignment-3"><i class="fa fa-check"></i><b>1.1.5</b> Variable assignment (3)</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#apples-and-oranges"><i class="fa fa-check"></i><b>1.1.6</b> Apples and oranges</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#basic-data-types-in-r"><i class="fa fa-check"></i><b>1.1.7</b> Basic data types in R</a></li>
<li class="chapter" data-level="1.1.8" data-path="index.html"><a href="index.html#whats-the-data-type"><i class="fa fa-check"></i><b>1.1.8</b> What’s the data type?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#vectors"><i class="fa fa-check"></i><b>1.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#create-a-vector"><i class="fa fa-check"></i><b>1.2.1</b> Create a vector</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#create-a-vector-2"><i class="fa fa-check"></i><b>1.2.2</b> Create a vector (2)</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#create-a-vector-3"><i class="fa fa-check"></i><b>1.2.3</b> Create a vector (3)</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#naming-a-vector"><i class="fa fa-check"></i><b>1.2.4</b> Naming a vector</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#naming-a-vector-2"><i class="fa fa-check"></i><b>1.2.5</b> Naming a vector (2)</a></li>
<li class="chapter" data-level="1.2.6" data-path="index.html"><a href="index.html#calculating-total-winnings"><i class="fa fa-check"></i><b>1.2.6</b> Calculating total winnings</a></li>
<li class="chapter" data-level="1.2.7" data-path="index.html"><a href="index.html#calculating-total-winnings-2"><i class="fa fa-check"></i><b>1.2.7</b> Calculating total winnings (2)</a></li>
<li class="chapter" data-level="1.2.8" data-path="index.html"><a href="index.html#calculating-total-winnings-3"><i class="fa fa-check"></i><b>1.2.8</b> Calculating total winnings (3)</a></li>
<li class="chapter" data-level="1.2.9" data-path="index.html"><a href="index.html#comparing-total-winnings"><i class="fa fa-check"></i><b>1.2.9</b> Comparing total winnings</a></li>
<li class="chapter" data-level="1.2.10" data-path="index.html"><a href="index.html#vector-selection-the-good-times"><i class="fa fa-check"></i><b>1.2.10</b> Vector selection: the good times</a></li>
<li class="chapter" data-level="1.2.11" data-path="index.html"><a href="index.html#vector-selection-the-good-times-2"><i class="fa fa-check"></i><b>1.2.11</b> Vector selection: the good times (2)</a></li>
<li class="chapter" data-level="1.2.12" data-path="index.html"><a href="index.html#vector-selection-the-good-times-3"><i class="fa fa-check"></i><b>1.2.12</b> Vector selection: the good times (3)</a></li>
<li class="chapter" data-level="1.2.13" data-path="index.html"><a href="index.html#vector-selection-the-good-times-4"><i class="fa fa-check"></i><b>1.2.13</b> Vector selection: the good times (4)</a></li>
<li class="chapter" data-level="1.2.14" data-path="index.html"><a href="index.html#selection-by-comparison---step-1"><i class="fa fa-check"></i><b>1.2.14</b> Selection by comparison - Step 1</a></li>
<li class="chapter" data-level="1.2.15" data-path="index.html"><a href="index.html#selection-by-comparison---step-2"><i class="fa fa-check"></i><b>1.2.15</b> Selection by comparison - Step 2</a></li>
<li class="chapter" data-level="1.2.16" data-path="index.html"><a href="index.html#advanced-selection"><i class="fa fa-check"></i><b>1.2.16</b> Advanced selection</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#matrices"><i class="fa fa-check"></i><b>1.3</b> Matrices</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#whats-a-matrix"><i class="fa fa-check"></i><b>1.3.1</b> What’s a matrix?</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#analyze-matrices-you-shall"><i class="fa fa-check"></i><b>1.3.2</b> Analyze matrices, you shall</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.3.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.3.4" data-path="index.html"><a href="index.html#calculating-the-worldwide-box-office"><i class="fa fa-check"></i><b>1.3.4</b> Calculating the worldwide box office</a></li>
<li class="chapter" data-level="1.3.5" data-path="index.html"><a href="index.html#using-dimnames"><i class="fa fa-check"></i><b>1.3.5</b> Using dimnames()</a></li>
<li class="chapter" data-level="1.3.6" data-path="index.html"><a href="index.html#adding-a-column-for-the-worldwide-box-office"><i class="fa fa-check"></i><b>1.3.6</b> Adding a column for the Worldwide box office</a></li>
<li class="chapter" data-level="1.3.7" data-path="index.html"><a href="index.html#adding-a-row"><i class="fa fa-check"></i><b>1.3.7</b> Adding a row</a></li>
<li class="chapter" data-level="1.3.8" data-path="index.html"><a href="index.html#the-total-box-office-revenue-for-the-entire-saga"><i class="fa fa-check"></i><b>1.3.8</b> The total box office revenue for the entire saga</a></li>
<li class="chapter" data-level="1.3.9" data-path="index.html"><a href="index.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.3.9</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.3.10" data-path="index.html"><a href="index.html#a-little-arithmetic-with-matrices"><i class="fa fa-check"></i><b>1.3.10</b> A little arithmetic with matrices</a></li>
<li class="chapter" data-level="1.3.11" data-path="index.html"><a href="index.html#a-little-arithmetic-with-matrices-2"><i class="fa fa-check"></i><b>1.3.11</b> A little arithmetic with matrices (2)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#factors"><i class="fa fa-check"></i><b>1.4</b> Factors</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it"><i class="fa fa-check"></i><b>1.4.1</b> What’s a factor and why would you use it?</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it-2"><i class="fa fa-check"></i><b>1.4.2</b> What’s a factor and why would you use it? (2)</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it-3"><i class="fa fa-check"></i><b>1.4.3</b> What’s a factor and why would you use it? (3)</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#factor-levels"><i class="fa fa-check"></i><b>1.4.4</b> Factor levels</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.4.5</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#battle-of-the-sexes"><i class="fa fa-check"></i><b>1.4.6</b> Battle of the sexes</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#ordered-factors"><i class="fa fa-check"></i><b>1.4.7</b> Ordered factors</a></li>
<li class="chapter" data-level="1.4.8" data-path="index.html"><a href="index.html#ordered-factors-2"><i class="fa fa-check"></i><b>1.4.8</b> Ordered factors (2)</a></li>
<li class="chapter" data-level="1.4.9" data-path="index.html"><a href="index.html#comparing-ordered-factors"><i class="fa fa-check"></i><b>1.4.9</b> Comparing ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#data-frames"><i class="fa fa-check"></i><b>1.5</b> Data frames</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#whats-a-data-frame"><i class="fa fa-check"></i><b>1.5.1</b> What’s a data frame?</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#quick-have-a-look-at-your-data-set"><i class="fa fa-check"></i><b>1.5.2</b> Quick, have a look at your data set</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#have-a-look-at-the-structure"><i class="fa fa-check"></i><b>1.5.3</b> Have a look at the structure</a></li>
<li class="chapter" data-level="1.5.4" data-path="index.html"><a href="index.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.5.4</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.5.5" data-path="index.html"><a href="index.html#creating-a-data-frame-2"><i class="fa fa-check"></i><b>1.5.5</b> Creating a data frame (2)</a></li>
<li class="chapter" data-level="1.5.6" data-path="index.html"><a href="index.html#selection-of-data-frame-elements"><i class="fa fa-check"></i><b>1.5.6</b> Selection of data frame elements</a></li>
<li class="chapter" data-level="1.5.7" data-path="index.html"><a href="index.html#selection-of-data-frame-elements-2"><i class="fa fa-check"></i><b>1.5.7</b> Selection of data frame elements (2)</a></li>
<li class="chapter" data-level="1.5.8" data-path="index.html"><a href="index.html#only-planets-with-rings"><i class="fa fa-check"></i><b>1.5.8</b> Only planets with rings</a></li>
<li class="chapter" data-level="1.5.9" data-path="index.html"><a href="index.html#only-planets-with-rings-2"><i class="fa fa-check"></i><b>1.5.9</b> Only planets with rings (2)</a></li>
<li class="chapter" data-level="1.5.10" data-path="index.html"><a href="index.html#only-planets-with-rings-but-shorter"><i class="fa fa-check"></i><b>1.5.10</b> Only planets with rings but shorter</a></li>
<li class="chapter" data-level="1.5.11" data-path="index.html"><a href="index.html#sorting"><i class="fa fa-check"></i><b>1.5.11</b> Sorting</a></li>
<li class="chapter" data-level="1.5.12" data-path="index.html"><a href="index.html#sorting-your-data-frame"><i class="fa fa-check"></i><b>1.5.12</b> Sorting your data frame</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#lists"><i class="fa fa-check"></i><b>1.6</b> Lists</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#lists-why-would-you-need-them"><i class="fa fa-check"></i><b>1.6.1</b> Lists, why would you need them?</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#lists-why-would-you-need-them-2"><i class="fa fa-check"></i><b>1.6.2</b> Lists, why would you need them? (2)</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#creating-a-list"><i class="fa fa-check"></i><b>1.6.3</b> Creating a list</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.6.4</b> Creating a named list</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#creating-a-named-list-2"><i class="fa fa-check"></i><b>1.6.5</b> Creating a named list (2)</a></li>
<li class="chapter" data-level="1.6.6" data-path="index.html"><a href="index.html#selecting-elements-from-a-list"><i class="fa fa-check"></i><b>1.6.6</b> Selecting elements from a list</a></li>
<li class="chapter" data-level="1.6.7" data-path="index.html"><a href="index.html#creating-a-new-list-for-another-movie"><i class="fa fa-check"></i><b>1.6.7</b> Creating a new list for another movie</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#challenge"><i class="fa fa-check"></i><b>1.7</b> Challenge</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#solutions"><i class="fa fa-check"></i><b>1.8</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Video: Relational Operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#equality"><i class="fa fa-check"></i><b>2.1.2</b> Equality</a></li>
<li class="chapter" data-level="2.1.3" data-path="intermediate-r.html"><a href="intermediate-r.html#greater-and-less-than"><i class="fa fa-check"></i><b>2.1.3</b> Greater and less than</a></li>
<li class="chapter" data-level="2.1.4" data-path="intermediate-r.html"><a href="intermediate-r.html#compare-vectors"><i class="fa fa-check"></i><b>2.1.4</b> Compare vectors</a></li>
<li class="chapter" data-level="2.1.5" data-path="intermediate-r.html"><a href="intermediate-r.html#compare-matrices"><i class="fa fa-check"></i><b>2.1.5</b> Compare matrices</a></li>
<li class="chapter" data-level="2.1.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-logical-operators"><i class="fa fa-check"></i><b>2.1.6</b> Video: Logical Operators</a></li>
<li class="chapter" data-level="2.1.7" data-path="intermediate-r.html"><a href="intermediate-r.html#and"><i class="fa fa-check"></i><b>2.1.7</b> &amp; and |</a></li>
<li class="chapter" data-level="2.1.8" data-path="intermediate-r.html"><a href="intermediate-r.html#and-2"><i class="fa fa-check"></i><b>2.1.8</b> &amp; and | (2)</a></li>
<li class="chapter" data-level="2.1.9" data-path="intermediate-r.html"><a href="intermediate-r.html#question-reverse-the-result"><i class="fa fa-check"></i><b>2.1.9</b> Question: Reverse the result: !</a></li>
<li class="chapter" data-level="2.1.10" data-path="intermediate-r.html"><a href="intermediate-r.html#blend-it-all-together"><i class="fa fa-check"></i><b>2.1.10</b> Blend it all together</a></li>
<li class="chapter" data-level="2.1.11" data-path="intermediate-r.html"><a href="intermediate-r.html#video-conditional-statements"><i class="fa fa-check"></i><b>2.1.11</b> Video: Conditional Statements</a></li>
<li class="chapter" data-level="2.1.12" data-path="intermediate-r.html"><a href="intermediate-r.html#the-if-statement"><i class="fa fa-check"></i><b>2.1.12</b> The if statement</a></li>
<li class="chapter" data-level="2.1.13" data-path="intermediate-r.html"><a href="intermediate-r.html#add-an-else"><i class="fa fa-check"></i><b>2.1.13</b> Add an else</a></li>
<li class="chapter" data-level="2.1.14" data-path="intermediate-r.html"><a href="intermediate-r.html#customize-further-else-if"><i class="fa fa-check"></i><b>2.1.14</b> Customize further: else if</a></li>
<li class="chapter" data-level="2.1.15" data-path="intermediate-r.html"><a href="intermediate-r.html#question-else-if-2.0"><i class="fa fa-check"></i><b>2.1.15</b> Question: Else if 2.0</a></li>
<li class="chapter" data-level="2.1.16" data-path="intermediate-r.html"><a href="intermediate-r.html#take-control"><i class="fa fa-check"></i><b>2.1.16</b> Take control!</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-while-loop"><i class="fa fa-check"></i><b>2.2.1</b> Video: While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#write-a-while-loop"><i class="fa fa-check"></i><b>2.2.2</b> Write a while loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#throw-in-more-conditionals"><i class="fa fa-check"></i><b>2.2.3</b> Throw in more conditionals</a></li>
<li class="chapter" data-level="2.2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#stop-the-while-loop-break"><i class="fa fa-check"></i><b>2.2.4</b> Stop the while loop: break</a></li>
<li class="chapter" data-level="2.2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#build-a-while-loop-from-scratch"><i class="fa fa-check"></i><b>2.2.5</b> Build a while loop from scratch</a></li>
<li class="chapter" data-level="2.2.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-for-loop"><i class="fa fa-check"></i><b>2.2.6</b> Video: For loop</a></li>
<li class="chapter" data-level="2.2.7" data-path="intermediate-r.html"><a href="intermediate-r.html#loop-over-a-list"><i class="fa fa-check"></i><b>2.2.7</b> Loop over a list</a></li>
<li class="chapter" data-level="2.2.8" data-path="intermediate-r.html"><a href="intermediate-r.html#loop-over-a-matrix"><i class="fa fa-check"></i><b>2.2.8</b> Loop over a matrix</a></li>
<li class="chapter" data-level="2.2.9" data-path="intermediate-r.html"><a href="intermediate-r.html#mix-it-up-with-control-flow"><i class="fa fa-check"></i><b>2.2.9</b> Mix it up with control flow</a></li>
<li class="chapter" data-level="2.2.10" data-path="intermediate-r.html"><a href="intermediate-r.html#next-you-break-it"><i class="fa fa-check"></i><b>2.2.10</b> Next, you break it</a></li>
<li class="chapter" data-level="2.2.11" data-path="intermediate-r.html"><a href="intermediate-r.html#build-a-for-loop-from-scratch"><i class="fa fa-check"></i><b>2.2.11</b> Build a for loop from scratch</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-introduction-to-functions"><i class="fa fa-check"></i><b>2.3.1</b> Video: Introduction to functions</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#function-documentation"><i class="fa fa-check"></i><b>2.3.2</b> Function documentation</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function"><i class="fa fa-check"></i><b>2.3.3</b> Use a function</a></li>
<li class="chapter" data-level="2.3.4" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function-2"><i class="fa fa-check"></i><b>2.3.4</b> Use a function (2)</a></li>
<li class="chapter" data-level="2.3.5" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function-3"><i class="fa fa-check"></i><b>2.3.5</b> Use a function (3)</a></li>
<li class="chapter" data-level="2.3.6" data-path="intermediate-r.html"><a href="intermediate-r.html#functions-inside-functions"><i class="fa fa-check"></i><b>2.3.6</b> Functions inside functions</a></li>
<li class="chapter" data-level="2.3.7" data-path="intermediate-r.html"><a href="intermediate-r.html#question-required-or-optional"><i class="fa fa-check"></i><b>2.3.7</b> Question: Required, or optional?</a></li>
<li class="chapter" data-level="2.3.8" data-path="intermediate-r.html"><a href="intermediate-r.html#video-writing-functions"><i class="fa fa-check"></i><b>2.3.8</b> Video: Writing functions</a></li>
<li class="chapter" data-level="2.3.9" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function"><i class="fa fa-check"></i><b>2.3.9</b> Write your own function</a></li>
<li class="chapter" data-level="2.3.10" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function-2"><i class="fa fa-check"></i><b>2.3.10</b> Write your own function (2)</a></li>
<li class="chapter" data-level="2.3.11" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function-3"><i class="fa fa-check"></i><b>2.3.11</b> Write your own function (3)</a></li>
<li class="chapter" data-level="2.3.12" data-path="intermediate-r.html"><a href="intermediate-r.html#question-function-scoping"><i class="fa fa-check"></i><b>2.3.12</b> Question: Function scoping</a></li>
<li class="chapter" data-level="2.3.13" data-path="intermediate-r.html"><a href="intermediate-r.html#question-r-passes-arguments-by-value"><i class="fa fa-check"></i><b>2.3.13</b> Question: R passes arguments by value</a></li>
<li class="chapter" data-level="2.3.14" data-path="intermediate-r.html"><a href="intermediate-r.html#r-you-functional"><i class="fa fa-check"></i><b>2.3.14</b> R you functional?</a></li>
<li class="chapter" data-level="2.3.15" data-path="intermediate-r.html"><a href="intermediate-r.html#r-you-functional-2"><i class="fa fa-check"></i><b>2.3.15</b> R you functional? (2)</a></li>
<li class="chapter" data-level="2.3.16" data-path="intermediate-r.html"><a href="intermediate-r.html#video-r-packages"><i class="fa fa-check"></i><b>2.3.16</b> Video: R packages</a></li>
<li class="chapter" data-level="2.3.17" data-path="intermediate-r.html"><a href="intermediate-r.html#load-an-r-package"><i class="fa fa-check"></i><b>2.3.17</b> Load an R Package</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-a-built-in-r-function"><i class="fa fa-check"></i><b>2.4.1</b> Use lapply with a built-in R function</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-your-own-function"><i class="fa fa-check"></i><b>2.4.2</b> Use lapply with your own function</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-and-anonymous-functions"><i class="fa fa-check"></i><b>2.4.3</b> lapply and anonymous functions</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-additional-arguments"><i class="fa fa-check"></i><b>2.4.4</b> Use lapply with additional arguments</a></li>
<li class="chapter" data-level="2.4.5" data-path="intermediate-r.html"><a href="intermediate-r.html#apply-functions-that-return-null"><i class="fa fa-check"></i><b>2.4.5</b> Apply functions that return NULL</a></li>
<li class="chapter" data-level="2.4.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-sapply"><i class="fa fa-check"></i><b>2.4.6</b> Video: sapply()</a></li>
<li class="chapter" data-level="2.4.7" data-path="intermediate-r.html"><a href="intermediate-r.html#how-to-use-sapply"><i class="fa fa-check"></i><b>2.4.7</b> How to use sapply</a></li>
<li class="chapter" data-level="2.4.8" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-your-own-function"><i class="fa fa-check"></i><b>2.4.8</b> sapply with your own function</a></li>
<li class="chapter" data-level="2.4.9" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-function-returning-vector"><i class="fa fa-check"></i><b>2.4.9</b> sapply with function returning vector</a></li>
<li class="chapter" data-level="2.4.10" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-cant-simplify-now-what"><i class="fa fa-check"></i><b>2.4.10</b> sapply can’t simplify, now what?</a></li>
<li class="chapter" data-level="2.4.11" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-functions-that-return-null"><i class="fa fa-check"></i><b>2.4.11</b> sapply with functions that return NULL</a></li>
<li class="chapter" data-level="2.4.12" data-path="intermediate-r.html"><a href="intermediate-r.html#reverse-engineering-sapply"><i class="fa fa-check"></i><b>2.4.12</b> Reverse engineering sapply</a></li>
<li class="chapter" data-level="2.4.13" data-path="intermediate-r.html"><a href="intermediate-r.html#video-vapply"><i class="fa fa-check"></i><b>2.4.13</b> Video: vapply</a></li>
<li class="chapter" data-level="2.4.14" data-path="intermediate-r.html"><a href="intermediate-r.html#use-vapply"><i class="fa fa-check"></i><b>2.4.14</b> Use vapply</a></li>
<li class="chapter" data-level="2.4.15" data-path="intermediate-r.html"><a href="intermediate-r.html#use-vapply-2"><i class="fa fa-check"></i><b>2.4.15</b> Use vapply (2)</a></li>
<li class="chapter" data-level="2.4.16" data-path="intermediate-r.html"><a href="intermediate-r.html#from-sapply-to-vapply"><i class="fa fa-check"></i><b>2.4.16</b> From sapply to vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-useful-functions"><i class="fa fa-check"></i><b>2.5.1</b> Video: Useful functions</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#find-the-error"><i class="fa fa-check"></i><b>2.5.3</b> Find the error</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#data-utilities"><i class="fa fa-check"></i><b>2.5.4</b> Data Utilities</a></li>
<li class="chapter" data-level="2.5.5" data-path="intermediate-r.html"><a href="intermediate-r.html#find-the-error-2"><i class="fa fa-check"></i><b>2.5.5</b> Find the error (2)</a></li>
<li class="chapter" data-level="2.5.6" data-path="intermediate-r.html"><a href="intermediate-r.html#beat-gauss-using-r"><i class="fa fa-check"></i><b>2.5.6</b> Beat Gauss using R</a></li>
<li class="chapter" data-level="2.5.7" data-path="intermediate-r.html"><a href="intermediate-r.html#video-regular-expressions"><i class="fa fa-check"></i><b>2.5.7</b> Video: Regular expressions</a></li>
<li class="chapter" data-level="2.5.8" data-path="intermediate-r.html"><a href="intermediate-r.html#grepl-grep"><i class="fa fa-check"></i><b>2.5.8</b> grepl &amp; grep</a></li>
<li class="chapter" data-level="2.5.9" data-path="intermediate-r.html"><a href="intermediate-r.html#grepl-grep-2"><i class="fa fa-check"></i><b>2.5.9</b> grepl &amp; grep (2)</a></li>
<li class="chapter" data-level="2.5.10" data-path="intermediate-r.html"><a href="intermediate-r.html#sub-gsub"><i class="fa fa-check"></i><b>2.5.10</b> sub &amp; gsub</a></li>
<li class="chapter" data-level="2.5.11" data-path="intermediate-r.html"><a href="intermediate-r.html#sub-gsub-2"><i class="fa fa-check"></i><b>2.5.11</b> sub &amp; gsub (2)</a></li>
<li class="chapter" data-level="2.5.12" data-path="intermediate-r.html"><a href="intermediate-r.html#video-times-dates"><i class="fa fa-check"></i><b>2.5.12</b> Video: Times &amp; Dates</a></li>
<li class="chapter" data-level="2.5.13" data-path="intermediate-r.html"><a href="intermediate-r.html#right-here-right-now"><i class="fa fa-check"></i><b>2.5.13</b> Right here, right now</a></li>
<li class="chapter" data-level="2.5.14" data-path="intermediate-r.html"><a href="intermediate-r.html#create-and-format-dates"><i class="fa fa-check"></i><b>2.5.14</b> Create and format dates</a></li>
<li class="chapter" data-level="2.5.15" data-path="intermediate-r.html"><a href="intermediate-r.html#create-and-format-times"><i class="fa fa-check"></i><b>2.5.15</b> Create and format times</a></li>
<li class="chapter" data-level="2.5.16" data-path="intermediate-r.html"><a href="intermediate-r.html#calculations-with-dates"><i class="fa fa-check"></i><b>2.5.16</b> Calculations with Dates</a></li>
<li class="chapter" data-level="2.5.17" data-path="intermediate-r.html"><a href="intermediate-r.html#calculations-with-times"><i class="fa fa-check"></i><b>2.5.17</b> Calculations with Times</a></li>
<li class="chapter" data-level="2.5.18" data-path="intermediate-r.html"><a href="intermediate-r.html#time-is-of-the-essence"><i class="fa fa-check"></i><b>2.5.18</b> Time is of the essence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>3</b> R Markdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-markdown.html"><a href="r-markdown.html#getting-started-with-r-markdown"><i class="fa fa-check"></i><b>3.1</b> Getting started with R Markdown</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-markdown.html"><a href="r-markdown.html#video-introduction-to-r-markdown"><i class="fa fa-check"></i><b>3.1.1</b> Video: Introduction to R Markdown</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-markdown.html"><a href="r-markdown.html#creating-your-first-r-markdown-file"><i class="fa fa-check"></i><b>3.1.2</b> Creating your first R Markdown file</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-markdown.html"><a href="r-markdown.html#adding-code-chunks-to-your-file"><i class="fa fa-check"></i><b>3.1.3</b> Adding code chunks to your file</a></li>
<li class="chapter" data-level="3.1.4" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-and-formatting-text"><i class="fa fa-check"></i><b>3.1.4</b> Video: Adding and formatting text</a></li>
<li class="chapter" data-level="3.1.5" data-path="r-markdown.html"><a href="r-markdown.html#question-formatting-text"><i class="fa fa-check"></i><b>3.1.5</b> Question: Formatting text</a></li>
<li class="chapter" data-level="3.1.6" data-path="r-markdown.html"><a href="r-markdown.html#adding-sections-to-your-report"><i class="fa fa-check"></i><b>3.1.6</b> Adding sections to your report</a></li>
<li class="chapter" data-level="3.1.7" data-path="r-markdown.html"><a href="r-markdown.html#question-including-links-and-images"><i class="fa fa-check"></i><b>3.1.7</b> Question: Including links and images</a></li>
<li class="chapter" data-level="3.1.8" data-path="r-markdown.html"><a href="r-markdown.html#video-the-yaml-header"><i class="fa fa-check"></i><b>3.1.8</b> Video: The YAML header</a></li>
<li class="chapter" data-level="3.1.9" data-path="r-markdown.html"><a href="r-markdown.html#editing-the-yaml-header"><i class="fa fa-check"></i><b>3.1.9</b> Editing the YAML header</a></li>
<li class="chapter" data-level="3.1.10" data-path="r-markdown.html"><a href="r-markdown.html#formatting-the-date"><i class="fa fa-check"></i><b>3.1.10</b> Formatting the date</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-markdown.html"><a href="r-markdown.html#adding-analyses-and-visualizations"><i class="fa fa-check"></i><b>3.2</b> Adding Analyses and Visualizations</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-markdown.html"><a href="r-markdown.html#video-analyzing-the-data"><i class="fa fa-check"></i><b>3.2.1</b> Video: Analyzing the data</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-markdown.html"><a href="r-markdown.html#filtering-for-a-specific-country"><i class="fa fa-check"></i><b>3.2.2</b> Filtering for a specific country</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-markdown.html"><a href="r-markdown.html#filtering-for-a-specific-year"><i class="fa fa-check"></i><b>3.2.3</b> Filtering for a specific year</a></li>
<li class="chapter" data-level="3.2.4" data-path="r-markdown.html"><a href="r-markdown.html#referencing-code-results-in-the-report"><i class="fa fa-check"></i><b>3.2.4</b> Referencing code results in the report</a></li>
<li class="chapter" data-level="3.2.5" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-plots"><i class="fa fa-check"></i><b>3.2.5</b> Video: Adding plots</a></li>
<li class="chapter" data-level="3.2.6" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-the-investment-annual-summary-data"><i class="fa fa-check"></i><b>3.2.6</b> Visualizing the Investment Annual Summary data</a></li>
<li class="chapter" data-level="3.2.7" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-all-projects-for-one-country"><i class="fa fa-check"></i><b>3.2.7</b> Visualizing all projects for one country</a></li>
<li class="chapter" data-level="3.2.8" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-all-projects-for-one-country-and-year"><i class="fa fa-check"></i><b>3.2.8</b> Visualizing all projects for one country and year</a></li>
<li class="chapter" data-level="3.2.9" data-path="r-markdown.html"><a href="r-markdown.html#video-plot-options"><i class="fa fa-check"></i><b>3.2.9</b> Video: Plot options</a></li>
<li class="chapter" data-level="3.2.10" data-path="r-markdown.html"><a href="r-markdown.html#setting-chunk-options-globally"><i class="fa fa-check"></i><b>3.2.10</b> Setting chunk options globally</a></li>
<li class="chapter" data-level="3.2.11" data-path="r-markdown.html"><a href="r-markdown.html#setting-chunk-options-locally"><i class="fa fa-check"></i><b>3.2.11</b> Setting chunk options locally</a></li>
<li class="chapter" data-level="3.2.12" data-path="r-markdown.html"><a href="r-markdown.html#adding-figure-captions"><i class="fa fa-check"></i><b>3.2.12</b> Adding figure captions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-markdown.html"><a href="r-markdown.html#improving-the-report"><i class="fa fa-check"></i><b>3.3</b> Improving the Report</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-markdown.html"><a href="r-markdown.html#video-organizing-the-report"><i class="fa fa-check"></i><b>3.3.1</b> Video: Organizing the report</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-bulleted-list"><i class="fa fa-check"></i><b>3.3.2</b> Creating a bulleted list</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-numbered-list"><i class="fa fa-check"></i><b>3.3.3</b> Creating a numbered list</a></li>
<li class="chapter" data-level="3.3.4" data-path="r-markdown.html"><a href="r-markdown.html#adding-a-table"><i class="fa fa-check"></i><b>3.3.4</b> Adding a table</a></li>
<li class="chapter" data-level="3.3.5" data-path="r-markdown.html"><a href="r-markdown.html#video-code-chunk-options"><i class="fa fa-check"></i><b>3.3.5</b> Video: Code chunk options</a></li>
<li class="chapter" data-level="3.3.6" data-path="r-markdown.html"><a href="r-markdown.html#question-comparing-code-chunk-options"><i class="fa fa-check"></i><b>3.3.6</b> Question: Comparing code chunk options</a></li>
<li class="chapter" data-level="3.3.7" data-path="r-markdown.html"><a href="r-markdown.html#collapsing-blocks-in-the-knit-report"><i class="fa fa-check"></i><b>3.3.7</b> Collapsing blocks in the knit report</a></li>
<li class="chapter" data-level="3.3.8" data-path="r-markdown.html"><a href="r-markdown.html#modifying-the-report-using-include-and-echo"><i class="fa fa-check"></i><b>3.3.8</b> Modifying the report using include and echo</a></li>
<li class="chapter" data-level="3.3.9" data-path="r-markdown.html"><a href="r-markdown.html#video-warnings-messages-and-errors"><i class="fa fa-check"></i><b>3.3.9</b> Video: Warnings, messages, and errors</a></li>
<li class="chapter" data-level="3.3.10" data-path="r-markdown.html"><a href="r-markdown.html#excluding-messages"><i class="fa fa-check"></i><b>3.3.10</b> Excluding messages</a></li>
<li class="chapter" data-level="3.3.11" data-path="r-markdown.html"><a href="r-markdown.html#excluding-warnings"><i class="fa fa-check"></i><b>3.3.11</b> Excluding warnings</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-report"><i class="fa fa-check"></i><b>3.4</b> Customizing the Report</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-a-table-of-contents"><i class="fa fa-check"></i><b>3.4.1</b> Video: Adding a table of contents</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-markdown.html"><a href="r-markdown.html#adding-the-table-of-contents"><i class="fa fa-check"></i><b>3.4.2</b> Adding the table of contents</a></li>
<li class="chapter" data-level="3.4.3" data-path="r-markdown.html"><a href="r-markdown.html#specifying-headers-and-number-sectioning"><i class="fa fa-check"></i><b>3.4.3</b> Specifying headers and number sectioning</a></li>
<li class="chapter" data-level="3.4.4" data-path="r-markdown.html"><a href="r-markdown.html#adding-table-of-contents-options"><i class="fa fa-check"></i><b>3.4.4</b> Adding table of contents options</a></li>
<li class="chapter" data-level="3.4.5" data-path="r-markdown.html"><a href="r-markdown.html#video-creating-a-report-with-a-parameter"><i class="fa fa-check"></i><b>3.4.5</b> Video: Creating a report with a parameter</a></li>
<li class="chapter" data-level="3.4.6" data-path="r-markdown.html"><a href="r-markdown.html#adding-a-parameter-to-the-report"><i class="fa fa-check"></i><b>3.4.6</b> Adding a parameter to the report</a></li>
<li class="chapter" data-level="3.4.7" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-report-using-a-parameter"><i class="fa fa-check"></i><b>3.4.7</b> Creating a new report using a parameter</a></li>
<li class="chapter" data-level="3.4.8" data-path="r-markdown.html"><a href="r-markdown.html#video-multiple-parameters"><i class="fa fa-check"></i><b>3.4.8</b> Video: Multiple parameters</a></li>
<li class="chapter" data-level="3.4.9" data-path="r-markdown.html"><a href="r-markdown.html#adding-multiple-parameters-to-the-report"><i class="fa fa-check"></i><b>3.4.9</b> Adding multiple parameters to the report</a></li>
<li class="chapter" data-level="3.4.10" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-report-using-multiple-parameters"><i class="fa fa-check"></i><b>3.4.10</b> Creating a new report using multiple parameters</a></li>
<li class="chapter" data-level="3.4.11" data-path="r-markdown.html"><a href="r-markdown.html#video-customizing-the-report"><i class="fa fa-check"></i><b>3.4.11</b> Video: Customizing the report</a></li>
<li class="chapter" data-level="3.4.12" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-report-style"><i class="fa fa-check"></i><b>3.4.12</b> Customizing the report style</a></li>
<li class="chapter" data-level="3.4.13" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-header-and-table-of-contents"><i class="fa fa-check"></i><b>3.4.13</b> Customizing the header and table of contents</a></li>
<li class="chapter" data-level="3.4.14" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-title-author-and-date"><i class="fa fa-check"></i><b>3.4.14</b> Customizing the title, author, and date</a></li>
<li class="chapter" data-level="3.4.15" data-path="r-markdown.html"><a href="r-markdown.html#referencing-the-css-file"><i class="fa fa-check"></i><b>3.4.15</b> Referencing the CSS file</a></li>
<li class="chapter" data-level="3.4.16" data-path="r-markdown.html"><a href="r-markdown.html#video-congratulations"><i class="fa fa-check"></i><b>3.4.16</b> Video: Congratulations!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#transforming-data-with-dplyr"><i class="fa fa-check"></i><b>4.1</b> Transforming Data with dplyr</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-counties-dataset"><i class="fa fa-check"></i><b>4.1.1</b> Video: The counties dataset</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-understanding-your-data"><i class="fa fa-check"></i><b>4.1.2</b> Question: Understanding your data</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-columns"><i class="fa fa-check"></i><b>4.1.3</b> Selecting columns</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-filter-and-arrange-verbs"><i class="fa fa-check"></i><b>4.1.4</b> Video: The filter and arrange verbs</a></li>
<li class="chapter" data-level="4.1.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#arranging-observations"><i class="fa fa-check"></i><b>4.1.5</b> Arranging observations</a></li>
<li class="chapter" data-level="4.1.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-for-conditions"><i class="fa fa-check"></i><b>4.1.6</b> Filtering for conditions</a></li>
<li class="chapter" data-level="4.1.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-and-arranging"><i class="fa fa-check"></i><b>4.1.7</b> Filtering and arranging</a></li>
<li class="chapter" data-level="4.1.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-mutate"><i class="fa fa-check"></i><b>4.1.8</b> Video: Mutate</a></li>
<li class="chapter" data-level="4.1.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#calculating-the-number-of-government-employees"><i class="fa fa-check"></i><b>4.1.9</b> Calculating the number of government employees</a></li>
<li class="chapter" data-level="4.1.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#calculating-the-percentage-of-women-in-a-county"><i class="fa fa-check"></i><b>4.1.10</b> Calculating the percentage of women in a county</a></li>
<li class="chapter" data-level="4.1.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#select-mutate-filter-and-arrange"><i class="fa fa-check"></i><b>4.1.11</b> Select, mutate, filter, and arrange</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-count-verb"><i class="fa fa-check"></i><b>4.2.1</b> Video: The count verb</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#counting-by-region"><i class="fa fa-check"></i><b>4.2.2</b> Counting by region</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#counting-citizens-by-state"><i class="fa fa-check"></i><b>4.2.3</b> Counting citizens by state</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#mutating-and-counting"><i class="fa fa-check"></i><b>4.2.4</b> Mutating and counting</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-group-by-summarize-and-ungroup-verbs"><i class="fa fa-check"></i><b>4.2.5</b> Video: The group by, summarize and ungroup verbs</a></li>
<li class="chapter" data-level="4.2.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#summarizing-by-state"><i class="fa fa-check"></i><b>4.2.6</b> Summarizing by state</a></li>
<li class="chapter" data-level="4.2.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#summarizing-by-state-and-region"><i class="fa fa-check"></i><b>4.2.7</b> Summarizing by state and region</a></li>
<li class="chapter" data-level="4.2.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-top_n-verb"><i class="fa fa-check"></i><b>4.2.8</b> Video: The top_n verb</a></li>
<li class="chapter" data-level="4.2.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-a-county-from-each-region"><i class="fa fa-check"></i><b>4.2.9</b> Selecting a county from each region</a></li>
<li class="chapter" data-level="4.2.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#finding-the-highest-income-state-in-each-region"><i class="fa fa-check"></i><b>4.2.10</b> Finding the highest-income state in each region</a></li>
<li class="chapter" data-level="4.2.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-summarize-top_n-and-count-together"><i class="fa fa-check"></i><b>4.2.11</b> Using summarize, top_n, and count together</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-selecting"><i class="fa fa-check"></i><b>4.3.1</b> Video: Selecting</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-columns-1"><i class="fa fa-check"></i><b>4.3.2</b> Selecting columns</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#select-helpers"><i class="fa fa-check"></i><b>4.3.3</b> Select helpers</a></li>
<li class="chapter" data-level="4.3.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-rename-verb"><i class="fa fa-check"></i><b>4.3.4</b> Video: The rename verb</a></li>
<li class="chapter" data-level="4.3.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#renaming-a-column-after-count"><i class="fa fa-check"></i><b>4.3.5</b> Renaming a column after count</a></li>
<li class="chapter" data-level="4.3.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#renaming-a-column-as-part-of-a-select"><i class="fa fa-check"></i><b>4.3.6</b> Renaming a column as part of a select</a></li>
<li class="chapter" data-level="4.3.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-transmute-verb"><i class="fa fa-check"></i><b>4.3.7</b> Video: The transmute verb</a></li>
<li class="chapter" data-level="4.3.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-choosing-among-verbs"><i class="fa fa-check"></i><b>4.3.8</b> Question: Choosing among verbs</a></li>
<li class="chapter" data-level="4.3.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-transmute"><i class="fa fa-check"></i><b>4.3.9</b> Using transmute</a></li>
<li class="chapter" data-level="4.3.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-matching-verbs-to-their-definitions"><i class="fa fa-check"></i><b>4.3.10</b> Question: Matching verbs to their definitions</a></li>
<li class="chapter" data-level="4.3.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#choosing-among-the-four-verbs"><i class="fa fa-check"></i><b>4.3.11</b> Choosing among the four verbs</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-babynames-data"><i class="fa fa-check"></i><b>4.4.1</b> Video: The babynames data</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-and-arranging-for-one-year"><i class="fa fa-check"></i><b>4.4.2</b> Filtering and arranging for one year</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-top_n-with-babynames"><i class="fa fa-check"></i><b>4.4.3</b> Using top_n with babynames</a></li>
<li class="chapter" data-level="4.4.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#visualizing-names-with-ggplot2"><i class="fa fa-check"></i><b>4.4.4</b> Visualizing names with ggplot2</a></li>
<li class="chapter" data-level="4.4.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-grouped-mutates"><i class="fa fa-check"></i><b>4.4.5</b> Video: Grouped mutates</a></li>
<li class="chapter" data-level="4.4.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#finding-the-year-each-name-is-most-common"><i class="fa fa-check"></i><b>4.4.6</b> Finding the year each name is most common</a></li>
<li class="chapter" data-level="4.4.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#adding-the-total-and-maximum-for-each-name"><i class="fa fa-check"></i><b>4.4.7</b> Adding the total and maximum for each name</a></li>
<li class="chapter" data-level="4.4.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#visualizing-the-normalized-change-in-popularity"><i class="fa fa-check"></i><b>4.4.8</b> Visualizing the normalized change in popularity</a></li>
<li class="chapter" data-level="4.4.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-window-functions"><i class="fa fa-check"></i><b>4.4.9</b> Video: Window functions</a></li>
<li class="chapter" data-level="4.4.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-ratios-to-describe-the-frequency-of-a-name"><i class="fa fa-check"></i><b>4.4.10</b> Using ratios to describe the frequency of a name</a></li>
<li class="chapter" data-level="4.4.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#biggest-jumps-in-a-name"><i class="fa fa-check"></i><b>4.4.11</b> Biggest jumps in a name</a></li>
<li class="chapter" data-level="4.4.12" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-contratulations"><i class="fa fa-check"></i><b>4.4.12</b> Video: Contratulations!</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#challenge-1"><i class="fa fa-check"></i><b>4.5</b> Challenge</a></li>
<li class="chapter" data-level="4.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#solutions-1"><i class="fa fa-check"></i><b>4.6</b> Solutions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-1"><i class="fa fa-check"></i><b>4.6.1</b> Question 1</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-2"><i class="fa fa-check"></i><b>4.6.2</b> Question 2</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-3"><i class="fa fa-check"></i><b>4.6.3</b> Question 3</a></li>
<li class="chapter" data-level="4.6.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-4"><i class="fa fa-check"></i><b>4.6.4</b> Question 4</a></li>
<li class="chapter" data-level="4.6.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-5"><i class="fa fa-check"></i><b>4.6.5</b> Question 5</a></li>
<li class="chapter" data-level="4.6.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-6"><i class="fa fa-check"></i><b>4.6.6</b> Question 6</a></li>
<li class="chapter" data-level="4.6.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-7"><i class="fa fa-check"></i><b>4.6.7</b> Question 7</a></li>
<li class="chapter" data-level="4.6.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-8"><i class="fa fa-check"></i><b>4.6.8</b> Question 8</a></li>
<li class="chapter" data-level="4.6.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-9"><i class="fa fa-check"></i><b>4.6.9</b> Question 9</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>5</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>5.1</b> 1: Common Data Problems</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-data-type-constraints"><i class="fa fa-check"></i><b>5.1.1</b> Video: Data type constraints</a></li>
<li class="chapter" data-level="5.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-common-data-types"><i class="fa fa-check"></i><b>5.1.2</b> Question: Common data types</a></li>
<li class="chapter" data-level="5.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#converting-data-types"><i class="fa fa-check"></i><b>5.1.3</b> Converting data types</a></li>
<li class="chapter" data-level="5.1.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#trimming-strings"><i class="fa fa-check"></i><b>5.1.4</b> Trimming strings</a></li>
<li class="chapter" data-level="5.1.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-range-constraints"><i class="fa fa-check"></i><b>5.1.5</b> Video: Range constraints</a></li>
<li class="chapter" data-level="5.1.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#ride-duration-constraints"><i class="fa fa-check"></i><b>5.1.6</b> Ride duration constraints</a></li>
<li class="chapter" data-level="5.1.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#back-to-the-future"><i class="fa fa-check"></i><b>5.1.7</b> Back to the future</a></li>
<li class="chapter" data-level="5.1.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-uniqueness-constraints"><i class="fa fa-check"></i><b>5.1.8</b> Video: Uniqueness constraints</a></li>
<li class="chapter" data-level="5.1.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#full-duplicates"><i class="fa fa-check"></i><b>5.1.9</b> Full duplicates</a></li>
<li class="chapter" data-level="5.1.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#removing-partial-duplicates"><i class="fa fa-check"></i><b>5.1.10</b> Removing partial duplicates</a></li>
<li class="chapter" data-level="5.1.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#aggregating-partial-duplicates"><i class="fa fa-check"></i><b>5.1.11</b> Aggregating partial duplicates</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>5.2</b> 2: Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-checking-membership"><i class="fa fa-check"></i><b>5.2.1</b> Video: Checking membership</a></li>
<li class="chapter" data-level="5.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-members-only"><i class="fa fa-check"></i><b>5.2.2</b> Question: Members only</a></li>
<li class="chapter" data-level="5.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#not-a-member"><i class="fa fa-check"></i><b>5.2.3</b> Not a member</a></li>
<li class="chapter" data-level="5.2.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-categorical-data-problems"><i class="fa fa-check"></i><b>5.2.4</b> Video: Categorical data problems</a></li>
<li class="chapter" data-level="5.2.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#identifying-inconsistency"><i class="fa fa-check"></i><b>5.2.5</b> Identifying inconsistency</a></li>
<li class="chapter" data-level="5.2.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#correcting-inconsistency"><i class="fa fa-check"></i><b>5.2.6</b> Correcting inconsistency</a></li>
<li class="chapter" data-level="5.2.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#collapsing-categories"><i class="fa fa-check"></i><b>5.2.7</b> Collapsing categories</a></li>
<li class="chapter" data-level="5.2.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-cleaning-text-data"><i class="fa fa-check"></i><b>5.2.8</b> Video: Cleaning text data</a></li>
<li class="chapter" data-level="5.2.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#detecting-inconsistent-text-data"><i class="fa fa-check"></i><b>5.2.9</b> Detecting inconsistent text data</a></li>
<li class="chapter" data-level="5.2.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#replacing-and-removing"><i class="fa fa-check"></i><b>5.2.10</b> Replacing and removing</a></li>
<li class="chapter" data-level="5.2.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#invalid-phone-numbers"><i class="fa fa-check"></i><b>5.2.11</b> Invalid phone numbers</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>5.3</b> 3: Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#date-uniformity"><i class="fa fa-check"></i><b>5.3.1</b> Date uniformity</a></li>
<li class="chapter" data-level="5.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#currency-uniformity"><i class="fa fa-check"></i><b>5.3.2</b> Currency uniformity</a></li>
<li class="chapter" data-level="5.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-cross-field-validation"><i class="fa fa-check"></i><b>5.3.3</b> Video: Cross field validation</a></li>
<li class="chapter" data-level="5.3.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#validating-totals"><i class="fa fa-check"></i><b>5.3.4</b> Validating totals</a></li>
<li class="chapter" data-level="5.3.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#validating-age"><i class="fa fa-check"></i><b>5.3.5</b> Validating age</a></li>
<li class="chapter" data-level="5.3.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-completeness"><i class="fa fa-check"></i><b>5.3.6</b> Video: Completeness</a></li>
<li class="chapter" data-level="5.3.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-types-of-missingness"><i class="fa fa-check"></i><b>5.3.7</b> Question: Types of missingness</a></li>
<li class="chapter" data-level="5.3.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#visualizing-missing-data"><i class="fa fa-check"></i><b>5.3.8</b> Visualizing missing data</a></li>
<li class="chapter" data-level="5.3.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#treating-missing-data"><i class="fa fa-check"></i><b>5.3.9</b> Treating missing data</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>5.4</b> 4: Record Linkage</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#calculating-distance"><i class="fa fa-check"></i><b>5.4.1</b> Calculating distance</a></li>
<li class="chapter" data-level="5.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#small-distance-small-difference"><i class="fa fa-check"></i><b>5.4.2</b> Small distance, small difference</a></li>
<li class="chapter" data-level="5.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#fixing-typos-with-string-distance"><i class="fa fa-check"></i><b>5.4.3</b> Fixing typos with string distance</a></li>
<li class="chapter" data-level="5.4.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-generating-and-comparing-pairs"><i class="fa fa-check"></i><b>5.4.4</b> Video: Generating and comparing pairs</a></li>
<li class="chapter" data-level="5.4.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#exercise-link-or-join"><i class="fa fa-check"></i><b>5.4.5</b> Exercise: Link or join?</a></li>
<li class="chapter" data-level="5.4.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#pair-blocking"><i class="fa fa-check"></i><b>5.4.6</b> Pair blocking</a></li>
<li class="chapter" data-level="5.4.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-pairs"><i class="fa fa-check"></i><b>5.4.7</b> Comparing pairs</a></li>
<li class="chapter" data-level="5.4.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-scoring-and-linking"><i class="fa fa-check"></i><b>5.4.8</b> Video: Scoring and linking</a></li>
<li class="chapter" data-level="5.4.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#score-then-select-or-select-then-score"><i class="fa fa-check"></i><b>5.4.9</b> Score then select or select then score?</a></li>
<li class="chapter" data-level="5.4.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#putting-it-together"><i class="fa fa-check"></i><b>5.4.10</b> Putting it together</a></li>
<li class="chapter" data-level="5.4.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-congratulations-1"><i class="fa fa-check"></i><b>5.4.11</b> Video: Congratulations!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Introduction to Data Visualization with ggplot2</a></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#comics"><i class="fa fa-check"></i><b>7.1</b> Comics</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-exploring-categorical-data"><i class="fa fa-check"></i><b>7.1.1</b> Video: Exploring categorical data</a></li>
<li class="chapter" data-level="7.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-bar-chart-expectations"><i class="fa fa-check"></i><b>7.1.2</b> Question: Bar chart expectations</a></li>
<li class="chapter" data-level="7.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#contingency-table-review"><i class="fa fa-check"></i><b>7.1.3</b> Contingency table review</a></li>
<li class="chapter" data-level="7.1.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#dropping-levels"><i class="fa fa-check"></i><b>7.1.4</b> Dropping levels</a></li>
<li class="chapter" data-level="7.1.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#side-by-side-barcharts"><i class="fa fa-check"></i><b>7.1.5</b> Side-by-side barcharts</a></li>
<li class="chapter" data-level="7.1.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-bar-chart-interpretation"><i class="fa fa-check"></i><b>7.1.6</b> Question: Bar chart interpretation</a></li>
<li class="chapter" data-level="7.1.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-counts-vs.-proportions"><i class="fa fa-check"></i><b>7.1.7</b> Video: Counts vs. proportions</a></li>
<li class="chapter" data-level="7.1.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-conditional-proportions"><i class="fa fa-check"></i><b>7.1.8</b> Question: Conditional proportions</a></li>
<li class="chapter" data-level="7.1.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions-2"><i class="fa fa-check"></i><b>7.1.9</b> Counts vs. proportions (2)</a></li>
<li class="chapter" data-level="7.1.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-distribution-of-one-variable"><i class="fa fa-check"></i><b>7.1.10</b> Video: Distribution of one variable</a></li>
<li class="chapter" data-level="7.1.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#marginal-barchart"><i class="fa fa-check"></i><b>7.1.11</b> Marginal barchart</a></li>
<li class="chapter" data-level="7.1.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#conditional-barchart"><i class="fa fa-check"></i><b>7.1.12</b> Conditional barchart</a></li>
<li class="chapter" data-level="7.1.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#improve-piechart"><i class="fa fa-check"></i><b>7.1.13</b> Improve piechart</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#cars"><i class="fa fa-check"></i><b>7.2</b> Cars</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-exploring-numerical-data"><i class="fa fa-check"></i><b>7.2.1</b> Video: Exploring numerical data</a></li>
<li class="chapter" data-level="7.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceted-histogram"><i class="fa fa-check"></i><b>7.2.2</b> Faceted histogram</a></li>
<li class="chapter" data-level="7.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#boxplots-and-density-plots"><i class="fa fa-check"></i><b>7.2.3</b> Boxplots and density plots</a></li>
<li class="chapter" data-level="7.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#compare-distribution-via-plots"><i class="fa fa-check"></i><b>7.2.4</b> Compare distribution via plots</a></li>
<li class="chapter" data-level="7.2.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-distribution-of-one-variable-1"><i class="fa fa-check"></i><b>7.2.5</b> Video: Distribution of one variable</a></li>
<li class="chapter" data-level="7.2.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#marginal-and-conditional-histograms"><i class="fa fa-check"></i><b>7.2.6</b> Marginal and conditional histograms</a></li>
<li class="chapter" data-level="7.2.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-marginal-and-conditional-histograms-interpretation"><i class="fa fa-check"></i><b>7.2.7</b> Question: Marginal and conditional histograms interpretation</a></li>
<li class="chapter" data-level="7.2.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#three-binwidths"><i class="fa fa-check"></i><b>7.2.8</b> Three binwidths</a></li>
<li class="chapter" data-level="7.2.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-three-binwidths-interpretation"><i class="fa fa-check"></i><b>7.2.9</b> Question: Three binwidths interpretation</a></li>
<li class="chapter" data-level="7.2.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-box-plots"><i class="fa fa-check"></i><b>7.2.10</b> Video: Box plots</a></li>
<li class="chapter" data-level="7.2.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-for-outliers"><i class="fa fa-check"></i><b>7.2.11</b> Box plots for outliers</a></li>
<li class="chapter" data-level="7.2.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plot-selection"><i class="fa fa-check"></i><b>7.2.12</b> Plot selection</a></li>
<li class="chapter" data-level="7.2.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualization-in-higher-dimensions"><i class="fa fa-check"></i><b>7.2.13</b> Video: Visualization in higher dimensions</a></li>
<li class="chapter" data-level="7.2.14" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#variable-plot"><i class="fa fa-check"></i><b>7.2.14</b> 3 variable plot</a></li>
<li class="chapter" data-level="7.2.15" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-interpret-3-var-plot"><i class="fa fa-check"></i><b>7.2.15</b> Question: Interpret 3 var plot</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#gapminder"><i class="fa fa-check"></i><b>7.3</b> Gapminder</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-measures-of-center"><i class="fa fa-check"></i><b>7.3.1</b> Video: Measures of center</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-choice-of-center-measure"><i class="fa fa-check"></i><b>7.3.2</b> Question: Choice of center measure</a></li>
<li class="chapter" data-level="7.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#calculate-center-measures"><i class="fa fa-check"></i><b>7.3.3</b> Calculate center measures</a></li>
<li class="chapter" data-level="7.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-measures-of-variability"><i class="fa fa-check"></i><b>7.3.4</b> Video: Measures of variability</a></li>
<li class="chapter" data-level="7.3.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#calculate-spread-measures"><i class="fa fa-check"></i><b>7.3.5</b> Calculate spread measures</a></li>
<li class="chapter" data-level="7.3.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choose-measures-for-center-and-spread"><i class="fa fa-check"></i><b>7.3.6</b> Choose measures for center and spread</a></li>
<li class="chapter" data-level="7.3.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-shape-and-transformations"><i class="fa fa-check"></i><b>7.3.7</b> Video: Shape and transformations</a></li>
<li class="chapter" data-level="7.3.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#describe-the-shape"><i class="fa fa-check"></i><b>7.3.8</b> Describe the shape</a></li>
<li class="chapter" data-level="7.3.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#transformations"><i class="fa fa-check"></i><b>7.3.9</b> Transformations</a></li>
<li class="chapter" data-level="7.3.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-outliers"><i class="fa fa-check"></i><b>7.3.10</b> Video: Outliers</a></li>
<li class="chapter" data-level="7.3.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#identify-outliers"><i class="fa fa-check"></i><b>7.3.11</b> Identify outliers</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#email"><i class="fa fa-check"></i><b>7.4</b> Email</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-introducing-the-data"><i class="fa fa-check"></i><b>7.4.1</b> Video: Introducing the data</a></li>
<li class="chapter" data-level="7.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-num_char"><i class="fa fa-check"></i><b>7.4.2</b> Spam and num_char</a></li>
<li class="chapter" data-level="7.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-num_char-interpretation"><i class="fa fa-check"></i><b>7.4.3</b> Spam and num_char interpretation</a></li>
<li class="chapter" data-level="7.4.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and"><i class="fa fa-check"></i><b>7.4.4</b> Spam and !!!</a></li>
<li class="chapter" data-level="7.4.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-interpretation"><i class="fa fa-check"></i><b>7.4.5</b> Spam and !!! interpretation</a></li>
<li class="chapter" data-level="7.4.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-check-in-1"><i class="fa fa-check"></i><b>7.4.6</b> Video: Check-in 1</a></li>
<li class="chapter" data-level="7.4.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#collapsing-levels"><i class="fa fa-check"></i><b>7.4.7</b> Collapsing levels</a></li>
<li class="chapter" data-level="7.4.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-image-and-spam-interpretation"><i class="fa fa-check"></i><b>7.4.8</b> Question: Image and spam interpretation</a></li>
<li class="chapter" data-level="7.4.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#data-integrity"><i class="fa fa-check"></i><b>7.4.9</b> Data Integrity</a></li>
<li class="chapter" data-level="7.4.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#answering-questions-with-chains"><i class="fa fa-check"></i><b>7.4.10</b> Answering questions with chains</a></li>
<li class="chapter" data-level="7.4.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-check-in-2"><i class="fa fa-check"></i><b>7.4.11</b> Video: Check-in 2</a></li>
<li class="chapter" data-level="7.4.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#whats-in-a-number"><i class="fa fa-check"></i><b>7.4.12</b> What’s in a number?</a></li>
<li class="chapter" data-level="7.4.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#whats-in-a-number-interpretation"><i class="fa fa-check"></i><b>7.4.13</b> What’s in a number interpretation</a></li>
<li class="chapter" data-level="7.4.14" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-conclusion"><i class="fa fa-check"></i><b>7.4.14</b> Video: Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#challenge-2"><i class="fa fa-check"></i><b>7.5</b> Challenge</a></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-1-data-cleaning-and-summarizing-with-dplyr"><i class="fa fa-check"></i><b>7.6</b> Solutions 1: Data cleaning and summarizing with dplyr</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-the-united-nations-voting-dataset"><i class="fa fa-check"></i><b>7.6.1</b> Video: The United Nations Voting Dataset</a></li>
<li class="chapter" data-level="7.6.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#filtering-rows"><i class="fa fa-check"></i><b>7.6.2</b> Filtering rows</a></li>
<li class="chapter" data-level="7.6.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#adding-a-year-column"><i class="fa fa-check"></i><b>7.6.3</b> Adding a year column</a></li>
<li class="chapter" data-level="7.6.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#adding-a-country-column"><i class="fa fa-check"></i><b>7.6.4</b> Adding a country column</a></li>
<li class="chapter" data-level="7.6.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-grouping-and-summarizing"><i class="fa fa-check"></i><b>7.6.5</b> Video: Grouping and summarizing</a></li>
<li class="chapter" data-level="7.6.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-the-full-dataset"><i class="fa fa-check"></i><b>7.6.6</b> Summarizing the full dataset</a></li>
<li class="chapter" data-level="7.6.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-year"><i class="fa fa-check"></i><b>7.6.7</b> Summarizing by year</a></li>
<li class="chapter" data-level="7.6.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-country"><i class="fa fa-check"></i><b>7.6.8</b> Summarizing by country</a></li>
<li class="chapter" data-level="7.6.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-sorting-and-filtering-summarized-data"><i class="fa fa-check"></i><b>7.6.9</b> Video: Sorting and filtering summarized data</a></li>
<li class="chapter" data-level="7.6.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#sorting-by-percentage-of-yes-votes"><i class="fa fa-check"></i><b>7.6.10</b> Sorting by percentage of “yes” votes</a></li>
<li class="chapter" data-level="7.6.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#filtering-summarized-output"><i class="fa fa-check"></i><b>7.6.11</b> Filtering summarized output</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-2-visualization-with-ggplot2"><i class="fa fa-check"></i><b>7.7</b> Solutions 2: Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualization-with-ggplot2"><i class="fa fa-check"></i><b>7.7.1</b> Video: Visualization with ggplot2</a></li>
<li class="chapter" data-level="7.7.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choosing-an-aesthetic"><i class="fa fa-check"></i><b>7.7.2</b> Choosing an aesthetic</a></li>
<li class="chapter" data-level="7.7.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#other-ggplot2-layers"><i class="fa fa-check"></i><b>7.7.3</b> Other ggplot2 layers</a></li>
<li class="chapter" data-level="7.7.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualizing-by-country"><i class="fa fa-check"></i><b>7.7.4</b> Video: Visualizing by country</a></li>
<li class="chapter" data-level="7.7.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-year-and-country"><i class="fa fa-check"></i><b>7.7.5</b> Summarizing by year and country</a></li>
<li class="chapter" data-level="7.7.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plotting-just-the-uk-over-time"><i class="fa fa-check"></i><b>7.7.6</b> Plotting just the UK over time</a></li>
<li class="chapter" data-level="7.7.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plotting-multiple-countries"><i class="fa fa-check"></i><b>7.7.7</b> Plotting multiple countries</a></li>
<li class="chapter" data-level="7.7.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-faceting-by-country"><i class="fa fa-check"></i><b>7.7.8</b> Video: Faceting by country</a></li>
<li class="chapter" data-level="7.7.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceting-the-time-series"><i class="fa fa-check"></i><b>7.7.9</b> Faceting the time series</a></li>
<li class="chapter" data-level="7.7.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceting-with-free-y-axis"><i class="fa fa-check"></i><b>7.7.10</b> Faceting with free y-axis</a></li>
<li class="chapter" data-level="7.7.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choose-your-own-countries"><i class="fa fa-check"></i><b>7.7.11</b> Choose your own countries</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-3-tidy-modeling-with-broom"><i class="fa fa-check"></i><b>7.8</b> Solutions 3: Tidy modeling with broom</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-linear-regression"><i class="fa fa-check"></i><b>7.8.1</b> Video: Linear regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="correlation-and-regression-in-r.html"><a href="correlation-and-regression-in-r.html"><i class="fa fa-check"></i><b>8</b> Correlation and Regression in R</a></li>
<li class="chapter" data-level="9" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>9</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="9.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>9.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#video-stats-with-geoms"><i class="fa fa-check"></i><b>9.1.1</b> Video: Stats with geoms</a></li>
<li class="chapter" data-level="9.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#smoothing"><i class="fa fa-check"></i><b>9.1.2</b> Smoothing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tree-based-models-in-r.html"><a href="tree-based-models-in-r.html"><i class="fa fa-check"></i><b>10</b> Tree-Based Models in R</a></li>
<li class="chapter" data-level="11" data-path="end-of-semester-project.html"><a href="end-of-semester-project.html"><i class="fa fa-check"></i><b>11</b> End-of-semester project</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming for Business</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-manipulation-with-dplyr" class="section level1" number="4">
<h1><span class="header-section-number">Module 4</span> Data Manipulation with dplyr</h1>
<p>Say you’ve found a great dataset and would like to learn more about it. How can you start to answer the questions you have about the data? You can use dplyr to answer those questions—it can also help with basic transformations of your data. You’ll also learn to aggregate your data and add, remove, or change the variables. Along the way, you’ll explore a dataset containing information about counties in the United States. You’ll finish the course by applying these tools to the babynames dataset to explore trends of baby names in the United States.</p>
<div id="transforming-data-with-dplyr" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Transforming Data with dplyr</h2>
<p>Learn verbs you can use to transform your data, including select, filter, arrange, and mutate. You’ll use these functions to modify the counties dataset to view particular observations and answer questions about the data.</p>
<div id="video-the-counties-dataset" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Video: The counties dataset</h3>
</div>
<div id="question-understanding-your-data" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Question: Understanding your data</h3>
<div id="load-the-counties-data-set-and-the-dplyr-package" class="section level4" number="4.1.2.1">
<h4><span class="header-section-number">4.1.2.1</span> Load the <code>counties</code> data set and the <code>dplyr</code> package</h4>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="data-manipulation-with-dplyr.html#cb533-1" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_acs2015_county_data.csv&quot;</span>)</span>
<span id="cb533-2"><a href="data-manipulation-with-dplyr.html#cb533-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<p>Take a look at the <code>counties</code> dataset using the <code>glimpse()</code> function.</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb534-1"><a href="data-manipulation-with-dplyr.html#cb534-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(counties)</span></code></pre></div>
<pre><code>## Observations: 3,141
## Variables: 40
## $ census_id          &lt;int&gt; 1001, 1003, 1005, 1007, 1009, 1011, 10...
## $ state              &lt;fct&gt; Alabama, Alabama, Alabama, Alabama, Al...
## $ county             &lt;fct&gt; Autauga, Baldwin, Barbour, Bibb, Bloun...
## $ region             &lt;fct&gt; South, South, South, South, South, Sou...
## $ metro              &lt;fct&gt; , , , , , , , , , , , , , , , , , , , ...
## $ population         &lt;int&gt; 55221, 195121, 26932, 22604, 57710, 10...
## $ men                &lt;int&gt; 26745, 95314, 14497, 12073, 28512, 566...
## $ women              &lt;int&gt; 28476, 99807, 12435, 10531, 29198, 501...
## $ hispanic           &lt;dbl&gt; 2.6, 4.5, 4.6, 2.2, 8.6, 4.4, 1.2, 3.5...
## $ white              &lt;dbl&gt; 75.8, 83.1, 46.2, 74.5, 87.9, 22.2, 53...
## $ black              &lt;dbl&gt; 18.5, 9.5, 46.7, 21.4, 1.5, 70.7, 43.8...
## $ native             &lt;dbl&gt; 0.4, 0.6, 0.2, 0.4, 0.3, 1.2, 0.1, 0.2...
## $ asian              &lt;dbl&gt; 1.0, 0.7, 0.4, 0.1, 0.1, 0.2, 0.4, 0.9...
## $ pacific            &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0...
## $ citizens           &lt;int&gt; 40725, 147695, 20714, 17495, 42345, 80...
## $ income             &lt;int&gt; 51281, 50254, 32964, 38678, 45813, 319...
## $ income_err         &lt;int&gt; 2391, 1263, 2973, 3995, 3141, 5884, 17...
## $ income_per_cap     &lt;int&gt; 24974, 27317, 16824, 18431, 20532, 175...
## $ income_per_cap_err &lt;int&gt; 1080, 711, 798, 1618, 708, 2055, 714, ...
## $ poverty            &lt;dbl&gt; 12.9, 13.4, 26.7, 16.8, 16.7, 24.6, 25...
## $ child_poverty      &lt;dbl&gt; 18.6, 19.2, 45.3, 27.9, 27.2, 38.4, 39...
## $ professional       &lt;dbl&gt; 33.2, 33.1, 26.8, 21.5, 28.5, 18.8, 27...
## $ service            &lt;dbl&gt; 17.0, 17.7, 16.1, 17.9, 14.1, 15.0, 16...
## $ office             &lt;dbl&gt; 24.2, 27.1, 23.1, 17.8, 23.9, 19.7, 21...
## $ construction       &lt;dbl&gt; 8.6, 10.8, 10.8, 19.0, 13.5, 20.1, 10....
## $ production         &lt;dbl&gt; 17.1, 11.2, 23.1, 23.7, 19.9, 26.4, 23...
## $ drive              &lt;dbl&gt; 87.5, 84.7, 83.8, 83.2, 84.9, 74.9, 84...
## $ carpool            &lt;dbl&gt; 8.8, 8.8, 10.9, 13.5, 11.2, 14.9, 12.4...
## $ transit            &lt;dbl&gt; 0.1, 0.1, 0.4, 0.5, 0.4, 0.7, 0.0, 0.2...
## $ walk               &lt;dbl&gt; 0.5, 1.0, 1.8, 0.6, 0.9, 5.0, 0.8, 1.2...
## $ other_transp       &lt;dbl&gt; 1.3, 1.4, 1.5, 1.5, 0.4, 1.7, 0.6, 1.2...
## $ work_at_home       &lt;dbl&gt; 1.8, 3.9, 1.6, 0.7, 2.3, 2.8, 1.7, 2.7...
## $ mean_commute       &lt;dbl&gt; 26.5, 26.4, 24.1, 28.8, 34.9, 27.5, 24...
## $ employed           &lt;int&gt; 23986, 85953, 8597, 8294, 22189, 3865,...
## $ private_work       &lt;dbl&gt; 73.6, 81.5, 71.8, 76.8, 82.0, 79.5, 77...
## $ public_work        &lt;dbl&gt; 20.9, 12.3, 20.8, 16.1, 13.5, 15.1, 16...
## $ self_employed      &lt;dbl&gt; 5.5, 5.8, 7.3, 6.7, 4.2, 5.4, 6.2, 5.0...
## $ family_work        &lt;dbl&gt; 0.0, 0.4, 0.1, 0.4, 0.4, 0.0, 0.2, 0.1...
## $ unemployment       &lt;dbl&gt; 7.6, 7.5, 17.6, 8.3, 7.7, 18.0, 10.9, ...
## $ land_area          &lt;dbl&gt; 594.44, 1589.78, 884.88, 622.58, 644.7...</code></pre>
</div>
</div>
<div id="selecting-columns" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Selecting columns</h3>
<p>Select the following four columns from the <code>counties</code> variable:</p>
<ul>
<li><code>state</code></li>
<li><code>county</code></li>
<li><code>population</code></li>
<li><code>poverty</code></li>
</ul>
<p>You don’t need to save the result to a variable.</p>
<div id="select-the-columns" class="section level4" number="4.1.3.1">
<h4><span class="header-section-number">4.1.3.1</span> Select the columns</h4>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb536-1"><a href="data-manipulation-with-dplyr.html#cb536-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb536-2"><a href="data-manipulation-with-dplyr.html#cb536-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, poverty)</span></code></pre></div>
<p>Recall that if you want to keep the data you’ve selected, you can use assignment to create a new table.</p>
</div>
</div>
<div id="video-the-filter-and-arrange-verbs" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Video: The filter and arrange verbs</h3>
</div>
<div id="arranging-observations" class="section level3" number="4.1.5">
<h3><span class="header-section-number">4.1.5</span> Arranging observations</h3>
<p>Here you see the <code>counties_selected dataset</code> with a few interesting variables selected. These variables: <code>private_work</code>, <code>public_work</code>, <code>self_employed</code> describe whether people work for the government, for private companies, or for themselves.</p>
<p>In these exercises, you’ll sort these observations to find the most interesting cases.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="data-manipulation-with-dplyr.html#cb537-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb537-2"><a href="data-manipulation-with-dplyr.html#cb537-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, private_work, public_work, self_employed)</span></code></pre></div>
<div id="add-a-verb-to-sort-in-descending-order-of-public_work" class="section level4" number="4.1.5.1">
<h4><span class="header-section-number">4.1.5.1</span> Add a verb to sort in descending order of public_work</h4>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb538-1"><a href="data-manipulation-with-dplyr.html#cb538-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb538-2"><a href="data-manipulation-with-dplyr.html#cb538-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(public_work))</span></code></pre></div>
<p>We sorted the counties in descending order according to <code>public_work</code>. What if we were interested in looking at observations in counties that have a large population or within a specific state? Let’s take a look at that next!</p>
</div>
</div>
<div id="filtering-for-conditions" class="section level3" number="4.1.6">
<h3><span class="header-section-number">4.1.6</span> Filtering for conditions</h3>
<p>You use the <code>filter()</code> verb to get only observations that match a particular condition, or match multiple conditions.</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="data-manipulation-with-dplyr.html#cb539-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb539-2"><a href="data-manipulation-with-dplyr.html#cb539-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population)</span></code></pre></div>
<div id="filter-for-counties-with-a-population-above-1000000" class="section level4" number="4.1.6.1">
<h4><span class="header-section-number">4.1.6.1</span> Filter for counties with a population above 1000000</h4>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb540-1"><a href="data-manipulation-with-dplyr.html#cb540-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb540-2"><a href="data-manipulation-with-dplyr.html#cb540-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;</span> <span class="dv">1000000</span>)</span></code></pre></div>
</div>
<div id="filter-for-counties-in-the-state-of-california-that-have-a-population-above-1000000" class="section level4" number="4.1.6.2">
<h4><span class="header-section-number">4.1.6.2</span> Filter for counties in the state of California that have a population above 1000000</h4>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="data-manipulation-with-dplyr.html#cb541-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb541-2"><a href="data-manipulation-with-dplyr.html#cb541-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">&quot;California&quot;</span>,</span>
<span id="cb541-3"><a href="data-manipulation-with-dplyr.html#cb541-3" aria-hidden="true" tabindex="-1"></a>         population <span class="sc">&gt;</span> <span class="dv">1000000</span>)</span></code></pre></div>
<pre><code>##        state         county population
## 1 California        Alameda    1584983
## 2 California   Contra Costa    1096068
## 3 California    Los Angeles   10038388
## 4 California         Orange    3116069
## 5 California      Riverside    2298032
## 6 California     Sacramento    1465832
## 7 California San Bernardino    2094769
## 8 California      San Diego    3223096
## 9 California    Santa Clara    1868149</code></pre>
<p>Now you know that there are 9 counties in the state of California with a population greater than one million. In the next exercise, you’ll practice filtering and then sorting a dataset to focus on specific observations!</p>
</div>
</div>
<div id="filtering-and-arranging" class="section level3" number="4.1.7">
<h3><span class="header-section-number">4.1.7</span> Filtering and arranging</h3>
<p>We’re often interested in both filtering and sorting a dataset, to focus on observations of particular interest to you. Here, you’ll find counties that are extreme examples of what fraction of the population works in the private sector.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="data-manipulation-with-dplyr.html#cb543-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb543-2"><a href="data-manipulation-with-dplyr.html#cb543-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, private_work, public_work, self_employed)</span></code></pre></div>
<div id="filter-for-texas-and-more-than-10000-people-sort-in-descending-order-of-private_work" class="section level4" number="4.1.7.1">
<h4><span class="header-section-number">4.1.7.1</span> Filter for Texas and more than 10000 people; sort in descending order of private_work</h4>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="data-manipulation-with-dplyr.html#cb544-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb544-2"><a href="data-manipulation-with-dplyr.html#cb544-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">&quot;Texas&quot;</span>, population <span class="sc">&gt;</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb544-3"><a href="data-manipulation-with-dplyr.html#cb544-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(private_work))</span></code></pre></div>
<pre><code>##     state       county population private_work public_work
## 1   Texas        Gregg     123178         84.7         9.8
## 2   Texas       Collin     862215         84.1        10.0
## 3   Texas       Dallas    2485003         83.9         9.5
## 4   Texas       Harris    4356362         83.4        10.1
## 5   Texas      Andrews      16775         83.1         9.6
## 6   Texas      Tarrant    1914526         83.1        11.4
## 7   Texas        Titus      32553         82.5        10.0
## 8   Texas       Denton     731851         82.2        11.9
## 9   Texas        Ector     149557         82.0        11.2
## 10  Texas        Moore      22281         82.0        11.7
## 11  Texas    Jefferson     252872         81.9        13.4
## 12  Texas    Fort Bend     658331         81.7        12.5
## 13  Texas       Panola      23900         81.5        11.7
## 14  Texas      Midland     151290         81.2        11.4
## 15  Texas       Potter     122352         81.2        12.4
## 16  Texas         Frio      18168         81.1        15.4
## 17  Texas      Johnson     155450         80.9        13.3
## 18  Texas        Smith     217552         80.9        12.7
## 19  Texas       Orange      83217         80.8        13.7
## 20  Texas     Harrison      66417         80.6        13.9
## 21  Texas     Brazoria     331741         80.5        14.4
## 22  Texas      Calhoun      21666         80.5        12.8
## 23  Texas       Austin      28886         80.4        11.8
## 24  Texas   Montgomery     502586         80.4        11.7
## 25  Texas    Jim Wells      41461         80.3        12.6
## 26  Texas   Hutchinson      21858         80.2        13.9
## 27  Texas    Ochiltree      10642         80.1        10.4
## 28  Texas     Victoria      90099         80.1        12.5
## 29  Texas       Hardin      55375         80.0        15.7
## 30  Texas        Bexar    1825502         79.6        14.8
## 31  Texas         Gray      22983         79.6        13.3
## 32  Texas     McLennan     241505         79.5        14.7
## 33  Texas       Newton      14231         79.4        15.8
## 34  Texas         Ward      11225         79.3        15.0
## 35  Texas       Grimes      26961         79.2        15.0
## 36  Texas        Lamar      49566         79.2        13.9
## 37  Texas         Rusk      53457         79.2        12.8
## 38  Texas      Wharton      41264         78.9        12.3
## 39  Texas   Williamson     473592         78.9        14.9
## 40  Texas       Marion      10248         78.7        15.2
## 41  Texas         Hood      53171         78.6        11.0
## 42  Texas         Hunt      88052         78.6        14.4
## 43  Texas        Ellis     157058         78.5        14.2
## 44  Texas       Upshur      40096         78.5        13.0
## 45  Texas      Grayson     122780         78.4        13.8
## 46  Texas      Liberty      77486         78.4        13.6
## 47  Texas     Atascosa      47050         78.1        14.3
## 48  Texas       Waller      45847         78.1        16.3
## 49  Texas   Deaf Smith      19245         78.0        13.6
## 50  Texas     Chambers      37251         77.9        15.9
## 51  Texas       Jasper      35768         77.7        15.5
## 52  Texas       Scurry      17238         77.7        16.2
## 53  Texas       Parmer      10004         77.6        12.5
## 54  Texas San Patricio      66070         77.6        17.9
## 55  Texas       Taylor     134435         77.5        16.5
## 56  Texas      Fayette      24849         77.4        13.4
## 57  Texas      Kaufman     109289         77.4        16.7
## 58  Texas    Matagorda      36598         77.4        15.6
## 59  Texas        Comal     119632         77.2        13.2
## 60  Texas     Gonzales      20172         77.2        13.2
## 61  Texas         Hill      34923         77.1        15.0
## 62  Texas      Hockley      23322         77.1        15.6
## 63  Texas    Guadalupe     143460         77.0        17.9
## 64  Texas        Cooke      38761         76.9        14.8
## 65  Texas     Rockwall      85536         76.9        16.2
## 66  Texas         Wise      61243         76.9        14.9
## 67  Texas       Gaines      18916         76.8        12.0
## 68  Texas    Tom Green     115056         76.8        16.5
## 69  Texas        Erath      40039         76.7        15.3
## 70  Texas      Hopkins      35645         76.7        13.2
## 71  Texas   Palo Pinto      27921         76.7        14.1
## 72  Texas       Nueces     352060         76.6        16.3
## 73  Texas       Parker     121418         76.6        15.2
## 74  Texas      Lubbock     290782         76.5        16.8
## 75  Texas       Travis    1121645         76.5        16.0
## 76  Texas     Eastland      18328         76.4        15.1
## 77  Texas     Montague      19478         76.4        13.3
## 78  Texas     Angelina      87748         76.2        17.8
## 79  Texas      Jackson      14486         76.1        13.6
## 80  Texas        Nolan      15061         76.1        17.1
## 81  Texas         Cass      30328         76.0        15.9
## 82  Texas        Duval      11577         76.0        17.2
## 83  Texas         Hale      35504         75.9        16.4
## 84  Texas    Galveston     308163         75.8        18.2
## 85  Texas       Bosque      17971         75.7        12.8
## 86  Texas    Henderson      79016         75.6        13.9
## 87  Texas        Bowie      93155         75.5        19.4
## 88  Texas      Aransas      24292         75.4        12.4
## 89  Texas      Randall     126782         75.4        17.5
## 90  Texas       Morris      12700         75.3        17.5
## 91  Texas        Rains      11037         75.3        15.6
## 92  Texas       Shelby      25725         75.3        16.8
## 93  Texas        Brown      37833         75.2        16.5
## 94  Texas       Sabine      10440         75.1        18.1
## 95  Texas         Wood      42712         75.0        15.6
## 96  Texas    Gillespie      25398         74.8        10.5
## 97  Texas      Navarro      48118         74.8        17.3
## 98  Texas     Caldwell      39347         74.7        18.6
## 99  Texas        Tyler      21462         74.6        19.8
## 100 Texas         Webb     263251         74.6        19.4
## 101 Texas      Wichita     131957         74.6        19.2
## 102 Texas          Lee      16664         74.5        16.7
## 103 Texas       Burnet      44144         74.1        14.2
## 104 Texas      El Paso     831095         73.9        20.0
## 105 Texas      Kendall      37361         73.9        15.7
## 106 Texas         Lamb      13742         73.8        16.1
## 107 Texas         Camp      12516         73.7        16.0
## 108 Texas    Freestone      19586         73.6        19.0
## 109 Texas       Medina      47392         73.6        17.3
## 110 Texas   Washington      34236         73.6        18.1
## 111 Texas         Hays     177562         73.5        19.4
## 112 Texas     Live Oak      11873         73.5        14.2
## 113 Texas       Lavaca      19549         73.4        14.4
## 114 Texas       Zapata      14308         73.3        18.1
## 115 Texas       Fannin      33748         73.1        19.8
## 116 Texas        Young      18329         73.1        15.7
## 117 Texas     Cherokee      51167         72.9        20.4
## 118 Texas         Kerr      50149         72.8        16.7
## 119 Texas      Cameron     417947         72.7        18.2
## 120 Texas     Colorado      20757         72.6        17.3
## 121 Texas         Clay      10479         72.4        17.0
## 122 Texas       DeWitt      20540         72.4        17.7
## 123 Texas     Franklin      10599         72.3        13.7
## 124 Texas     Comanche      13623         72.2        15.0
## 125 Texas       Howard      36105         72.0        23.0
## 126 Texas        Llano      19323         72.0        11.4
## 127 Texas  Nacogdoches      65531         72.0        20.0
## 128 Texas       Wilson      45509         71.8        20.6
## 129 Texas    Van Zandt      52736         71.6        16.8
## 130 Texas      Bastrop      76948         71.3        20.1
## 131 Texas     Callahan      13532         71.2        17.0
## 132 Texas        Falls      17410         70.8        20.5
## 133 Texas      Hidalgo     819217         70.7        17.2
## 134 Texas          Bee      32659         70.5        22.7
## 135 Texas       Dimmit      10682         70.5        21.9
## 136 Texas       Blanco      10723         70.4        17.5
## 137 Texas       Zavala      12060         70.4        23.8
## 138 Texas        Terry      12687         70.2        19.7
## 139 Texas     Anderson      57915         69.8        23.6
## 140 Texas    Robertson      16532         69.8        22.4
## 141 Texas       Karnes      14879         69.6        22.0
## 142 Texas      Kleberg      32029         69.5        25.9
## 143 Texas     Burleson      17293         69.4        21.7
## 144 Texas         Leon      16819         69.4        14.5
## 145 Texas      Bandera      20796         69.2        19.0
## 146 Texas         Bell     326041         69.2        25.7
## 147 Texas  San Jacinto      27023         69.1        23.0
## 148 Texas     Maverick      56548         68.8        25.0
## 149 Texas      Trinity      14405         68.8        17.8
## 150 Texas        Jones      19978         68.7        20.5
## 151 Texas         Polk      46113         68.7        22.2
## 152 Texas        Pecos      15807         68.6        24.5
## 153 Texas       Dawson      13542         68.5        21.9
## 154 Texas        Milam      24344         68.5        21.3
## 155 Texas    Red River      12567         68.5        17.4
## 156 Texas       Brazos     205271         68.3        25.6
## 157 Texas        Starr      62648         68.2        22.5
## 158 Texas      Houston      22949         67.8        22.1
## 159 Texas       Reeves      14179         67.8        28.3
## 160 Texas      Runnels      10445         67.7        19.9
## 161 Texas      Willacy      22002         66.9        23.9
## 162 Texas       Uvalde      26952         66.8        23.8
## 163 Texas    Wilbarger      13158         66.0        29.6
## 164 Texas    Val Verde      48980         65.9        28.9
## 165 Texas     Lampasas      20219         65.5        26.5
## 166 Texas      Madison      13838         65.1        22.4
##     self_employed
## 1             5.4
## 2             5.8
## 3             6.4
## 4             6.3
## 5             6.8
## 6             5.4
## 7             7.4
## 8             5.7
## 9             6.7
## 10            5.9
## 11            4.5
## 12            5.7
## 13            6.9
## 14            7.1
## 15            6.2
## 16            3.4
## 17            5.7
## 18            6.3
## 19            5.4
## 20            5.4
## 21            5.0
## 22            6.7
## 23            7.7
## 24            7.8
## 25            7.1
## 26            5.8
## 27            9.2
## 28            7.1
## 29            4.2
## 30            5.6
## 31            7.0
## 32            5.7
## 33            4.8
## 34            5.3
## 35            5.7
## 36            6.7
## 37            7.9
## 38            8.6
## 39            6.0
## 40            5.9
## 41            9.9
## 42            7.0
## 43            7.3
## 44            8.3
## 45            7.5
## 46            7.8
## 47            7.5
## 48            5.6
## 49            7.9
## 50            6.1
## 51            6.7
## 52            6.0
## 53            9.3
## 54            4.4
## 55            5.7
## 56            9.0
## 57            5.8
## 58            7.0
## 59            9.1
## 60            9.1
## 61            7.6
## 62            7.1
## 63            4.8
## 64            8.1
## 65            6.7
## 66            8.1
## 67           11.2
## 68            6.6
## 69            7.9
## 70            9.8
## 71            9.0
## 72            6.9
## 73            8.0
## 74            6.5
## 75            7.4
## 76            7.8
## 77            9.9
## 78            5.9
## 79            9.3
## 80            6.5
## 81            8.1
## 82            6.4
## 83            7.4
## 84            5.8
## 85           11.2
## 86           10.4
## 87            5.1
## 88           12.2
## 89            7.1
## 90            7.1
## 91            9.0
## 92            7.8
## 93            8.2
## 94            6.8
## 95            9.0
## 96           14.3
## 97            7.8
## 98            6.7
## 99            5.3
## 100           5.8
## 101           6.0
## 102           8.4
## 103          11.7
## 104           6.0
## 105          10.4
## 106           9.9
## 107           9.9
## 108           7.3
## 109           9.0
## 110           8.3
## 111           7.0
## 112          12.1
## 113          12.1
## 114           8.7
## 115           7.1
## 116          10.8
## 117           6.5
## 118          10.4
## 119           8.9
## 120           9.0
## 121          10.4
## 122           9.6
## 123          13.3
## 124          12.3
## 125           4.9
## 126          16.4
## 127           7.9
## 128           7.6
## 129          11.1
## 130           8.3
## 131           9.4
## 132           8.4
## 133          11.9
## 134           6.7
## 135           7.6
## 136          11.8
## 137           5.6
## 138           9.8
## 139           6.4
## 140           7.6
## 141           7.8
## 142           4.4
## 143           8.4
## 144          15.7
## 145          11.6
## 146           5.0
## 147           7.6
## 148           6.1
## 149          12.1
## 150          10.3
## 151           8.7
## 152           6.0
## 153           9.5
## 154           9.8
## 155          13.8
## 156           5.8
## 157           8.6
## 158           9.8
## 159           3.9
## 160          12.1
## 161           9.1
## 162           9.4
## 163           4.4
## 164           5.1
## 165           8.0
## 166          11.8
##  [ reached getOption(&quot;max.print&quot;) -- omitted 3 rows ]</code></pre>
<p>You’ve learned how to filter and sort a dataset to answer questions about the data. Notice that you only need to slightly modify your code if you are interested in sorting the observations by a different column.</p>
</div>
</div>
<div id="video-mutate" class="section level3" number="4.1.8">
<h3><span class="header-section-number">4.1.8</span> Video: Mutate</h3>
</div>
<div id="calculating-the-number-of-government-employees" class="section level3" number="4.1.9">
<h3><span class="header-section-number">4.1.9</span> Calculating the number of government employees</h3>
<p>In the video, you used the <code>unemployment</code> variable, which is a percentage, to calculate the number of unemployed people in each county. In this exercise, you’ll do the same with another percentage variable: <code>public_work</code>.</p>
<p>The code provided already selects the <code>state</code>, <code>county</code>, <code>population</code>, and <code>public_work</code> columns.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="data-manipulation-with-dplyr.html#cb546-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb546-2"><a href="data-manipulation-with-dplyr.html#cb546-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, public_work)</span></code></pre></div>
<div id="sort-in-descending-order-of-the-public_workers-column" class="section level4" number="4.1.9.1">
<h4><span class="header-section-number">4.1.9.1</span> Sort in descending order of the public_workers column</h4>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="data-manipulation-with-dplyr.html#cb547-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb547-2"><a href="data-manipulation-with-dplyr.html#cb547-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">public_workers =</span> public_work <span class="sc">*</span> population <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb547-3"><a href="data-manipulation-with-dplyr.html#cb547-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(public_workers))</span></code></pre></div>
<p>It looks like Los Angeles is the county with the most government employees.</p>
</div>
</div>
<div id="calculating-the-percentage-of-women-in-a-county" class="section level3" number="4.1.10">
<h3><span class="header-section-number">4.1.10</span> Calculating the percentage of women in a county</h3>
<p>The dataset includes columns for the total number (not percentage) of men and women in each county. You could use this, along with the <code>population</code> variable, to compute the fraction of men (or women) within each county.</p>
<p>In this exercise, you’ll select the relevant columns yourself.</p>
<div id="select-the-columns-state-county-population-men-and-women" class="section level4" number="4.1.10.1">
<h4><span class="header-section-number">4.1.10.1</span> Select the columns state, county, population, men, and women</h4>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="data-manipulation-with-dplyr.html#cb548-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb548-2"><a href="data-manipulation-with-dplyr.html#cb548-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, men, women)</span></code></pre></div>
</div>
<div id="calculate-proportion_women-as-the-fraction-of-the-population-made-up-of-women" class="section level4" number="4.1.10.2">
<h4><span class="header-section-number">4.1.10.2</span> Calculate proportion_women as the fraction of the population made up of women</h4>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="data-manipulation-with-dplyr.html#cb549-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb549-2"><a href="data-manipulation-with-dplyr.html#cb549-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion_women =</span> women <span class="sc">/</span> population)</span></code></pre></div>
<p>Notice that the <code>proportion_women</code> variable was added as a column to the <code>counties_selected</code> dataset, and the data now has 6 columns instead of 5.</p>
</div>
</div>
<div id="select-mutate-filter-and-arrange" class="section level3" number="4.1.11">
<h3><span class="header-section-number">4.1.11</span> Select, mutate, filter, and arrange</h3>
<p>In this exercise, you’ll put together everything you’ve learned in this chapter (<code>select()</code>, <code>mutate()</code>, <code>filter()</code> and <code>arrange()</code>), to find the counties with the highest proportion of men.</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="data-manipulation-with-dplyr.html#cb550-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb550-2"><a href="data-manipulation-with-dplyr.html#cb550-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the five columns </span></span>
<span id="cb550-3"><a href="data-manipulation-with-dplyr.html#cb550-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, men, women) <span class="sc">%&gt;%</span></span>
<span id="cb550-4"><a href="data-manipulation-with-dplyr.html#cb550-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add the proportion_men variable</span></span>
<span id="cb550-5"><a href="data-manipulation-with-dplyr.html#cb550-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion_men =</span> men <span class="sc">/</span> population) <span class="sc">%&gt;%</span></span>
<span id="cb550-6"><a href="data-manipulation-with-dplyr.html#cb550-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for population of at least 10,000</span></span>
<span id="cb550-7"><a href="data-manipulation-with-dplyr.html#cb550-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;=</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb550-8"><a href="data-manipulation-with-dplyr.html#cb550-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange proportion of men in descending order </span></span>
<span id="cb550-9"><a href="data-manipulation-with-dplyr.html#cb550-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(proportion_men)) </span></code></pre></div>
<pre><code>##               state                       county population     men
## 1          Virginia                       Sussex      11864    8130
## 2        California                       Lassen      32645   21818
## 3           Georgia                Chattahoochee      11914    7940
## 4         Louisiana               West Feliciana      15415   10228
## 5           Florida                        Union      15191    9830
## 6             Texas                        Jones      19978   12652
## 7          Missouri                       DeKalb      12782    8080
## 8             Texas                      Madison      13838    8648
## 9          Virginia                  Greensville      11760    7303
## 10            Texas                     Anderson      57915   35469
## 11         Arkansas                      Lincoln      14062    8596
## 12            Texas                          Bee      32659   19722
## 13          Florida                     Hamilton      14395    8671
## 14         Illinois                     Lawrence      16665    9997
## 15      Mississippi                 Tallahatchie      14959    8907
## 16      Mississippi                       Greene      14129    8409
## 17            Texas                       Karnes      14879    8799
## 18            Texas                         Frio      18168   10723
## 19          Florida                         Gulf      15785    9235
## 20          Florida                     Franklin      11628    6800
## 21            Texas                       Walker      69330   40484
## 22          Georgia                      Telfair      16416    9502
## 23         Colorado                      Fremont      46809   27003
## 24        Louisiana                        Allen      25653   14784
## 25             Ohio                        Noble      14508    8359
## 26          Georgia                     Tattnall      25302   14529
## 27        Louisiana                    Claiborne      16639    9524
## 28            Texas                        Pecos      15807    9003
## 29         Missouri                      Pulaski      53443   30390
## 30            Texas                       Howard      36105   20496
## 31         Illinois                      Johnson      12829    7267
## 32            Texas                       Dawson      13542    7670
## 33          Florida                       DeSoto      34957   19756
## 34            Texas                       Reeves      14179    8004
## 35          Florida                       Taylor      22685   12781
## 36        Tennessee                      Bledsoe      13686    7677
## 37        Louisiana                        Grant      22362   12523
## 38          Florida                      Wakulla      31128   17366
## 39        Tennessee                       Morgan      21794   12150
## 40         Kentucky                       Morgan      13428    7477
## 41          Florida                     Bradford      27223   15150
## 42       California                        Kings     150998   83958
## 43         Kentucky                       Martin      12631    7020
## 44         Virginia                   Buckingham      17068    9476
## 45       California                    Del Norte      27788   15418
## 46         Missouri                         Pike      18517   10273
## 47          Florida                      Jackson      48900   27124
## 48      Mississippi                        Yazoo      27911   15460
## 49          Florida                       Glades      13272    7319
## 50         New York                     Franklin      51280   28253
## 51     Pennsylvania                        Union      44958   24755
## 52        Tennessee                        Wayne      16897    9295
## 53         Colorado                       Summit      28940   15912
## 54            Texas                       Grimes      26961   14823
## 55          Georgia                        Macon      14045    7720
## 56             Ohio                      Madison      43456   23851
## 57         Arkansas                  St. Francis      27345   14996
## 58         Michigan                     Chippewa      38586   21156
## 59         Kentucky                     McCreary      18001    9863
## 60          Florida                   Washington      24629   13478
## 61         Virginia                Prince George      37380   20440
## 62          Florida                      Calhoun      14615    7991
## 63   North Carolina                        Avery      17695    9673
## 64          Indiana                     Sullivan      21111   11540
## 65           Oregon                      Malheur      30551   16697
## 66          Wyoming                       Carbon      15739    8592
## 67         Maryland                     Somerset      25980   14150
## 68        Tennessee                     Hardeman      26253   14297
## 69          Florida                        Dixie      16091    8746
## 70          Florida                       Hardee      27468   14920
## 71            Texas                      Willacy      22002   11947
## 72     North Dakota                     Williams      29619   16066
## 73         Colorado                        Logan      21928   11889
## 74         Michigan                     Houghton      36660   19876
## 75            Texas                        Tyler      21462   11629
## 76   North Carolina                       Onslow     183753   99526
## 77         New York                      Wyoming      41446   22442
## 78         Illinois                     Randolph      33069   17902
## 79       California                       Amador      36995   20012
## 80            Texas                     Live Oak      11873    6421
## 81         Michigan                      Gogebic      15824    8556
## 82         Oklahoma                       Hughes      13785    7450
## 83            Texas                       Scurry      17238    9312
## 84          Georgia                        Dooly      14293    7717
## 85        Wisconsin                        Adams      20451   11033
## 86          Florida                   Okeechobee      39255   21176
## 87   North Carolina                       Greene      21328   11499
## 88         Missouri                 St. Francois      66010   35586
## 89            Texas                        Terry      12687    6835
## 90         Colorado                     Gunnison      15651    8427
## 91         Missouri                  Mississippi      14208    7650
## 92          Alabama                      Barbour      26932   14497
## 93          Indiana                        Miami      36211   19482
## 94   South Carolina                    Edgefield      26466   14234
## 95         Oklahoma                     Okfuskee      12248    6585
## 96         Virginia                     Powhatan      28207   15159
## 97        Louisiana               East Feliciana      19855   10666
## 98         Oklahoma                      Beckham      23300   12515
## 99            Texas                         Polk      46113   24757
## 100       Wisconsin                      Jackson      20543   11022
## 101          Alaska Fairbanks North Star Borough      99705   53477
## 102         Indiana                        Perry      19414   10407
## 103         Arizona                       Graham      37407   20049
## 104        Kentucky                         Clay      21300   11415
## 105       Tennessee                      Johnson      18017    9643
## 106        Colorado                      Chaffee      18309    9798
## 107       Louisiana                    Catahoula      10247    5483
## 108         Georgia                     Charlton      13130    7024
## 109         Florida                       Holmes      19635   10501
## 110          Alaska        Kodiak Island Borough      13973    7468
## 111          Kansas                  Leavenworth      78227   41806
## 112         Alabama                         Bibb      22604   12073
## 113       Minnesota                         Pine      29218   15605
## 114        Colorado                        Grand      14411    7689
## 115  South Carolina                     Marlboro      27993   14930
## 116          Kansas                        Riley      75022   40002
## 117           Texas                         Gray      22983   12253
## 118           Texas                      Houston      22949   12227
## 119        Oklahoma                     Woodward      20986   11172
## 120            Ohio                       Marion      65943   35022
## 121         Georgia                        Butts      23445   12451
## 122    Pennsylvania                        Wayne      51642   27420
## 123        Illinois                        Perry      21810   11572
## 124        Michigan                      Gratiot      41878   22213
## 125        Colorado                        Eagle      52576   27887
## 126         Indiana                       Putnam      37650   19967
## 127        Missouri                       Cooper      17593    9328
## 128        Colorado                       Pitkin      17420    9235
## 129         Wyoming                       Goshen      13544    7180
## 130         Alabama                      Bullock      10678    5660
## 131         Florida                    Jefferson      14198    7522
## 132         Florida                       Hendry      38363   20318
## 133        Virginia                     Nottoway      15711    8320
## 134         Georgia                        Dodge      21180   11215
## 135   Massachusetts                    Nantucket      10556    5589
## 136        Michigan                        Ionia      64064   33917
## 137         Wyoming                     Sublette      10117    5353
## 138       Wisconsin                       Juneau      26494   14018
## 139         Florida                       Monroe      75901   40159
## 140    Pennsylvania                   Huntingdon      45906   24284
## 141        Illinois                          Lee      35027   18524
## 142       Louisiana                         Winn      14855    7851
## 143            Ohio                     Pickaway      56515   29866
## 144        Kentucky                       Oldham      63037   33307
## 145           Texas                       Fannin      33748   17810
## 146        New York                       Seneca      35144   18527
## 147           Texas                         Rusk      53457   28172
## 148         Florida                      Madison      18729    9869
## 149        Colorado                         Park      16189    8525
## 150         Florida                    Gilchrist      16992    8946
## 151         Florida                        Baker      27135   14277
## 152          Alaska           Bethel Census Area      17776    9351
## 153        Virginia           Manassas Park city      15625    8219
## 154          Nevada                     Humboldt      17067    8971
## 155       Wisconsin                     Waushara      24321   12783
## 156           Texas                       DeWitt      20540   10795
## 157        Oklahoma                        Atoka      13906    7307
## 158           Idaho                        Idaho      16312    8571
## 159            Ohio                         Ross      77334   40627
## 160        Oklahoma                        Texas      21588   11340
## 161            Utah                      Sanpete      28261   14845
## 162        Illinois                      Fayette      22136   11622
## 163       Tennessee                      Hickman      24283   12745
## 164        Virginia                  Southampton      18410    9661
## 165        Virginia                    Brunswick      16930    8882
## 166        Virginia                    Lunenburg      12558    6588
##        women proportion_men
## 1       3734      0.6852664
## 2      10827      0.6683412
## 3       3974      0.6664428
## 4       5187      0.6635096
## 5       5361      0.6470937
## 6       7326      0.6332966
## 7       4702      0.6321389
## 8       5190      0.6249458
## 9       4457      0.6210034
## 10     22446      0.6124320
## 11      5466      0.6112928
## 12     12937      0.6038764
## 13      5724      0.6023619
## 14      6668      0.5998800
## 15      6052      0.5954275
## 16      5720      0.5951589
## 17      6080      0.5913704
## 18      7445      0.5902136
## 19      6550      0.5850491
## 20      4828      0.5847953
## 21     28846      0.5839319
## 22      6914      0.5788255
## 23     19806      0.5768762
## 24     10869      0.5763069
## 25      6149      0.5761649
## 26     10773      0.5742234
## 27      7115      0.5723902
## 28      6804      0.5695578
## 29     23053      0.5686432
## 30     15609      0.5676776
## 31      5562      0.5664510
## 32      5872      0.5663861
## 33     15201      0.5651515
## 34      6175      0.5644968
## 35      9904      0.5634119
## 36      6009      0.5609382
## 37      9839      0.5600125
## 38     13762      0.5578900
## 39      9644      0.5574929
## 40      5951      0.5568216
## 41     12073      0.5565147
## 42     67040      0.5560206
## 43      5611      0.5557755
## 44      7592      0.5551910
## 45     12370      0.5548438
## 46      8244      0.5547875
## 47     21776      0.5546830
## 48     12451      0.5539035
## 49      5953      0.5514617
## 50     23027      0.5509555
## 51     20203      0.5506250
## 52      7602      0.5500977
## 53     13028      0.5498272
## 54     12138      0.5497941
## 55      6325      0.5496618
## 56     19605      0.5488540
## 57     12349      0.5484001
## 58     17430      0.5482818
## 59      8138      0.5479140
## 60     11151      0.5472411
## 61     16940      0.5468165
## 62      6624      0.5467670
## 63      8022      0.5466516
## 64      9571      0.5466345
## 65     13854      0.5465288
## 66      7147      0.5459051
## 67     11830      0.5446497
## 68     11956      0.5445854
## 69      7345      0.5435337
## 70     12548      0.5431775
## 71     10055      0.5429961
## 72     13553      0.5424221
## 73     10039      0.5421835
## 74     16784      0.5421713
## 75      9833      0.5418414
## 76     84227      0.5416293
## 77     19004      0.5414757
## 78     15167      0.5413529
## 79     16983      0.5409380
## 80      5452      0.5408069
## 81      7268      0.5406977
## 82      6335      0.5404425
## 83      7926      0.5402019
## 84      6576      0.5399146
## 85      9418      0.5394846
## 86     18079      0.5394472
## 87      9829      0.5391504
## 88     30424      0.5391001
## 89      5852      0.5387404
## 90      7224      0.5384320
## 91      6558      0.5384291
## 92     12435      0.5382816
## 93     16729      0.5380133
## 94     12232      0.5378221
## 95      5663      0.5376388
## 96     13048      0.5374198
## 97      9189      0.5371947
## 98     10785      0.5371245
## 99     21356      0.5368768
## 100     9521      0.5365331
## 101    46228      0.5363522
## 102     9007      0.5360565
## 103    17358      0.5359692
## 104     9885      0.5359155
## 105     8374      0.5352167
## 106     8511      0.5351466
## 107     4764      0.5350834
## 108     6106      0.5349581
## 109     9134      0.5348103
## 110     6505      0.5344593
## 111    36421      0.5344191
## 112    10531      0.5341090
## 113    13613      0.5340886
## 114     6722      0.5335508
## 115    13063      0.5333476
## 116    35020      0.5332036
## 117    10730      0.5331332
## 118    10722      0.5327901
## 119     9814      0.5323549
## 120    30921      0.5310950
## 121    10994      0.5310727
## 122    24222      0.5309632
## 123    10238      0.5305823
## 124    19665      0.5304217
## 125    24689      0.5304131
## 126    17683      0.5303320
## 127     8265      0.5302109
## 128     8185      0.5301378
## 129     6364      0.5301240
## 130     5018      0.5300618
## 131     6676      0.5297929
## 132    18045      0.5296249
## 133     7391      0.5295653
## 134     9965      0.5295090
## 135     4967      0.5294619
## 136    30147      0.5294237
## 137     4764      0.5291094
## 138    12476      0.5291009
## 139    35742      0.5290971
## 140    21622      0.5289940
## 141    16503      0.5288492
## 142     7004      0.5285089
## 143    26649      0.5284615
## 144    29730      0.5283722
## 145    15938      0.5277350
## 146    16617      0.5271739
## 147    25285      0.5270030
## 148     8860      0.5269368
## 149     7664      0.5265921
## 150     8046      0.5264831
## 151    12858      0.5261470
## 152     8425      0.5260464
## 153     7406      0.5260160
## 154     8096      0.5256343
## 155    11538      0.5255952
## 156     9745      0.5255599
## 157     6599      0.5254566
## 158     7741      0.5254414
## 159    36707      0.5253446
## 160    10248      0.5252918
## 161    13416      0.5252822
## 162    10514      0.5250271
## 163    11538      0.5248528
## 164     8749      0.5247691
## 165     8048      0.5246308
## 166     5970      0.5246058
##  [ reached getOption(&quot;max.print&quot;) -- omitted 2272 rows ]</code></pre>
<p>Notice Sussex County in Virginia is more than two thirds male: this is because of two men’s prisons in the county.</p>
<hr />
</div>
</div>
<div id="aggregating-data" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Aggregating Data</h2>
<p>Now that you know how to transform your data, you’ll want to know more about how to aggregate your data to make it more interpretable. You’ll learn a number of functions you can use to take many observations in your data and summarize them, including count, group_by, summarize, ungroup, and top_n.</p>
<div id="video-the-count-verb" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Video: The count verb</h3>
</div>
<div id="counting-by-region" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Counting by region</h3>
<p>The counties dataset contains columns for region, state, population, and the number of citizens, which we selected and saved as the <code>counties_selected</code> table. In this exercise, you’ll focus on the <code>region</code> column.</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="data-manipulation-with-dplyr.html#cb552-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb552-2"><a href="data-manipulation-with-dplyr.html#cb552-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, state, population, citizens)</span></code></pre></div>
<div id="use-count-to-find-the-number-of-counties-in-each-region" class="section level4" number="4.2.2.1">
<h4><span class="header-section-number">4.2.2.1</span> Use count to find the number of counties in each region</h4>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="data-manipulation-with-dplyr.html#cb553-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb553-2"><a href="data-manipulation-with-dplyr.html#cb553-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(region, <span class="at">sort=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   region            n
##   &lt;fct&gt;         &lt;int&gt;
## 1 South          1420
## 2 North Central  1055
## 3 West            448
## 4 Northeast       218</code></pre>
<p>Since the results have been arranged, you can see that the South has the greatest number of counties.</p>
</div>
</div>
<div id="counting-citizens-by-state" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Counting citizens by state</h3>
<p>You can weigh your count by particular variables rather than finding the number of counties. In this case, you’ll find the number of citizens in each state.</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="data-manipulation-with-dplyr.html#cb555-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb555-2"><a href="data-manipulation-with-dplyr.html#cb555-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, state, population, citizens)</span></code></pre></div>
<div id="find-number-of-counties-per-state-weighted-by-citizens" class="section level4" number="4.2.3.1">
<h4><span class="header-section-number">4.2.3.1</span> Find number of counties per state, weighted by citizens</h4>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="data-manipulation-with-dplyr.html#cb556-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb556-2"><a href="data-manipulation-with-dplyr.html#cb556-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(state, <span class="at">wt=</span>citizens, <span class="at">sort=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 50 x 2
##    state                 n
##    &lt;fct&gt;             &lt;int&gt;
##  1 California     24280349
##  2 Texas          16864962
##  3 Florida        13933052
##  4 New York       13531404
##  5 Pennsylvania    9710416
##  6 Illinois        8979999
##  7 Ohio            8709050
##  8 Michigan        7380136
##  9 North Carolina  7107998
## 10 Georgia         6978660
## # ... with 40 more rows</code></pre>
<p>From our result, we can see that California is the state with the most citizens.</p>
</div>
</div>
<div id="mutating-and-counting" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Mutating and counting</h3>
<p>You can combine multiple verbs together to answer increasingly complicated questions of your data. For example: “What are the US states where the most people walk to work?”</p>
<p>You’ll use the walk column, which offers a percentage of people in each county that walk to work, to add a new column and count based on it.</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="data-manipulation-with-dplyr.html#cb558-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb558-2"><a href="data-manipulation-with-dplyr.html#cb558-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, population, walk)</span></code></pre></div>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="data-manipulation-with-dplyr.html#cb559-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb559-2"><a href="data-manipulation-with-dplyr.html#cb559-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add population_walk containing the total number of people who walk to work </span></span>
<span id="cb559-3"><a href="data-manipulation-with-dplyr.html#cb559-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">population_walk =</span> population <span class="sc">*</span> walk <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb559-4"><a href="data-manipulation-with-dplyr.html#cb559-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count weighted by the new column</span></span>
<span id="cb559-5"><a href="data-manipulation-with-dplyr.html#cb559-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(state, <span class="at">wt =</span> population_walk, <span class="at">sort=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 50 x 2
##    state                n
##    &lt;fct&gt;            &lt;dbl&gt;
##  1 New York      1237938.
##  2 California    1017964.
##  3 Pennsylvania   505397.
##  4 Texas          430793.
##  5 Illinois       400346.
##  6 Massachusetts  316765.
##  7 Florida        284723.
##  8 New Jersey     273047.
##  9 Ohio           266911.
## 10 Washington     239764.
## # ... with 40 more rows</code></pre>
<p>We can see that while California had the largest total population, New York state has the largest number of people who walk to work.</p>
</div>
<div id="video-the-group-by-summarize-and-ungroup-verbs" class="section level3" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> Video: The group by, summarize and ungroup verbs</h3>
<div id="summarizing" class="section level4" number="4.2.5.1">
<h4><span class="header-section-number">4.2.5.1</span> Summarizing</h4>
<p>The <code>summarize()</code> verb is very useful for collapsing a large dataset into a single observation.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="data-manipulation-with-dplyr.html#cb561-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb561-2"><a href="data-manipulation-with-dplyr.html#cb561-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(county, population, income, unemployment)</span></code></pre></div>
</div>
<div id="summarize-to-find-minimum-population-maximum-unemployment-and-average-income" class="section level4" number="4.2.5.2">
<h4><span class="header-section-number">4.2.5.2</span> Summarize to find minimum population, maximum unemployment, and average income</h4>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="data-manipulation-with-dplyr.html#cb562-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb562-2"><a href="data-manipulation-with-dplyr.html#cb562-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min_population =</span> <span class="fu">min</span>(population), <span class="at">max_unemployment =</span> <span class="fu">max</span>(unemployment), <span class="at">average_income =</span> <span class="fu">mean</span>(income))</span></code></pre></div>
<pre><code>##   min_population max_unemployment average_income
## 1             85             29.4             NA</code></pre>
<p>If we wanted to take this a step further, we could use <code>filter()</code> to determine the specific counties that returned the value for <code>min_population</code> and <code>max_unemployment</code>.</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="data-manipulation-with-dplyr.html#cb564-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span> </span>
<span id="cb564-2"><a href="data-manipulation-with-dplyr.html#cb564-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">==</span> <span class="fu">min</span>(population))</span></code></pre></div>
<pre><code>##    county population income unemployment
## 1 Kalawao         85  66250            0</code></pre>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="data-manipulation-with-dplyr.html#cb566-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span> </span>
<span id="cb566-2"><a href="data-manipulation-with-dplyr.html#cb566-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(unemployment <span class="sc">==</span> <span class="fu">max</span>(unemployment))</span></code></pre></div>
<pre><code>##   county population income unemployment
## 1 Corson       4149  31676         29.4</code></pre>
</div>
</div>
<div id="summarizing-by-state" class="section level3" number="4.2.6">
<h3><span class="header-section-number">4.2.6</span> Summarizing by state</h3>
<p>Another interesting column is <code>land_area</code>, which shows the land area in square miles. Here, you’ll summarize both population and land area by state, with the purpose of finding the density (in people per square miles).</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="data-manipulation-with-dplyr.html#cb568-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb568-2"><a href="data-manipulation-with-dplyr.html#cb568-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, land_area)</span></code></pre></div>
<div id="add-a-density-column-then-sort-in-descending-order" class="section level4" number="4.2.6.1">
<h4><span class="header-section-number">4.2.6.1</span> Add a density column, then sort in descending order</h4>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="data-manipulation-with-dplyr.html#cb569-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb569-2"><a href="data-manipulation-with-dplyr.html#cb569-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb569-3"><a href="data-manipulation-with-dplyr.html#cb569-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_area =</span> <span class="fu">sum</span>(land_area),</span>
<span id="cb569-4"><a href="data-manipulation-with-dplyr.html#cb569-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">total_population =</span> <span class="fu">sum</span>(population)) <span class="sc">%&gt;%</span></span>
<span id="cb569-5"><a href="data-manipulation-with-dplyr.html#cb569-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">density =</span> total_population <span class="sc">/</span> total_area) <span class="sc">%&gt;%</span></span>
<span id="cb569-6"><a href="data-manipulation-with-dplyr.html#cb569-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(density))</span></code></pre></div>
<pre><code>## # A tibble: 50 x 4
##    state         total_area total_population density
##    &lt;fct&gt;              &lt;dbl&gt;            &lt;int&gt;   &lt;dbl&gt;
##  1 New Jersey         7354.          8904413   1211.
##  2 Rhode Island       1034.          1053661   1019.
##  3 Massachusetts      7800.          6705586    860.
##  4 Connecticut        4842.          3593222    742.
##  5 Maryland           9707.          5930538    611.
##  6 Delaware           1949.           926454    475.
##  7 New York          47126.         19673174    417.
##  8 Florida           53625.         19645772    366.
##  9 Pennsylvania      44743.         12779559    286.
## 10 Ohio              40861.         11575977    283.
## # ... with 40 more rows</code></pre>
<p>Looks like New Jersey and Rhode Island are the “most crowded” of the US states, with more than a thousand people per square mile.</p>
</div>
</div>
<div id="summarizing-by-state-and-region" class="section level3" number="4.2.7">
<h3><span class="header-section-number">4.2.7</span> Summarizing by state and region</h3>
<p>You can group by multiple columns instead of grouping by one. Here, you’ll practice aggregating by state and region, and notice how useful it is for performing multiple aggregations in a row.</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="data-manipulation-with-dplyr.html#cb571-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb571-2"><a href="data-manipulation-with-dplyr.html#cb571-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, state, county, population)</span></code></pre></div>
<div id="calculate-the-average_pop-and-median_pop-columns" class="section level4" number="4.2.7.1">
<h4><span class="header-section-number">4.2.7.1</span> Calculate the average_pop and median_pop columns</h4>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="data-manipulation-with-dplyr.html#cb572-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb572-2"><a href="data-manipulation-with-dplyr.html#cb572-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region, state) <span class="sc">%&gt;%</span></span>
<span id="cb572-3"><a href="data-manipulation-with-dplyr.html#cb572-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_pop =</span> <span class="fu">sum</span>(population)) <span class="sc">%&gt;%</span></span>
<span id="cb572-4"><a href="data-manipulation-with-dplyr.html#cb572-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">average_pop =</span> <span class="fu">mean</span>(total_pop), <span class="at">median_pop =</span> <span class="fu">median</span>(total_pop))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 3
##   region        average_pop median_pop
##   &lt;fct&gt;               &lt;dbl&gt;      &lt;dbl&gt;
## 1 North Central    5628866.    5580644
## 2 Northeast        5600438.    2461161
## 3 South            7369565.    4804098
## 4 West             5723364.    2798636</code></pre>
<p>It looks like the South has the highest <code>average_pop</code> of 7370486, while the North Central region has the highest <code>median_pop</code> of 5580644.</p>
</div>
</div>
<div id="video-the-top_n-verb" class="section level3" number="4.2.8">
<h3><span class="header-section-number">4.2.8</span> Video: The top_n verb</h3>
</div>
<div id="selecting-a-county-from-each-region" class="section level3" number="4.2.9">
<h3><span class="header-section-number">4.2.9</span> Selecting a county from each region</h3>
<p>Previously, you used the <code>walk</code> column, which offers a percentage of people in each county that walk to work, to add a new column and count to find the total number of people who walk to work in each county.</p>
<p>Now, you’re interested in finding the county within each region with the highest percentage of citizens who walk to work.</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="data-manipulation-with-dplyr.html#cb574-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb574-2"><a href="data-manipulation-with-dplyr.html#cb574-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, state, county, metro, population, walk)</span></code></pre></div>
<div id="group-by-region-and-find-the-greatest-number-of-citizens-who-walk-to-work" class="section level4" number="4.2.9.1">
<h4><span class="header-section-number">4.2.9.1</span> Group by region and find the greatest number of citizens who walk to work</h4>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="data-manipulation-with-dplyr.html#cb575-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb575-2"><a href="data-manipulation-with-dplyr.html#cb575-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">%&gt;%</span></span>
<span id="cb575-3"><a href="data-manipulation-with-dplyr.html#cb575-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, walk)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 6
## # Groups:   region [4]
##   region       state       county             metro   population  walk
##   &lt;fct&gt;        &lt;fct&gt;       &lt;fct&gt;              &lt;fct&gt;        &lt;int&gt; &lt;dbl&gt;
## 1 West         Alaska      Aleutians East Bo~ Nonmet~       3304  71.2
## 2 Northeast    New York    New York           Metro      1629507  20.7
## 3 North Centr~ North Dako~ McIntosh           Nonmet~       2759  17.5
## 4 South        Virginia    Lexington city     Nonmet~       7071  31.7</code></pre>
<p>Notice that three of the places lots of people walk to work are low-population nonmetro counties, but that New York City also pops up!</p>
</div>
</div>
<div id="finding-the-highest-income-state-in-each-region" class="section level3" number="4.2.10">
<h3><span class="header-section-number">4.2.10</span> Finding the highest-income state in each region</h3>
<p>You’ve been learning to combine multiple <code>dplyr</code> verbs together. Here, you’ll combine <code>group_by()</code>, <code>summarize()</code>, and <code>top_n()</code> to find the state in each region with the highest income.</p>
<p>When you group by multiple columns and then summarize, it’s important to remember that the summarize “peels off” one of the groups, but leaves the rest on. For example, if you <code>group_by(X, Y)</code> then <code>summarize</code>, the result will still be grouped by <code>X</code>.</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="data-manipulation-with-dplyr.html#cb577-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb577-2"><a href="data-manipulation-with-dplyr.html#cb577-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(region, state, county, population, income)</span></code></pre></div>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb578-1"><a href="data-manipulation-with-dplyr.html#cb578-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb578-2"><a href="data-manipulation-with-dplyr.html#cb578-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(region, state) <span class="sc">%&gt;%</span></span>
<span id="cb578-3"><a href="data-manipulation-with-dplyr.html#cb578-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate average income</span></span>
<span id="cb578-4"><a href="data-manipulation-with-dplyr.html#cb578-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">average_income =</span> <span class="fu">mean</span>(income)) <span class="sc">%&gt;%</span></span>
<span id="cb578-5"><a href="data-manipulation-with-dplyr.html#cb578-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the highest income state in each region</span></span>
<span id="cb578-6"><a href="data-manipulation-with-dplyr.html#cb578-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, average_income)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 3
## # Groups:   region [4]
##   region        state        average_income
##   &lt;fct&gt;         &lt;fct&gt;                 &lt;dbl&gt;
## 1 North Central North Dakota         55575.
## 2 Northeast     New Jersey           73014.
## 3 South         Maryland             69200.
## 4 West          Hawaii               64879</code></pre>
<p>From our results, we can see that New Jersey in the Northeast is the state with the highest <code>average_income</code> of 73014.</p>
</div>
<div id="using-summarize-top_n-and-count-together" class="section level3" number="4.2.11">
<h3><span class="header-section-number">4.2.11</span> Using summarize, top_n, and count together</h3>
<p>In this chapter, you’ve learned to use five <code>dplyr</code> verbs related to aggregation: <code>count()</code>, <code>group_by()</code>, <code>summarize()</code>, <code>ungroup()</code>, and <code>top_n()</code>. In this exercise, you’ll use <em>all</em> of them to answer a question: In how many states do more people live in metro areas than non-metro areas?</p>
<p>Recall that the <code>metro</code> column has one of the two values “Metro” (for high-density city areas) or “Nonmetro” (for suburban and country areas).</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="data-manipulation-with-dplyr.html#cb580-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="ot">&lt;-</span> counties <span class="sc">%&gt;%</span></span>
<span id="cb580-2"><a href="data-manipulation-with-dplyr.html#cb580-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, metro, population)</span></code></pre></div>
<div id="count-the-states-with-more-people-in-metro-or-nonmetro-areas" class="section level4" number="4.2.11.1">
<h4><span class="header-section-number">4.2.11.1</span> Count the states with more people in Metro or Nonmetro areas</h4>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="data-manipulation-with-dplyr.html#cb581-1" aria-hidden="true" tabindex="-1"></a>counties_selected <span class="sc">%&gt;%</span></span>
<span id="cb581-2"><a href="data-manipulation-with-dplyr.html#cb581-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state, metro) <span class="sc">%&gt;%</span></span>
<span id="cb581-3"><a href="data-manipulation-with-dplyr.html#cb581-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_pop =</span> <span class="fu">sum</span>(population)) <span class="sc">%&gt;%</span></span>
<span id="cb581-4"><a href="data-manipulation-with-dplyr.html#cb581-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, total_pop) <span class="sc">%&gt;%</span></span>
<span id="cb581-5"><a href="data-manipulation-with-dplyr.html#cb581-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>(total_pop) <span class="sc">%&gt;%</span></span>
<span id="cb581-6"><a href="data-manipulation-with-dplyr.html#cb581-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(metro)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   metro     n
##   &lt;fct&gt; &lt;int&gt;
## 1 &quot;&quot;       50</code></pre>
<p>Notice that 44 states have more people living in Metro areas, and 6 states have more people living in Nonmetro areas.</p>
<hr />
</div>
</div>
</div>
<div id="selecting-and-transforming-data" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Selecting and Transforming Data</h2>
<p>Learn advanced methods to select and transform columns. Also learn about select helpers, which are functions that specify criteria for columns you want to choose, as well as the rename and transmute verbs.</p>
<div id="video-selecting" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Video: Selecting</h3>
</div>
<div id="selecting-columns-1" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Selecting columns</h3>
<p>Using the select verb, we can answer interesting questions about our dataset by focusing in on related groups of verbs. The colon (<code>:</code>) is useful for getting many columns at a time.</p>
<div id="glimpse-the-counties-table" class="section level4" number="4.3.2.1">
<h4><span class="header-section-number">4.3.2.1</span> Glimpse the counties table</h4>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="data-manipulation-with-dplyr.html#cb583-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(counties)</span></code></pre></div>
<pre><code>## Observations: 3,141
## Variables: 40
## $ census_id          &lt;int&gt; 1001, 1003, 1005, 1007, 1009, 1011, 10...
## $ state              &lt;fct&gt; Alabama, Alabama, Alabama, Alabama, Al...
## $ county             &lt;fct&gt; Autauga, Baldwin, Barbour, Bibb, Bloun...
## $ region             &lt;fct&gt; South, South, South, South, South, Sou...
## $ metro              &lt;fct&gt; , , , , , , , , , , , , , , , , , , , ...
## $ population         &lt;int&gt; 55221, 195121, 26932, 22604, 57710, 10...
## $ men                &lt;int&gt; 26745, 95314, 14497, 12073, 28512, 566...
## $ women              &lt;int&gt; 28476, 99807, 12435, 10531, 29198, 501...
## $ hispanic           &lt;dbl&gt; 2.6, 4.5, 4.6, 2.2, 8.6, 4.4, 1.2, 3.5...
## $ white              &lt;dbl&gt; 75.8, 83.1, 46.2, 74.5, 87.9, 22.2, 53...
## $ black              &lt;dbl&gt; 18.5, 9.5, 46.7, 21.4, 1.5, 70.7, 43.8...
## $ native             &lt;dbl&gt; 0.4, 0.6, 0.2, 0.4, 0.3, 1.2, 0.1, 0.2...
## $ asian              &lt;dbl&gt; 1.0, 0.7, 0.4, 0.1, 0.1, 0.2, 0.4, 0.9...
## $ pacific            &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0...
## $ citizens           &lt;int&gt; 40725, 147695, 20714, 17495, 42345, 80...
## $ income             &lt;int&gt; 51281, 50254, 32964, 38678, 45813, 319...
## $ income_err         &lt;int&gt; 2391, 1263, 2973, 3995, 3141, 5884, 17...
## $ income_per_cap     &lt;int&gt; 24974, 27317, 16824, 18431, 20532, 175...
## $ income_per_cap_err &lt;int&gt; 1080, 711, 798, 1618, 708, 2055, 714, ...
## $ poverty            &lt;dbl&gt; 12.9, 13.4, 26.7, 16.8, 16.7, 24.6, 25...
## $ child_poverty      &lt;dbl&gt; 18.6, 19.2, 45.3, 27.9, 27.2, 38.4, 39...
## $ professional       &lt;dbl&gt; 33.2, 33.1, 26.8, 21.5, 28.5, 18.8, 27...
## $ service            &lt;dbl&gt; 17.0, 17.7, 16.1, 17.9, 14.1, 15.0, 16...
## $ office             &lt;dbl&gt; 24.2, 27.1, 23.1, 17.8, 23.9, 19.7, 21...
## $ construction       &lt;dbl&gt; 8.6, 10.8, 10.8, 19.0, 13.5, 20.1, 10....
## $ production         &lt;dbl&gt; 17.1, 11.2, 23.1, 23.7, 19.9, 26.4, 23...
## $ drive              &lt;dbl&gt; 87.5, 84.7, 83.8, 83.2, 84.9, 74.9, 84...
## $ carpool            &lt;dbl&gt; 8.8, 8.8, 10.9, 13.5, 11.2, 14.9, 12.4...
## $ transit            &lt;dbl&gt; 0.1, 0.1, 0.4, 0.5, 0.4, 0.7, 0.0, 0.2...
## $ walk               &lt;dbl&gt; 0.5, 1.0, 1.8, 0.6, 0.9, 5.0, 0.8, 1.2...
## $ other_transp       &lt;dbl&gt; 1.3, 1.4, 1.5, 1.5, 0.4, 1.7, 0.6, 1.2...
## $ work_at_home       &lt;dbl&gt; 1.8, 3.9, 1.6, 0.7, 2.3, 2.8, 1.7, 2.7...
## $ mean_commute       &lt;dbl&gt; 26.5, 26.4, 24.1, 28.8, 34.9, 27.5, 24...
## $ employed           &lt;int&gt; 23986, 85953, 8597, 8294, 22189, 3865,...
## $ private_work       &lt;dbl&gt; 73.6, 81.5, 71.8, 76.8, 82.0, 79.5, 77...
## $ public_work        &lt;dbl&gt; 20.9, 12.3, 20.8, 16.1, 13.5, 15.1, 16...
## $ self_employed      &lt;dbl&gt; 5.5, 5.8, 7.3, 6.7, 4.2, 5.4, 6.2, 5.0...
## $ family_work        &lt;dbl&gt; 0.0, 0.4, 0.1, 0.4, 0.4, 0.0, 0.2, 0.1...
## $ unemployment       &lt;dbl&gt; 7.6, 7.5, 17.6, 8.3, 7.7, 18.0, 10.9, ...
## $ land_area          &lt;dbl&gt; 594.44, 1589.78, 884.88, 622.58, 644.7...</code></pre>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="data-manipulation-with-dplyr.html#cb585-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb585-2"><a href="data-manipulation-with-dplyr.html#cb585-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select state, county, population, and industry-related columns</span></span>
<span id="cb585-3"><a href="data-manipulation-with-dplyr.html#cb585-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, professional<span class="sc">:</span>production) <span class="sc">%&gt;%</span></span>
<span id="cb585-4"><a href="data-manipulation-with-dplyr.html#cb585-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange service in descending order </span></span>
<span id="cb585-5"><a href="data-manipulation-with-dplyr.html#cb585-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(service))</span></code></pre></div>
<p>Notice that when you select a group of related variables, it’s easy to find the insights you’re looking for.</p>
</div>
</div>
<div id="select-helpers" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Select helpers</h3>
<p>In the video you learned about the select helper <code>starts_with()</code>. Another select helper is <code>ends_with()</code>, which finds the columns that end with a particular string.</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="data-manipulation-with-dplyr.html#cb586-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb586-2"><a href="data-manipulation-with-dplyr.html#cb586-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the state, county, population, and those ending with &quot;work&quot;</span></span>
<span id="cb586-3"><a href="data-manipulation-with-dplyr.html#cb586-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, population, <span class="fu">ends_with</span>(<span class="st">&quot;work&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb586-4"><a href="data-manipulation-with-dplyr.html#cb586-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for counties that have at least 50% of people engaged in public work</span></span>
<span id="cb586-5"><a href="data-manipulation-with-dplyr.html#cb586-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(public_work <span class="sc">&gt;=</span> <span class="dv">50</span>)</span></code></pre></div>
<pre><code>##          state                     county population private_work
## 1       Alaska       Kusilvak Census Area       7914         45.4
## 2       Alaska Lake and Peninsula Borough       1474         42.2
## 3       Alaska  Yukon-Koyukuk Census Area       5644         33.3
## 4   California                     Lassen      32645         42.6
## 5       Hawaii                    Kalawao         85         25.0
## 6 North Dakota                      Sioux       4380         32.9
## 7 South Dakota              Oglala Lakota      14153         29.5
## 8 South Dakota                       Todd       9942         34.4
## 9    Wisconsin                  Menominee       4451         36.8
##   public_work family_work
## 1        53.8         0.3
## 2        51.6         0.2
## 3        61.7         0.0
## 4        50.5         0.1
## 5        64.1         0.0
## 6        56.8         0.1
## 7        66.2         0.0
## 8        55.0         0.8
## 9        59.1         0.4</code></pre>
<p>It looks like only a few counties have more than half the population working for the government.</p>
</div>
<div id="video-the-rename-verb" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Video: The rename verb</h3>
</div>
<div id="renaming-a-column-after-count" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Renaming a column after count</h3>
<p>The <code>rename()</code> verb is often useful for changing the name of a column that comes out of another verb, such as<code>count()</code>. In this exercise, you’ll rename the <code>n</code> column from <code>count()</code> (which you learned about in Chapter 2) to something more descriptive.</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="data-manipulation-with-dplyr.html#cb588-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the n column to num_counties</span></span>
<span id="cb588-2"><a href="data-manipulation-with-dplyr.html#cb588-2" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb588-3"><a href="data-manipulation-with-dplyr.html#cb588-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb588-4"><a href="data-manipulation-with-dplyr.html#cb588-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">num_counties =</span> n)</span></code></pre></div>
<pre><code>## # A tibble: 50 x 2
##    state       num_counties
##    &lt;fct&gt;              &lt;int&gt;
##  1 Alabama               67
##  2 Alaska                29
##  3 Arizona               15
##  4 Arkansas              75
##  5 California            58
##  6 Colorado              64
##  7 Connecticut            8
##  8 Delaware               3
##  9 Florida               67
## 10 Georgia              159
## # ... with 40 more rows</code></pre>
<p>Notice the difference between column names in the output from the first step to the second step. Don’t forget, using <code>rename()</code> isn’t the only way to choose a new name for a column!</p>
</div>
<div id="renaming-a-column-as-part-of-a-select" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Renaming a column as part of a select</h3>
<p><code>rename()</code> isn’t the only way you can choose a new name for a column: you can also choose a name as part of a <code>select()</code>.</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="data-manipulation-with-dplyr.html#cb590-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select state, county, and poverty as poverty_rate</span></span>
<span id="cb590-2"><a href="data-manipulation-with-dplyr.html#cb590-2" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb590-3"><a href="data-manipulation-with-dplyr.html#cb590-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, <span class="at">poverty_rate =</span> poverty)</span></code></pre></div>
<p>As you can see, we were able to select the four columns of interest from our dataset, and rename one of those columns, using only the <code>select()</code> verb!</p>
</div>
<div id="video-the-transmute-verb" class="section level3" number="4.3.7">
<h3><span class="header-section-number">4.3.7</span> Video: The transmute verb</h3>
</div>
<div id="question-choosing-among-verbs" class="section level3" number="4.3.8">
<h3><span class="header-section-number">4.3.8</span> Question: Choosing among verbs</h3>
<p><img src="C:/Users/user/Documents/R/RProgforBus/select_mutate_rename_transmute.png" /> Source: DataCamp</p>
<p>Recall, you can think of <code>transmute()</code> as a combination of <code>select()</code> and <code>mutate()</code>, since you are getting back a subset of columns, but you are transforming and changing them at the same time.</p>
</div>
<div id="using-transmute" class="section level3" number="4.3.9">
<h3><span class="header-section-number">4.3.9</span> Using transmute</h3>
<p>As you learned in the video, the transmute verb allows you to control which variables you keep, which variables you calculate, and which variables you drop.</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="data-manipulation-with-dplyr.html#cb591-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb591-2"><a href="data-manipulation-with-dplyr.html#cb591-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep the state, county, and populations columns, and add a density column</span></span>
<span id="cb591-3"><a href="data-manipulation-with-dplyr.html#cb591-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(state, county, population, <span class="at">density =</span> population <span class="sc">/</span> land_area) <span class="sc">%&gt;%</span></span>
<span id="cb591-4"><a href="data-manipulation-with-dplyr.html#cb591-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for counties with a population greater than one million </span></span>
<span id="cb591-5"><a href="data-manipulation-with-dplyr.html#cb591-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;</span> <span class="dv">1000000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb591-6"><a href="data-manipulation-with-dplyr.html#cb591-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort density in ascending order </span></span>
<span id="cb591-7"><a href="data-manipulation-with-dplyr.html#cb591-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(density)</span></code></pre></div>
<pre><code>##            state         county population    density
## 1     California San Bernardino    2094769   104.4411
## 2         Nevada          Clark    2035572   257.9472
## 3     California      Riverside    2298032   318.8841
## 4        Arizona       Maricopa    4018143   436.7480
## 5        Florida     Palm Beach    1378806   699.9868
## 6     California      San Diego    3223096   766.1943
## 7     Washington           King    2045756   966.9999
## 8          Texas         Travis    1121645  1132.7459
## 9        Florida   Hillsborough    1302884  1277.0743
## 10       Florida         Orange    1229039  1360.4142
## 11       Florida     Miami-Dade    2639042  1390.6382
## 12      Michigan        Oakland    1229503  1417.0332
## 13    California    Santa Clara    1868149  1448.0653
## 14          Utah      Salt Lake    1078958  1453.5728
## 15         Texas          Bexar    1825502  1472.3928
## 16    California     Sacramento    1465832  1519.5638
## 17       Florida        Broward    1843152  1523.5305
## 18    California   Contra Costa    1096068  1530.9495
## 19      New York        Suffolk    1501373  1646.1521
## 20  Pennsylvania      Allegheny    1231145  1686.3152
## 21 Massachusetts      Middlesex    1556116  1902.7610
## 22      Missouri      St. Louis    1001327  1971.8925
## 23      Maryland     Montgomery    1017859  2071.9776
## 24    California        Alameda    1584983  2144.7092
## 25     Minnesota       Hennepin    1197776  2163.6518
## 26         Texas        Tarrant    1914526  2216.8873
## 27          Ohio       Franklin    1215761  2284.4492
## 28    California    Los Angeles   10038388  2473.8011
## 29         Texas         Harris    4356362  2557.3309
## 30          Ohio       Cuyahoga    1263189  2762.9410
## 31         Texas         Dallas    2485003  2852.1291
## 32      Virginia        Fairfax    1128722  2886.9785
## 33      Michigan          Wayne    1778969  2906.4322
## 34    California         Orange    3116069  3941.5472
## 35      New York         Nassau    1354612  4757.6988
## 36      Illinois           Cook    5236393  5539.2223
## 37  Pennsylvania   Philadelphia    1555072 11596.3609
## 38      New York         Queens    2301139 21202.7919
## 39      New York          Bronx    1428357 33927.7197
## 40      New York          Kings    2595259 36645.8486
## 41      New York       New York    1629507 71375.6899</code></pre>
<p>Looks like San Bernadino is the lowest density county with a population about one million.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="data-manipulation-with-dplyr.html#cb593-1" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb593-2"><a href="data-manipulation-with-dplyr.html#cb593-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep the state, county, and populations columns, and add a density column</span></span>
<span id="cb593-3"><a href="data-manipulation-with-dplyr.html#cb593-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(state, county, population, <span class="at">density =</span> population <span class="sc">/</span> land_area) <span class="sc">%&gt;%</span></span>
<span id="cb593-4"><a href="data-manipulation-with-dplyr.html#cb593-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for counties with a population greater than one million </span></span>
<span id="cb593-5"><a href="data-manipulation-with-dplyr.html#cb593-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(population <span class="sc">&gt;</span> <span class="dv">1000000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb593-6"><a href="data-manipulation-with-dplyr.html#cb593-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort density in ascending order </span></span>
<span id="cb593-7"><a href="data-manipulation-with-dplyr.html#cb593-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(density)</span></code></pre></div>
<pre><code>##            state         county population    density
## 1     California San Bernardino    2094769   104.4411
## 2         Nevada          Clark    2035572   257.9472
## 3     California      Riverside    2298032   318.8841
## 4        Arizona       Maricopa    4018143   436.7480
## 5        Florida     Palm Beach    1378806   699.9868
## 6     California      San Diego    3223096   766.1943
## 7     Washington           King    2045756   966.9999
## 8          Texas         Travis    1121645  1132.7459
## 9        Florida   Hillsborough    1302884  1277.0743
## 10       Florida         Orange    1229039  1360.4142
## 11       Florida     Miami-Dade    2639042  1390.6382
## 12      Michigan        Oakland    1229503  1417.0332
## 13    California    Santa Clara    1868149  1448.0653
## 14          Utah      Salt Lake    1078958  1453.5728
## 15         Texas          Bexar    1825502  1472.3928
## 16    California     Sacramento    1465832  1519.5638
## 17       Florida        Broward    1843152  1523.5305
## 18    California   Contra Costa    1096068  1530.9495
## 19      New York        Suffolk    1501373  1646.1521
## 20  Pennsylvania      Allegheny    1231145  1686.3152
## 21 Massachusetts      Middlesex    1556116  1902.7610
## 22      Missouri      St. Louis    1001327  1971.8925
## 23      Maryland     Montgomery    1017859  2071.9776
## 24    California        Alameda    1584983  2144.7092
## 25     Minnesota       Hennepin    1197776  2163.6518
## 26         Texas        Tarrant    1914526  2216.8873
## 27          Ohio       Franklin    1215761  2284.4492
## 28    California    Los Angeles   10038388  2473.8011
## 29         Texas         Harris    4356362  2557.3309
## 30          Ohio       Cuyahoga    1263189  2762.9410
## 31         Texas         Dallas    2485003  2852.1291
## 32      Virginia        Fairfax    1128722  2886.9785
## 33      Michigan          Wayne    1778969  2906.4322
## 34    California         Orange    3116069  3941.5472
## 35      New York         Nassau    1354612  4757.6988
## 36      Illinois           Cook    5236393  5539.2223
## 37  Pennsylvania   Philadelphia    1555072 11596.3609
## 38      New York         Queens    2301139 21202.7919
## 39      New York          Bronx    1428357 33927.7197
## 40      New York          Kings    2595259 36645.8486
## 41      New York       New York    1629507 71375.6899</code></pre>
</div>
<div id="question-matching-verbs-to-their-definitions" class="section level3" number="4.3.10">
<h3><span class="header-section-number">4.3.10</span> Question: Matching verbs to their definitions</h3>
<p>We’ve learned a number of new verbs in this chapter that you can use to modify and change the variables you have.</p>
<ul>
<li><code>rename</code>: Leaves the column you don’t mention alone; doesn’t allow you to calculate or change values.</li>
<li><code>transmute</code>: Must mention all the columns you keep; allows you to calculate or change values.</li>
<li><code>mutate</code>: Leaves the columns you don’t mention alone; allows you to calculate or change values.</li>
</ul>
<p>Let’s continue practising using the verbs to gain a better understanding of the differences between them.</p>
</div>
<div id="choosing-among-the-four-verbs" class="section level3" number="4.3.11">
<h3><span class="header-section-number">4.3.11</span> Choosing among the four verbs</h3>
<p>In this chapter you’ve learned about the four verbs: select, mutate, transmute, and rename. Here, you’ll choose the appropriate verb for each situation. You won’t need to change anything inside the parentheses.</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="data-manipulation-with-dplyr.html#cb595-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the name of the unemployment column</span></span>
<span id="cb595-2"><a href="data-manipulation-with-dplyr.html#cb595-2" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb595-3"><a href="data-manipulation-with-dplyr.html#cb595-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">unemployment_rate =</span> unemployment)</span>
<span id="cb595-4"><a href="data-manipulation-with-dplyr.html#cb595-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb595-5"><a href="data-manipulation-with-dplyr.html#cb595-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep the state and county columns, and the columns containing poverty</span></span>
<span id="cb595-6"><a href="data-manipulation-with-dplyr.html#cb595-6" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb595-7"><a href="data-manipulation-with-dplyr.html#cb595-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state, county, <span class="fu">contains</span>(<span class="st">&quot;poverty&quot;</span>))</span>
<span id="cb595-8"><a href="data-manipulation-with-dplyr.html#cb595-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb595-9"><a href="data-manipulation-with-dplyr.html#cb595-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the fraction_women column without dropping the other columns</span></span>
<span id="cb595-10"><a href="data-manipulation-with-dplyr.html#cb595-10" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb595-11"><a href="data-manipulation-with-dplyr.html#cb595-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fraction_women =</span> women <span class="sc">/</span> population)</span>
<span id="cb595-12"><a href="data-manipulation-with-dplyr.html#cb595-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb595-13"><a href="data-manipulation-with-dplyr.html#cb595-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep only the state, county, and employment_rate columns</span></span>
<span id="cb595-14"><a href="data-manipulation-with-dplyr.html#cb595-14" aria-hidden="true" tabindex="-1"></a>counties <span class="sc">%&gt;%</span></span>
<span id="cb595-15"><a href="data-manipulation-with-dplyr.html#cb595-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(state, county, <span class="at">employment_rate =</span> employed <span class="sc">/</span> population)</span></code></pre></div>
<p>Now you know which variable to choose depending on whether you want to keep, drop, rename, or change a variable in the dataset.</p>
<hr />
</div>
</div>
<div id="case-study-the-babynames-dataset" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Case Study: The babynames Dataset</h2>
<p>Work with a new dataset that represents the names of babies born in the United States each year. Learn how to use grouped mutates and window functions to ask and answer more complex questions about your data. And use a combination of dplyr and ggplot2 to make interesting graphs to further explore your data.</p>
<div id="video-the-babynames-data" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Video: The babynames data</h3>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="data-manipulation-with-dplyr.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames) </span>
<span id="cb596-2"><a href="data-manipulation-with-dplyr.html#cb596-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb596-3"><a href="data-manipulation-with-dplyr.html#cb596-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="data-manipulation-with-dplyr.html#cb597-1" aria-hidden="true" tabindex="-1"></a>babynames <span class="ot">&lt;-</span> babynames <span class="sc">%&gt;%</span> </span>
<span id="cb597-2"><a href="data-manipulation-with-dplyr.html#cb597-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, name, number) <span class="sc">%&gt;%</span> </span>
<span id="cb597-3"><a href="data-manipulation-with-dplyr.html#cb597-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, name) <span class="sc">%&gt;%</span> </span>
<span id="cb597-4"><a href="data-manipulation-with-dplyr.html#cb597-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">number =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span> </span>
<span id="cb597-5"><a href="data-manipulation-with-dplyr.html#cb597-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ungroup() %&gt;% </span></span>
<span id="cb597-6"><a href="data-manipulation-with-dplyr.html#cb597-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, name)</span>
<span id="cb597-7"><a href="data-manipulation-with-dplyr.html#cb597-7" aria-hidden="true" tabindex="-1"></a>babynames</span></code></pre></div>
<pre><code>## # A tibble: 1,756,284 x 3
## # Groups:   year [138]
##     year name    number
##    &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;
##  1  1880 Aaron      102
##  2  1880 Ab           5
##  3  1880 Abbie       71
##  4  1880 Abbott       5
##  5  1880 Abby         6
##  6  1880 Abe         50
##  7  1880 Abel         9
##  8  1880 Abigail     12
##  9  1880 Abner       27
## 10  1880 Abraham     81
## # ... with 1,756,274 more rows</code></pre>
</div>
<div id="filtering-and-arranging-for-one-year" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Filtering and arranging for one year</h3>
<p>The dplyr verbs you’ve learned are useful for exploring data. For instance, you could find out the most common names in a particular year.</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="data-manipulation-with-dplyr.html#cb599-1" aria-hidden="true" tabindex="-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb599-2"><a href="data-manipulation-with-dplyr.html#cb599-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for the year 1990</span></span>
<span id="cb599-3"><a href="data-manipulation-with-dplyr.html#cb599-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1990</span>) <span class="sc">%&gt;%</span></span>
<span id="cb599-4"><a href="data-manipulation-with-dplyr.html#cb599-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort the number column in descending order </span></span>
<span id="cb599-5"><a href="data-manipulation-with-dplyr.html#cb599-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(number))</span></code></pre></div>
<pre><code>## # A tibble: 22,678 x 3
## # Groups:   year [1]
##     year name        number
##    &lt;dbl&gt; &lt;chr&gt;        &lt;int&gt;
##  1  1990 Michael      65560
##  2  1990 Christopher  52520
##  3  1990 Jessica      46615
##  4  1990 Ashley       45797
##  5  1990 Matthew      44925
##  6  1990 Joshua       43382
##  7  1990 Brittany     36650
##  8  1990 Amanda       34504
##  9  1990 Daniel       33963
## 10  1990 David        33862
## # ... with 22,668 more rows</code></pre>
<p>It looks like the most common names for babies born in the US in 1990 were Michael, Christopher, and Jessica.</p>
</div>
<div id="using-top_n-with-babynames" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Using top_n with babynames</h3>
<p>You saw that you could use <code>filter()</code> and <code>arrange()</code> to find the most common names in one year. However, you could also use <code>group_by</code> and <code>top_n</code> to find the most common name in every year.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="data-manipulation-with-dplyr.html#cb601-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the most common name in each year</span></span>
<span id="cb601-2"><a href="data-manipulation-with-dplyr.html#cb601-2" aria-hidden="true" tabindex="-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb601-3"><a href="data-manipulation-with-dplyr.html#cb601-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb601-4"><a href="data-manipulation-with-dplyr.html#cb601-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, number)</span></code></pre></div>
<pre><code>## # A tibble: 138 x 3
## # Groups:   year [138]
##     year name  number
##    &lt;dbl&gt; &lt;chr&gt;  &lt;int&gt;
##  1  1880 John    9701
##  2  1881 John    8795
##  3  1882 John    9597
##  4  1883 John    8934
##  5  1884 John    9428
##  6  1885 Mary    9166
##  7  1886 Mary    9921
##  8  1887 Mary    9935
##  9  1888 Mary   11804
## 10  1889 Mary   11689
## # ... with 128 more rows</code></pre>
<p>It looks like John was the most common name in 1880, and Mary was the most common name for a while after that.</p>
</div>
<div id="visualizing-names-with-ggplot2" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Visualizing names with ggplot2</h3>
<p>The <code>dplyr</code> package is very useful for exploring data, but it’s especially useful when combined with other <code>tidyverse</code> packages like <code>ggplot2</code>. (As of tidyverse 1.3.0, the following packages are included in the core tidyverse: <code>dplyr</code>, <code>ggplot2</code>, <code>tidyr</code>, <code>readr</code>, <code>purrr</code>, <code>tibble</code>, <code>stringr</code>, <code>forcats</code>. To make sure you are able to access the package, install all the packages in the tidyverse by running <code>install.packages("tidyverse")</code>, then run <code>library(tidyverse)</code> to load the core tidyverse and make it available in your current R session.)</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="data-manipulation-with-dplyr.html#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for the names Steven, Thomas, and Matthew </span></span>
<span id="cb603-2"><a href="data-manipulation-with-dplyr.html#cb603-2" aria-hidden="true" tabindex="-1"></a>selected_names <span class="ot">&lt;-</span> babynames <span class="sc">%&gt;%</span></span>
<span id="cb603-3"><a href="data-manipulation-with-dplyr.html#cb603-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Steven&quot;</span>, <span class="st">&quot;Thomas&quot;</span>, <span class="st">&quot;Matthew&quot;</span>))</span>
<span id="cb603-4"><a href="data-manipulation-with-dplyr.html#cb603-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb603-5"><a href="data-manipulation-with-dplyr.html#cb603-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the names using a different color for each name</span></span>
<span id="cb603-6"><a href="data-manipulation-with-dplyr.html#cb603-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(selected_names, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> number, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb603-7"><a href="data-manipulation-with-dplyr.html#cb603-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-359-1.png" width="672" /></p>
<p>It looks like names like Steven and Thomas were common in the 1950s, but Matthew became common more recently.</p>
</div>
<div id="video-grouped-mutates" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> Video: Grouped mutates</h3>
</div>
<div id="finding-the-year-each-name-is-most-common" class="section level3" number="4.4.6">
<h3><span class="header-section-number">4.4.6</span> Finding the year each name is most common</h3>
<p>In an earlier video, you learned how to filter for a particular name to determine the frequency of that name over time. Now, you’re going to explore which year each name was the most common.</p>
<p>To do this, you’ll be combining the grouped mutate approach with a <code>top_n</code>.</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="data-manipulation-with-dplyr.html#cb604-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the fraction of people born each year with the same name</span></span>
<span id="cb604-2"><a href="data-manipulation-with-dplyr.html#cb604-2" aria-hidden="true" tabindex="-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb604-3"><a href="data-manipulation-with-dplyr.html#cb604-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb604-4"><a href="data-manipulation-with-dplyr.html#cb604-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_total =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb604-5"><a href="data-manipulation-with-dplyr.html#cb604-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb604-6"><a href="data-manipulation-with-dplyr.html#cb604-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fraction =</span> number <span class="sc">/</span> year_total) <span class="sc">%&gt;%</span></span>
<span id="cb604-7"><a href="data-manipulation-with-dplyr.html#cb604-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the year each name is most common</span></span>
<span id="cb604-8"><a href="data-manipulation-with-dplyr.html#cb604-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span></span>
<span id="cb604-9"><a href="data-manipulation-with-dplyr.html#cb604-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, fraction)</span></code></pre></div>
<pre><code>## # A tibble: 97,310 x 5
## # Groups:   name [97,310]
##     year name     number year_total  fraction
##    &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt;      &lt;int&gt;     &lt;dbl&gt;
##  1  1880 Abbott        5     201484 0.0000248
##  2  1880 Abe          50     201484 0.000248 
##  3  1880 Adelbert     28     201484 0.000139 
##  4  1880 Adella       26     201484 0.000129 
##  5  1880 Agustus       5     201484 0.0000248
##  6  1880 Albert     1493     201484 0.00741  
##  7  1880 Albertus      5     201484 0.0000248
##  8  1880 Alcide        7     201484 0.0000347
##  9  1880 Alonzo      122     201484 0.000606 
## 10  1880 Amos        128     201484 0.000635 
## # ... with 97,300 more rows</code></pre>
<p>Notice that the results are grouped by <code>year</code>, then <code>name</code>, so the first few entries are names that were most popular in the 1880’s that start with the letter A.</p>
</div>
<div id="adding-the-total-and-maximum-for-each-name" class="section level3" number="4.4.7">
<h3><span class="header-section-number">4.4.7</span> Adding the total and maximum for each name</h3>
<p>In the video, you learned how you could group by the year and use <code>mutate()</code> to add a total for that year.</p>
<p>In these exercises, you’ll learn to normalize by a different, but also interesting metric: you’ll divide each name by the <em>maximum for that name</em>. This means that every name will peak at 1.</p>
<p>Once you add new columns, the result will still be grouped by name. This splits it into 48,000 groups, which actually makes later steps like <code>mutate</code> slower.</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="data-manipulation-with-dplyr.html#cb606-1" aria-hidden="true" tabindex="-1"></a>babynames <span class="sc">%&gt;%</span></span>
<span id="cb606-2"><a href="data-manipulation-with-dplyr.html#cb606-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span></span>
<span id="cb606-3"><a href="data-manipulation-with-dplyr.html#cb606-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name_total =</span> <span class="fu">sum</span>(number),</span>
<span id="cb606-4"><a href="data-manipulation-with-dplyr.html#cb606-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">name_max =</span> <span class="fu">max</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb606-5"><a href="data-manipulation-with-dplyr.html#cb606-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ungroup the table </span></span>
<span id="cb606-6"><a href="data-manipulation-with-dplyr.html#cb606-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb606-7"><a href="data-manipulation-with-dplyr.html#cb606-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add the fraction_max column containing the number by the name maximum </span></span>
<span id="cb606-8"><a href="data-manipulation-with-dplyr.html#cb606-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fraction_max =</span> number <span class="sc">/</span> name_max)</span></code></pre></div>
<pre><code>## # A tibble: 1,756,284 x 6
##     year name    number name_total name_max fraction_max
##    &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;      &lt;int&gt;    &lt;int&gt;        &lt;dbl&gt;
##  1  1880 Aaron      102     579589    15411     0.00662 
##  2  1880 Ab           5        362       41     0.122   
##  3  1880 Abbie       71      21716      536     0.132   
##  4  1880 Abbott       5       1020       59     0.0847  
##  5  1880 Abby         6      57756     2048     0.00293 
##  6  1880 Abe         50       9158      280     0.179   
##  7  1880 Abel         9      50236     3245     0.00277 
##  8  1880 Abigail     12     357031    15948     0.000752
##  9  1880 Abner       27       7641      202     0.134   
## 10  1880 Abraham     81      88852     2575     0.0315  
## # ... with 1,756,274 more rows</code></pre>
<p>This tells you, for example, that the name Abe was at 18.5% of its peak in the year 1880.</p>
</div>
<div id="visualizing-the-normalized-change-in-popularity" class="section level3" number="4.4.8">
<h3><span class="header-section-number">4.4.8</span> Visualizing the normalized change in popularity</h3>
<p>You picked a few names and calculated each of them as a fraction of their peak. This is a type of “normalizing” a name, where you’re focused on the relative change within each name rather than the overall popularity of the name.</p>
<p>In this exercise, you’ll visualize the normalized popularity of each name. Your work from the previous exercise, <code>names_normalized</code>, has been provided for you.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="data-manipulation-with-dplyr.html#cb608-1" aria-hidden="true" tabindex="-1"></a>names_normalized <span class="ot">&lt;-</span> babynames <span class="sc">%&gt;%</span></span>
<span id="cb608-2"><a href="data-manipulation-with-dplyr.html#cb608-2" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span></span>
<span id="cb608-3"><a href="data-manipulation-with-dplyr.html#cb608-3" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">mutate</span>(<span class="at">name_total =</span> <span class="fu">sum</span>(number),</span>
<span id="cb608-4"><a href="data-manipulation-with-dplyr.html#cb608-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">name_max =</span> <span class="fu">max</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb608-5"><a href="data-manipulation-with-dplyr.html#cb608-5" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb608-6"><a href="data-manipulation-with-dplyr.html#cb608-6" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">mutate</span>(<span class="at">fraction_max =</span> number <span class="sc">/</span> name_max)</span></code></pre></div>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="data-manipulation-with-dplyr.html#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for the names Steven, Thomas, and Matthew</span></span>
<span id="cb609-2"><a href="data-manipulation-with-dplyr.html#cb609-2" aria-hidden="true" tabindex="-1"></a>names_filtered <span class="ot">&lt;-</span> names_normalized <span class="sc">%&gt;%</span></span>
<span id="cb609-3"><a href="data-manipulation-with-dplyr.html#cb609-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Steven&quot;</span>, <span class="st">&quot;Thomas&quot;</span>, <span class="st">&quot;Matthew&quot;</span>))</span>
<span id="cb609-4"><a href="data-manipulation-with-dplyr.html#cb609-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize these names over time</span></span>
<span id="cb609-5"><a href="data-manipulation-with-dplyr.html#cb609-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(names_filtered, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> fraction_max, <span class="at">color =</span> name)) <span class="sc">+</span></span>
<span id="cb609-6"><a href="data-manipulation-with-dplyr.html#cb609-6" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-363-1.png" width="672" /></p>
<p>As you can see, the line for each name hits a peak at 1, although the peak year differs for each name.</p>
</div>
<div id="video-window-functions" class="section level3" number="4.4.9">
<h3><span class="header-section-number">4.4.9</span> Video: Window functions</h3>
<p>The code shown at the end of the video (finding the variable <code>difference</code> for all names) contains a mistake. Can you spot it? Below is the corrected code.</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="data-manipulation-with-dplyr.html#cb610-1" aria-hidden="true" tabindex="-1"></a><span class="co"># As we did before, but now naming it babynames_fraction</span></span>
<span id="cb610-2"><a href="data-manipulation-with-dplyr.html#cb610-2" aria-hidden="true" tabindex="-1"></a>babynames_fraction <span class="ot">&lt;-</span> babynames <span class="sc">%&gt;%</span></span>
<span id="cb610-3"><a href="data-manipulation-with-dplyr.html#cb610-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb610-4"><a href="data-manipulation-with-dplyr.html#cb610-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_total =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span> </span>
<span id="cb610-5"><a href="data-manipulation-with-dplyr.html#cb610-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb610-6"><a href="data-manipulation-with-dplyr.html#cb610-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fraction =</span> number <span class="sc">/</span> year_total)</span>
<span id="cb610-7"><a href="data-manipulation-with-dplyr.html#cb610-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Just for Matthew</span></span>
<span id="cb610-8"><a href="data-manipulation-with-dplyr.html#cb610-8" aria-hidden="true" tabindex="-1"></a>babynames_fraction <span class="sc">%&gt;%</span> </span>
<span id="cb610-9"><a href="data-manipulation-with-dplyr.html#cb610-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;Matthew&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb610-10"><a href="data-manipulation-with-dplyr.html#cb610-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb610-11"><a href="data-manipulation-with-dplyr.html#cb610-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display change in prevalence from year to year</span></span>
<span id="cb610-12"><a href="data-manipulation-with-dplyr.html#cb610-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">difference =</span> fraction <span class="sc">-</span> <span class="fu">lag</span>(fraction)) <span class="sc">%&gt;%</span> </span>
<span id="cb610-13"><a href="data-manipulation-with-dplyr.html#cb610-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Arange in descending order</span></span>
<span id="cb610-14"><a href="data-manipulation-with-dplyr.html#cb610-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(difference))</span></code></pre></div>
<pre><code>## # A tibble: 138 x 6
##     year name    number year_total fraction difference
##    &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;      &lt;int&gt;    &lt;dbl&gt;      &lt;dbl&gt;
##  1  1981 Matthew  43531    3459182  0.0126    0.00154 
##  2  1983 Matthew  50531    3462826  0.0146    0.00138 
##  3  1971 Matthew  22653    3432585  0.00660   0.000982
##  4  1967 Matthew  13629    3395130  0.00401   0.000894
##  5  1973 Matthew  24658    3017412  0.00817   0.000835
##  6  1974 Matthew  27332    3040409  0.00899   0.000818
##  7  1978 Matthew  34468    3174268  0.0109    0.000741
##  8  1972 Matthew  23066    3143627  0.00734   0.000738
##  9  1968 Matthew  15915    3378876  0.00471   0.000696
## 10  1982 Matthew  46333    3507664  0.0132    0.000625
## # ... with 128 more rows</code></pre>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="data-manipulation-with-dplyr.html#cb612-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For all names</span></span>
<span id="cb612-2"><a href="data-manipulation-with-dplyr.html#cb612-2" aria-hidden="true" tabindex="-1"></a>babynames_fraction <span class="sc">%&gt;%</span> </span>
<span id="cb612-3"><a href="data-manipulation-with-dplyr.html#cb612-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span> </span>
<span id="cb612-4"><a href="data-manipulation-with-dplyr.html#cb612-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display change in prevalence from year to year</span></span>
<span id="cb612-5"><a href="data-manipulation-with-dplyr.html#cb612-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">difference =</span> fraction <span class="sc">-</span> <span class="fu">lag</span>(fraction)) <span class="sc">%&gt;%</span> </span>
<span id="cb612-6"><a href="data-manipulation-with-dplyr.html#cb612-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Arange in descending order</span></span>
<span id="cb612-7"><a href="data-manipulation-with-dplyr.html#cb612-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name, year)</span></code></pre></div>
<pre><code>## # A tibble: 1,756,284 x 6
## # Groups:   name [97,310]
##     year name  number year_total   fraction difference
##    &lt;dbl&gt; &lt;chr&gt;  &lt;int&gt;      &lt;int&gt;      &lt;dbl&gt;      &lt;dbl&gt;
##  1  2007 Aaban      5    3994007 0.00000125   NA      
##  2  2009 Aaban      6    3815638 0.00000157    3.21e-7
##  3  2010 Aaban      9    3690700 0.00000244    8.66e-7
##  4  2011 Aaban     11    3651914 0.00000301    5.74e-7
##  5  2012 Aaban     11    3650462 0.00000301    1.20e-9
##  6  2013 Aaban     14    3637310 0.00000385    8.36e-7
##  7  2014 Aaban     16    3696311 0.00000433    4.80e-7
##  8  2015 Aaban     15    3688687 0.00000407   -2.62e-7
##  9  2016 Aaban      9    3652968 0.00000246   -1.60e-6
## 10  2017 Aaban     11    3546301 0.00000310    6.38e-7
## # ... with 1,756,274 more rows</code></pre>
</div>
<div id="using-ratios-to-describe-the-frequency-of-a-name" class="section level3" number="4.4.10">
<h3><span class="header-section-number">4.4.10</span> Using ratios to describe the frequency of a name</h3>
<p>In the video, you learned how to find the difference in the frequency of a baby name between consecutive years. What if instead of finding the difference, you wanted to find the ratio?</p>
<p>You’ll start with the <code>babynames_fraction</code> data already, so that you can consider the popularity of each name within each year.</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="data-manipulation-with-dplyr.html#cb614-1" aria-hidden="true" tabindex="-1"></a>babynames_ratio <span class="ot">&lt;-</span> babynames_fraction <span class="sc">%&gt;%</span></span>
<span id="cb614-2"><a href="data-manipulation-with-dplyr.html#cb614-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Arrange the data in order of name, then year </span></span>
<span id="cb614-3"><a href="data-manipulation-with-dplyr.html#cb614-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name, year) <span class="sc">%&gt;%</span></span>
<span id="cb614-4"><a href="data-manipulation-with-dplyr.html#cb614-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group the data by name</span></span>
<span id="cb614-5"><a href="data-manipulation-with-dplyr.html#cb614-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span></span>
<span id="cb614-6"><a href="data-manipulation-with-dplyr.html#cb614-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a ratio column that contains the ratio between each year </span></span>
<span id="cb614-7"><a href="data-manipulation-with-dplyr.html#cb614-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> fraction <span class="sc">/</span> <span class="fu">lag</span>(fraction))</span></code></pre></div>
<p>Notice that the first observation for each name is missing a ratio, since there is no previous year.</p>
</div>
<div id="biggest-jumps-in-a-name" class="section level3" number="4.4.11">
<h3><span class="header-section-number">4.4.11</span> Biggest jumps in a name</h3>
<p>Previously, you added a <code>ratio</code> column to describe the ratio of the frequency of a baby name between consecutive years to describe the changes in the popularity of a name. Now, you’ll look at a subset of that data, called <code>babynames_ratios_filtered</code>, to look further into the names that experienced the biggest jumps in popularity in consecutive years.</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="data-manipulation-with-dplyr.html#cb615-1" aria-hidden="true" tabindex="-1"></a>babynames_ratios_filtered <span class="ot">&lt;-</span> babynames_ratio <span class="sc">%&gt;%</span></span>
<span id="cb615-2"><a href="data-manipulation-with-dplyr.html#cb615-2" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">filter</span>(fraction <span class="sc">&gt;=</span> <span class="fl">0.00001</span>)</span></code></pre></div>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="data-manipulation-with-dplyr.html#cb616-1" aria-hidden="true" tabindex="-1"></a>babynames_ratios_filtered <span class="sc">%&gt;%</span></span>
<span id="cb616-2"><a href="data-manipulation-with-dplyr.html#cb616-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the largest ratio from each name </span></span>
<span id="cb616-3"><a href="data-manipulation-with-dplyr.html#cb616-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">1</span>, ratio) <span class="sc">%&gt;%</span></span>
<span id="cb616-4"><a href="data-manipulation-with-dplyr.html#cb616-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort the ratio column in descending order </span></span>
<span id="cb616-5"><a href="data-manipulation-with-dplyr.html#cb616-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ratio)) <span class="sc">%&gt;%</span></span>
<span id="cb616-6"><a href="data-manipulation-with-dplyr.html#cb616-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for fractions greater than or equal to 0.001</span></span>
<span id="cb616-7"><a href="data-manipulation-with-dplyr.html#cb616-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fraction <span class="sc">&gt;=</span> <span class="fl">0.001</span>)</span></code></pre></div>
<pre><code>## # A tibble: 155 x 6
## # Groups:   name [155]
##     year name    number year_total fraction ratio
##    &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;      &lt;int&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1  1957 Tammy     4398    4200007  0.00105 16.3 
##  2  1912 Woodrow   1854     988064  0.00188  9.99
##  3  1931 Marlene   2599    2104071  0.00124  8.97
##  4  1898 Dewey     1219     381458  0.00320  6.48
##  5  2010 Bentley   4001    3690700  0.00108  6.21
##  6  1884 Grover     809     243462  0.00332  5.68
##  7  1984 Jenna     5898    3487820  0.00169  5.01
##  8  1991 Mariah    5200    3894329  0.00134  4.78
##  9  1943 Cheryl    2894    2822127  0.00103  4.75
## 10  1989 Ethan     4067    3843559  0.00106  4.37
## # ... with 145 more rows</code></pre>
<p>Some of these can be interpreted: for example, Grover Cleveland was a president elected in 1884.</p>
</div>
<div id="video-contratulations" class="section level3" number="4.4.12">
<h3><span class="header-section-number">4.4.12</span> Video: Contratulations!</h3>
<p>You’ll find all of these skills valuable is these other DataCamp courses:</p>
<ul>
<li>Exploratory Data Analysis in R: Case Study</li>
<li>Working with Data in the Tidyverse</li>
<li>Machine Learning in the Tidyverse</li>
<li>Categorical Data in the Tidyverse</li>
</ul>
<hr />
</div>
</div>
<div id="challenge-1" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Challenge</h2>
<p>Hey</p>
<hr />
</div>
<div id="solutions-1" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Solutions</h2>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="data-manipulation-with-dplyr.html#cb618-1" aria-hidden="true" tabindex="-1"></a>sw <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>starwars <span class="co"># Create sw dataframe</span></span>
<span id="cb618-2"><a href="data-manipulation-with-dplyr.html#cb618-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sw)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 13
##   name  height  mass hair_color skin_color eye_color birth_year gender
##   &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
## 1 Luke~    172    77 blond      fair       blue            19   male  
## 2 C-3PO    167    75 &lt;NA&gt;       gold       yellow         112   &lt;NA&gt;  
## 3 R2-D2     96    32 &lt;NA&gt;       white, bl~ red             33   &lt;NA&gt;  
## 4 Dart~    202   136 none       white      yellow          41.9 male  
## 5 Leia~    150    49 brown      light      brown           19   female
## 6 Owen~    178   120 brown, gr~ light      blue            52   male  
## # ... with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,
## #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<div id="question-1" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Question 1</h3>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="data-manipulation-with-dplyr.html#cb620-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sw) <span class="co"># 1.a.</span></span></code></pre></div>
<pre><code>## [1] 87 13</code></pre>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="data-manipulation-with-dplyr.html#cb622-1" aria-hidden="true" tabindex="-1"></a>dim.sw <span class="ot">&lt;-</span> <span class="fu">nrow</span>(sw)<span class="sc">*</span><span class="fu">ncol</span>(sw) <span class="co"># 1.b.</span></span></code></pre></div>
</div>
<div id="question-2" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Question 2</h3>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="data-manipulation-with-dplyr.html#cb623-1" aria-hidden="true" tabindex="-1"></a>na.cells <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(sw)) <span class="co"># 2.a.</span></span>
<span id="cb623-2"><a href="data-manipulation-with-dplyr.html#cb623-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb623-3"><a href="data-manipulation-with-dplyr.html#cb623-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">100</span><span class="sc">*</span>na.cells<span class="sc">/</span>dim.sw,<span class="dv">1</span>) <span class="co"># 2.b.</span></span></code></pre></div>
<pre><code>## [1] 8.9</code></pre>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="data-manipulation-with-dplyr.html#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sw[,<span class="fu">colSums</span>(<span class="fu">is.na</span>(sw)) <span class="sc">==</span> <span class="fu">max</span>(<span class="fu">colSums</span>(<span class="fu">is.na</span>(sw)))]) <span class="co"># 2.c.</span></span></code></pre></div>
<pre><code>## [1] &quot;birth_year&quot;</code></pre>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="data-manipulation-with-dplyr.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sw, <span class="fu">is.na</span>(homeworld)<span class="sc">==</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> (<span class="fu">is.na</span>(birth_year)<span class="sc">==</span><span class="cn">FALSE</span> <span class="sc">|</span> <span class="fu">is.na</span>(mass)<span class="sc">==</span><span class="cn">FALSE</span>))  <span class="co"># 2.d.</span></span></code></pre></div>
<pre><code>## # A tibble: 3 x 13
##   name  height  mass hair_color skin_color eye_color birth_year gender
##   &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
## 1 Yoda      66    17 white      green      brown            896 male  
## 2 IG-88    200   140 none       metal      red               15 none  
## 3 Qui-~    193    89 brown      fair       blue              92 male  
## # ... with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,
## #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
<div id="question-3" class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Question 3</h3>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="data-manipulation-with-dplyr.html#cb629-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sw<span class="sc">$</span>species)) <span class="co"># 3.</span></span></code></pre></div>
<pre><code>## [1] 38</code></pre>
</div>
<div id="question-4" class="section level3" number="4.6.4">
<h3><span class="header-section-number">4.6.4</span> Question 4</h3>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="data-manipulation-with-dplyr.html#cb631-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">which</span>(sw<span class="sc">$</span>species <span class="sc">==</span> <span class="st">&quot;Human&quot;</span>)) <span class="co"># 4.a.i</span></span></code></pre></div>
<pre><code>## [1] 35</code></pre>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="data-manipulation-with-dplyr.html#cb633-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 4.a.ii.</span></span>
<span id="cb633-2"><a href="data-manipulation-with-dplyr.html#cb633-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">&quot;Human&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb633-3"><a href="data-manipulation-with-dplyr.html#cb633-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span> </span>
<span id="cb633-4"><a href="data-manipulation-with-dplyr.html#cb633-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
## # Groups:   gender [2]
##   gender     n
##   &lt;chr&gt;  &lt;int&gt;
## 1 female     9
## 2 male      26</code></pre>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="data-manipulation-with-dplyr.html#cb635-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(sw, <span class="fu">is.na</span>(gender) <span class="sc">|</span> (gender <span class="sc">!=</span> <span class="st">&quot;male&quot;</span> <span class="sc">&amp;</span> gender <span class="sc">!=</span> <span class="st">&quot;female&quot;</span>)) <span class="sc">%&gt;%</span> <span class="co"># 4.b.</span></span>
<span id="cb635-2"><a href="data-manipulation-with-dplyr.html#cb635-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1     6</code></pre>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="data-manipulation-with-dplyr.html#cb637-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 4.c.</span></span>
<span id="cb637-2"><a href="data-manipulation-with-dplyr.html#cb637-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, gender) <span class="sc">%&gt;%</span> <span class="co"># Creates piles of similarly sexed members of the same species</span></span>
<span id="cb637-3"><a href="data-manipulation-with-dplyr.html#cb637-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> <span class="co"># Produces a table of tallies of the above groups</span></span>
<span id="cb637-4"><a href="data-manipulation-with-dplyr.html#cb637-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> <span class="co"># Groups within this table of tallies</span></span>
<span id="cb637-5"><a href="data-manipulation-with-dplyr.html#cb637-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> <span class="co"># Produces a tally of the numbers of members of the groups above</span></span>
<span id="cb637-6"><a href="data-manipulation-with-dplyr.html#cb637-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
## # Groups:   species [5]
##   species      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 Droid        2
## 2 Human        2
## 3 Kaminoan     2
## 4 Twi&#39;lek      2
## 5 &lt;NA&gt;         2</code></pre>
</div>
<div id="question-5" class="section level3" number="4.6.5">
<h3><span class="header-section-number">4.6.5</span> Question 5</h3>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="data-manipulation-with-dplyr.html#cb639-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> sw <span class="sc">%&gt;%</span> <span class="co"># 5.a.</span></span>
<span id="cb639-2"><a href="data-manipulation-with-dplyr.html#cb639-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender) <span class="sc">%&gt;%</span> </span>
<span id="cb639-3"><a href="data-manipulation-with-dplyr.html#cb639-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb639-4"><a href="data-manipulation-with-dplyr.html#cb639-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb639-5"><a href="data-manipulation-with-dplyr.html#cb639-5" aria-hidden="true" tabindex="-1"></a>my_cols <span class="ot">&lt;-</span> unikn<span class="sc">::</span><span class="fu">usecol</span>(<span class="fu">c</span>(Pinky, Seegruen, Seeblau, Grau))</span>
<span id="cb639-6"><a href="data-manipulation-with-dplyr.html#cb639-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sw, <span class="fu">aes</span>(<span class="at">x =</span> gender)) <span class="sc">+</span> <span class="co"># 5.b.</span></span>
<span id="cb639-7"><a href="data-manipulation-with-dplyr.html#cb639-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb639-8"><a href="data-manipulation-with-dplyr.html#cb639-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sex distribtion of the sw universe&quot;</span>,</span>
<span id="cb639-9"><a href="data-manipulation-with-dplyr.html#cb639-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">tag =</span> <span class="st">&quot;5.b.&quot;</span>,</span>
<span id="cb639-10"><a href="data-manipulation-with-dplyr.html#cb639-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Gender&quot;</span>,</span>
<span id="cb639-11"><a href="data-manipulation-with-dplyr.html#cb639-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb639-12"><a href="data-manipulation-with-dplyr.html#cb639-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Using raw data sw.&quot;</span>) <span class="sc">+</span></span>
<span id="cb639-13"><a href="data-manipulation-with-dplyr.html#cb639-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">&quot;Gender:&quot;</span>, <span class="at">values =</span> my_cols, <span class="at">na.value =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb639-14"><a href="data-manipulation-with-dplyr.html#cb639-14" aria-hidden="true" tabindex="-1"></a>  ds4psy<span class="sc">::</span><span class="fu">theme_ds4psy</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-374-1.png" width="672" /></p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="data-manipulation-with-dplyr.html#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tb, <span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">y =</span> n)) <span class="sc">+</span> <span class="co"># 5.c., adding y=n to the aes()</span></span>
<span id="cb640-2"><a href="data-manipulation-with-dplyr.html#cb640-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gender), <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span> <span class="co"># Adding stat=&quot;identity&quot; to the aes()</span></span>
<span id="cb640-3"><a href="data-manipulation-with-dplyr.html#cb640-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sex distribtion of the sw universe&quot;</span>,</span>
<span id="cb640-4"><a href="data-manipulation-with-dplyr.html#cb640-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">tag =</span> <span class="st">&quot;5.c.&quot;</span>,</span>
<span id="cb640-5"><a href="data-manipulation-with-dplyr.html#cb640-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Gender&quot;</span>,</span>
<span id="cb640-6"><a href="data-manipulation-with-dplyr.html#cb640-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb640-7"><a href="data-manipulation-with-dplyr.html#cb640-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Using raw data sw.&quot;</span>) <span class="sc">+</span></span>
<span id="cb640-8"><a href="data-manipulation-with-dplyr.html#cb640-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">&quot;Gender:&quot;</span>, <span class="at">values =</span> my_cols, <span class="at">na.value =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb640-9"><a href="data-manipulation-with-dplyr.html#cb640-9" aria-hidden="true" tabindex="-1"></a>  ds4psy<span class="sc">::</span><span class="fu">theme_ds4psy</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-374-2.png" width="672" /></p>
</div>
<div id="question-6" class="section level3" number="4.6.6">
<h3><span class="header-section-number">4.6.6</span> Question 6</h3>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="data-manipulation-with-dplyr.html#cb641-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 6.a.</span></span>
<span id="cb641-2"><a href="data-manipulation-with-dplyr.html#cb641-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(homeworld) <span class="sc">%&gt;%</span> </span>
<span id="cb641-3"><a href="data-manipulation-with-dplyr.html#cb641-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb641-4"><a href="data-manipulation-with-dplyr.html#cb641-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code></pre></div>
<pre><code>## # A tibble: 49 x 2
## # Groups:   homeworld [49]
##    homeworld     n
##    &lt;chr&gt;     &lt;int&gt;
##  1 Naboo        11
##  2 Tatooine     10
##  3 &lt;NA&gt;         10
##  4 Alderaan      3
##  5 Coruscant     3
##  6 Kamino        3
##  7 Corellia      2
##  8 Kashyyyk      2
##  9 Mirial        2
## 10 Ryloth        2
## # ... with 39 more rows</code></pre>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="data-manipulation-with-dplyr.html#cb643-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 6.b.</span></span>
<span id="cb643-2"><a href="data-manipulation-with-dplyr.html#cb643-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(homeworld <span class="sc">==</span> <span class="st">&quot;Naboo&quot;</span>, eye_color <span class="sc">==</span> <span class="st">&quot;orange&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb643-3"><a href="data-manipulation-with-dplyr.html#cb643-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb643-4"><a href="data-manipulation-with-dplyr.html#cb643-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">mn_height =</span><span class="fu">mean</span>(height))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##       n mn_height
##   &lt;int&gt;     &lt;dbl&gt;
## 1     3      209.</code></pre>
</div>
<div id="question-7" class="section level3" number="4.6.7">
<h3><span class="header-section-number">4.6.7</span> Question 7</h3>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="data-manipulation-with-dplyr.html#cb645-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 7.</span></span>
<span id="cb645-2"><a href="data-manipulation-with-dplyr.html#cb645-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Droid&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb645-3"><a href="data-manipulation-with-dplyr.html#cb645-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb645-4"><a href="data-manipulation-with-dplyr.html#cb645-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">not_NA_h =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(height)),</span>
<span id="cb645-5"><a href="data-manipulation-with-dplyr.html#cb645-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">md_height =</span> <span class="fu">median</span>(height, <span class="at">na.rm=</span><span class="cn">TRUE</span>), </span>
<span id="cb645-6"><a href="data-manipulation-with-dplyr.html#cb645-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">mn_height =</span> <span class="fu">mean</span>(height, <span class="at">na.rm=</span><span class="cn">TRUE</span>), </span>
<span id="cb645-7"><a href="data-manipulation-with-dplyr.html#cb645-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd_height =</span> <span class="fu">sd</span>(height, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 5
##       n not_NA_h md_height mn_height sd_height
##   &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1     5        4       132       140      52.0</code></pre>
</div>
<div id="question-8" class="section level3" number="4.6.8">
<h3><span class="header-section-number">4.6.8</span> Question 8</h3>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="data-manipulation-with-dplyr.html#cb647-1" aria-hidden="true" tabindex="-1"></a>h_m <span class="ot">&lt;-</span> sw <span class="sc">%&gt;%</span> <span class="co"># 8.a.</span></span>
<span id="cb647-2"><a href="data-manipulation-with-dplyr.html#cb647-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb647-3"><a href="data-manipulation-with-dplyr.html#cb647-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mn_height =</span> <span class="fu">mean</span>(height, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb647-4"><a href="data-manipulation-with-dplyr.html#cb647-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">mn_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span>
<span id="cb647-5"><a href="data-manipulation-with-dplyr.html#cb647-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb647-6"><a href="data-manipulation-with-dplyr.html#cb647-6" aria-hidden="true" tabindex="-1"></a>h_m <span class="sc">%&gt;%</span> <span class="co"># 8.b.</span></span>
<span id="cb647-7"><a href="data-manipulation-with-dplyr.html#cb647-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mn_height) <span class="sc">%&gt;%</span> </span>
<span id="cb647-8"><a href="data-manipulation-with-dplyr.html#cb647-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) </span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   species        mn_height mn_mass
##   &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;
## 1 Yoda&#39;s species        66      17
## 2 Aleena                79      15
## 3 Ewok                  88      20</code></pre>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="data-manipulation-with-dplyr.html#cb649-1" aria-hidden="true" tabindex="-1"></a>h_m <span class="sc">%&gt;%</span> <span class="co"># 8.c.</span></span>
<span id="cb649-2"><a href="data-manipulation-with-dplyr.html#cb649-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mn_mass)) <span class="sc">%&gt;%</span> </span>
<span id="cb649-3"><a href="data-manipulation-with-dplyr.html#cb649-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   species mn_height mn_mass
##   &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;
## 1 Hutt          175    1358
## 2 Kaleesh       216     159
## 3 Wookiee       231     124</code></pre>
</div>
<div id="question-9" class="section level3" number="4.6.9">
<h3><span class="header-section-number">4.6.9</span> Question 9</h3>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="data-manipulation-with-dplyr.html#cb651-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 9.a.</span></span>
<span id="cb651-2"><a href="data-manipulation-with-dplyr.html#cb651-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(species)) <span class="sc">%&gt;%</span> </span>
<span id="cb651-3"><a href="data-manipulation-with-dplyr.html#cb651-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span> </span>
<span id="cb651-4"><a href="data-manipulation-with-dplyr.html#cb651-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb651-5"><a href="data-manipulation-with-dplyr.html#cb651-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb651-6"><a href="data-manipulation-with-dplyr.html#cb651-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   species     n
##   &lt;chr&gt;   &lt;int&gt;
## 1 Human      35
## 2 Droid       5
## 3 Gungan      3</code></pre>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="data-manipulation-with-dplyr.html#cb653-1" aria-hidden="true" tabindex="-1"></a>sw <span class="sc">%&gt;%</span> <span class="co"># 9.b.</span></span>
<span id="cb653-2"><a href="data-manipulation-with-dplyr.html#cb653-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, homeworld, mass) <span class="sc">%&gt;%</span> </span>
<span id="cb653-3"><a href="data-manipulation-with-dplyr.html#cb653-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(homeworld) <span class="sc">%&gt;%</span> </span>
<span id="cb653-4"><a href="data-manipulation-with-dplyr.html#cb653-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mn_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb653-5"><a href="data-manipulation-with-dplyr.html#cb653-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">lighter =</span> mass <span class="sc">&lt;</span> (mn_mass<span class="sc">*</span><span class="fl">0.8</span>)</span>
<span id="cb653-6"><a href="data-manipulation-with-dplyr.html#cb653-6" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb653-7"><a href="data-manipulation-with-dplyr.html#cb653-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(lighter <span class="sc">==</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 5
## # Groups:   homeworld [4]
##   name          homeworld  mass mn_mass lighter
##   &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  
## 1 R2-D2         Naboo        32    64.2 TRUE   
## 2 Leia Organa   Alderaan     49    64   TRUE   
## 3 R5-D4         Tatooine     32    85.4 TRUE   
## 4 Yoda          &lt;NA&gt;         17    82   TRUE   
## 5 Padmé Amidala Naboo        45    64.2 TRUE</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cleaning-data-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ijcwebb/wonderland/edit/master/04-dplyr.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ijcwebb/wonderland/blob/master/04-dplyr.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

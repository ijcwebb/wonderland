<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 7 Exploratory Data Analysis in R | R Programming for Business</title>
  <meta name="description" content="Module 7 Exploratory Data Analysis in R | R Programming for Business" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 7 Exploratory Data Analysis in R | R Programming for Business" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 7 Exploratory Data Analysis in R | R Programming for Business" />
  
  
  

<meta name="author" content="Iain Webb" />


<meta name="date" content="2020-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-data-visualization-with-ggplot2.html"/>
<link rel="next" href="correlation-and-regression-in-r.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Wonderland</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#intro-to-basics"><i class="fa fa-check"></i><b>1.1</b> Intro to basics</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#how-it-works"><i class="fa fa-check"></i><b>1.1.1</b> How it works</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#arithmetic-with-r"><i class="fa fa-check"></i><b>1.1.2</b> Arithmetic with R</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#variable-assignment"><i class="fa fa-check"></i><b>1.1.3</b> Variable assignment</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#variable-assignment-2"><i class="fa fa-check"></i><b>1.1.4</b> Variable assignment (2)</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#variable-assignment-3"><i class="fa fa-check"></i><b>1.1.5</b> Variable assignment (3)</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#apples-and-oranges"><i class="fa fa-check"></i><b>1.1.6</b> Apples and oranges</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#basic-data-types-in-r"><i class="fa fa-check"></i><b>1.1.7</b> Basic data types in R</a></li>
<li class="chapter" data-level="1.1.8" data-path="index.html"><a href="index.html#whats-the-data-type"><i class="fa fa-check"></i><b>1.1.8</b> What’s the data type?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#vectors"><i class="fa fa-check"></i><b>1.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#create-a-vector"><i class="fa fa-check"></i><b>1.2.1</b> Create a vector</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#create-a-vector-2"><i class="fa fa-check"></i><b>1.2.2</b> Create a vector (2)</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#create-a-vector-3"><i class="fa fa-check"></i><b>1.2.3</b> Create a vector (3)</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#naming-a-vector"><i class="fa fa-check"></i><b>1.2.4</b> Naming a vector</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#naming-a-vector-2"><i class="fa fa-check"></i><b>1.2.5</b> Naming a vector (2)</a></li>
<li class="chapter" data-level="1.2.6" data-path="index.html"><a href="index.html#calculating-total-winnings"><i class="fa fa-check"></i><b>1.2.6</b> Calculating total winnings</a></li>
<li class="chapter" data-level="1.2.7" data-path="index.html"><a href="index.html#calculating-total-winnings-2"><i class="fa fa-check"></i><b>1.2.7</b> Calculating total winnings (2)</a></li>
<li class="chapter" data-level="1.2.8" data-path="index.html"><a href="index.html#calculating-total-winnings-3"><i class="fa fa-check"></i><b>1.2.8</b> Calculating total winnings (3)</a></li>
<li class="chapter" data-level="1.2.9" data-path="index.html"><a href="index.html#comparing-total-winnings"><i class="fa fa-check"></i><b>1.2.9</b> Comparing total winnings</a></li>
<li class="chapter" data-level="1.2.10" data-path="index.html"><a href="index.html#vector-selection-the-good-times"><i class="fa fa-check"></i><b>1.2.10</b> Vector selection: the good times</a></li>
<li class="chapter" data-level="1.2.11" data-path="index.html"><a href="index.html#vector-selection-the-good-times-2"><i class="fa fa-check"></i><b>1.2.11</b> Vector selection: the good times (2)</a></li>
<li class="chapter" data-level="1.2.12" data-path="index.html"><a href="index.html#vector-selection-the-good-times-3"><i class="fa fa-check"></i><b>1.2.12</b> Vector selection: the good times (3)</a></li>
<li class="chapter" data-level="1.2.13" data-path="index.html"><a href="index.html#vector-selection-the-good-times-4"><i class="fa fa-check"></i><b>1.2.13</b> Vector selection: the good times (4)</a></li>
<li class="chapter" data-level="1.2.14" data-path="index.html"><a href="index.html#selection-by-comparison---step-1"><i class="fa fa-check"></i><b>1.2.14</b> Selection by comparison - Step 1</a></li>
<li class="chapter" data-level="1.2.15" data-path="index.html"><a href="index.html#selection-by-comparison---step-2"><i class="fa fa-check"></i><b>1.2.15</b> Selection by comparison - Step 2</a></li>
<li class="chapter" data-level="1.2.16" data-path="index.html"><a href="index.html#advanced-selection"><i class="fa fa-check"></i><b>1.2.16</b> Advanced selection</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#matrices"><i class="fa fa-check"></i><b>1.3</b> Matrices</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#whats-a-matrix"><i class="fa fa-check"></i><b>1.3.1</b> What’s a matrix?</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#analyze-matrices-you-shall"><i class="fa fa-check"></i><b>1.3.2</b> Analyze matrices, you shall</a></li>
<li class="chapter" data-level="1.3.3" data-path="index.html"><a href="index.html#naming-a-matrix"><i class="fa fa-check"></i><b>1.3.3</b> Naming a matrix</a></li>
<li class="chapter" data-level="1.3.4" data-path="index.html"><a href="index.html#calculating-the-worldwide-box-office"><i class="fa fa-check"></i><b>1.3.4</b> Calculating the worldwide box office</a></li>
<li class="chapter" data-level="1.3.5" data-path="index.html"><a href="index.html#using-dimnames"><i class="fa fa-check"></i><b>1.3.5</b> Using dimnames()</a></li>
<li class="chapter" data-level="1.3.6" data-path="index.html"><a href="index.html#adding-a-column-for-the-worldwide-box-office"><i class="fa fa-check"></i><b>1.3.6</b> Adding a column for the Worldwide box office</a></li>
<li class="chapter" data-level="1.3.7" data-path="index.html"><a href="index.html#adding-a-row"><i class="fa fa-check"></i><b>1.3.7</b> Adding a row</a></li>
<li class="chapter" data-level="1.3.8" data-path="index.html"><a href="index.html#the-total-box-office-revenue-for-the-entire-saga"><i class="fa fa-check"></i><b>1.3.8</b> The total box office revenue for the entire saga</a></li>
<li class="chapter" data-level="1.3.9" data-path="index.html"><a href="index.html#selection-of-matrix-elements"><i class="fa fa-check"></i><b>1.3.9</b> Selection of matrix elements</a></li>
<li class="chapter" data-level="1.3.10" data-path="index.html"><a href="index.html#a-little-arithmetic-with-matrices"><i class="fa fa-check"></i><b>1.3.10</b> A little arithmetic with matrices</a></li>
<li class="chapter" data-level="1.3.11" data-path="index.html"><a href="index.html#a-little-arithmetic-with-matrices-2"><i class="fa fa-check"></i><b>1.3.11</b> A little arithmetic with matrices (2)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#factors"><i class="fa fa-check"></i><b>1.4</b> Factors</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it"><i class="fa fa-check"></i><b>1.4.1</b> What’s a factor and why would you use it?</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it-2"><i class="fa fa-check"></i><b>1.4.2</b> What’s a factor and why would you use it? (2)</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#whats-a-factor-and-why-would-you-use-it-3"><i class="fa fa-check"></i><b>1.4.3</b> What’s a factor and why would you use it? (3)</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#factor-levels"><i class="fa fa-check"></i><b>1.4.4</b> Factor levels</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#summarizing-a-factor"><i class="fa fa-check"></i><b>1.4.5</b> Summarizing a factor</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#battle-of-the-sexes"><i class="fa fa-check"></i><b>1.4.6</b> Battle of the sexes</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#ordered-factors"><i class="fa fa-check"></i><b>1.4.7</b> Ordered factors</a></li>
<li class="chapter" data-level="1.4.8" data-path="index.html"><a href="index.html#ordered-factors-2"><i class="fa fa-check"></i><b>1.4.8</b> Ordered factors (2)</a></li>
<li class="chapter" data-level="1.4.9" data-path="index.html"><a href="index.html#comparing-ordered-factors"><i class="fa fa-check"></i><b>1.4.9</b> Comparing ordered factors</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#data-frames"><i class="fa fa-check"></i><b>1.5</b> Data frames</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#whats-a-data-frame"><i class="fa fa-check"></i><b>1.5.1</b> What’s a data frame?</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#quick-have-a-look-at-your-data-set"><i class="fa fa-check"></i><b>1.5.2</b> Quick, have a look at your data set</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#have-a-look-at-the-structure"><i class="fa fa-check"></i><b>1.5.3</b> Have a look at the structure</a></li>
<li class="chapter" data-level="1.5.4" data-path="index.html"><a href="index.html#creating-a-data-frame"><i class="fa fa-check"></i><b>1.5.4</b> Creating a data frame</a></li>
<li class="chapter" data-level="1.5.5" data-path="index.html"><a href="index.html#creating-a-data-frame-2"><i class="fa fa-check"></i><b>1.5.5</b> Creating a data frame (2)</a></li>
<li class="chapter" data-level="1.5.6" data-path="index.html"><a href="index.html#selection-of-data-frame-elements"><i class="fa fa-check"></i><b>1.5.6</b> Selection of data frame elements</a></li>
<li class="chapter" data-level="1.5.7" data-path="index.html"><a href="index.html#selection-of-data-frame-elements-2"><i class="fa fa-check"></i><b>1.5.7</b> Selection of data frame elements (2)</a></li>
<li class="chapter" data-level="1.5.8" data-path="index.html"><a href="index.html#only-planets-with-rings"><i class="fa fa-check"></i><b>1.5.8</b> Only planets with rings</a></li>
<li class="chapter" data-level="1.5.9" data-path="index.html"><a href="index.html#only-planets-with-rings-2"><i class="fa fa-check"></i><b>1.5.9</b> Only planets with rings (2)</a></li>
<li class="chapter" data-level="1.5.10" data-path="index.html"><a href="index.html#only-planets-with-rings-but-shorter"><i class="fa fa-check"></i><b>1.5.10</b> Only planets with rings but shorter</a></li>
<li class="chapter" data-level="1.5.11" data-path="index.html"><a href="index.html#sorting"><i class="fa fa-check"></i><b>1.5.11</b> Sorting</a></li>
<li class="chapter" data-level="1.5.12" data-path="index.html"><a href="index.html#sorting-your-data-frame"><i class="fa fa-check"></i><b>1.5.12</b> Sorting your data frame</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#lists"><i class="fa fa-check"></i><b>1.6</b> Lists</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#lists-why-would-you-need-them"><i class="fa fa-check"></i><b>1.6.1</b> Lists, why would you need them?</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#lists-why-would-you-need-them-2"><i class="fa fa-check"></i><b>1.6.2</b> Lists, why would you need them? (2)</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#creating-a-list"><i class="fa fa-check"></i><b>1.6.3</b> Creating a list</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#creating-a-named-list"><i class="fa fa-check"></i><b>1.6.4</b> Creating a named list</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#creating-a-named-list-2"><i class="fa fa-check"></i><b>1.6.5</b> Creating a named list (2)</a></li>
<li class="chapter" data-level="1.6.6" data-path="index.html"><a href="index.html#selecting-elements-from-a-list"><i class="fa fa-check"></i><b>1.6.6</b> Selecting elements from a list</a></li>
<li class="chapter" data-level="1.6.7" data-path="index.html"><a href="index.html#creating-a-new-list-for-another-movie"><i class="fa fa-check"></i><b>1.6.7</b> Creating a new list for another movie</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#challenge"><i class="fa fa-check"></i><b>1.7</b> Challenge</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#solutions"><i class="fa fa-check"></i><b>1.8</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals and Control Flow</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-relational-operators"><i class="fa fa-check"></i><b>2.1.1</b> Video: Relational Operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="intermediate-r.html"><a href="intermediate-r.html#equality"><i class="fa fa-check"></i><b>2.1.2</b> Equality</a></li>
<li class="chapter" data-level="2.1.3" data-path="intermediate-r.html"><a href="intermediate-r.html#greater-and-less-than"><i class="fa fa-check"></i><b>2.1.3</b> Greater and less than</a></li>
<li class="chapter" data-level="2.1.4" data-path="intermediate-r.html"><a href="intermediate-r.html#compare-vectors"><i class="fa fa-check"></i><b>2.1.4</b> Compare vectors</a></li>
<li class="chapter" data-level="2.1.5" data-path="intermediate-r.html"><a href="intermediate-r.html#compare-matrices"><i class="fa fa-check"></i><b>2.1.5</b> Compare matrices</a></li>
<li class="chapter" data-level="2.1.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-logical-operators"><i class="fa fa-check"></i><b>2.1.6</b> Video: Logical Operators</a></li>
<li class="chapter" data-level="2.1.7" data-path="intermediate-r.html"><a href="intermediate-r.html#and"><i class="fa fa-check"></i><b>2.1.7</b> &amp; and |</a></li>
<li class="chapter" data-level="2.1.8" data-path="intermediate-r.html"><a href="intermediate-r.html#and-2"><i class="fa fa-check"></i><b>2.1.8</b> &amp; and | (2)</a></li>
<li class="chapter" data-level="2.1.9" data-path="intermediate-r.html"><a href="intermediate-r.html#question-reverse-the-result"><i class="fa fa-check"></i><b>2.1.9</b> Question: Reverse the result: !</a></li>
<li class="chapter" data-level="2.1.10" data-path="intermediate-r.html"><a href="intermediate-r.html#blend-it-all-together"><i class="fa fa-check"></i><b>2.1.10</b> Blend it all together</a></li>
<li class="chapter" data-level="2.1.11" data-path="intermediate-r.html"><a href="intermediate-r.html#video-conditional-statements"><i class="fa fa-check"></i><b>2.1.11</b> Video: Conditional Statements</a></li>
<li class="chapter" data-level="2.1.12" data-path="intermediate-r.html"><a href="intermediate-r.html#the-if-statement"><i class="fa fa-check"></i><b>2.1.12</b> The if statement</a></li>
<li class="chapter" data-level="2.1.13" data-path="intermediate-r.html"><a href="intermediate-r.html#add-an-else"><i class="fa fa-check"></i><b>2.1.13</b> Add an else</a></li>
<li class="chapter" data-level="2.1.14" data-path="intermediate-r.html"><a href="intermediate-r.html#customize-further-else-if"><i class="fa fa-check"></i><b>2.1.14</b> Customize further: else if</a></li>
<li class="chapter" data-level="2.1.15" data-path="intermediate-r.html"><a href="intermediate-r.html#question-else-if-2.0"><i class="fa fa-check"></i><b>2.1.15</b> Question: Else if 2.0</a></li>
<li class="chapter" data-level="2.1.16" data-path="intermediate-r.html"><a href="intermediate-r.html#take-control"><i class="fa fa-check"></i><b>2.1.16</b> Take control!</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-while-loop"><i class="fa fa-check"></i><b>2.2.1</b> Video: While loop</a></li>
<li class="chapter" data-level="2.2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#write-a-while-loop"><i class="fa fa-check"></i><b>2.2.2</b> Write a while loop</a></li>
<li class="chapter" data-level="2.2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#throw-in-more-conditionals"><i class="fa fa-check"></i><b>2.2.3</b> Throw in more conditionals</a></li>
<li class="chapter" data-level="2.2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#stop-the-while-loop-break"><i class="fa fa-check"></i><b>2.2.4</b> Stop the while loop: break</a></li>
<li class="chapter" data-level="2.2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#build-a-while-loop-from-scratch"><i class="fa fa-check"></i><b>2.2.5</b> Build a while loop from scratch</a></li>
<li class="chapter" data-level="2.2.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-for-loop"><i class="fa fa-check"></i><b>2.2.6</b> Video: For loop</a></li>
<li class="chapter" data-level="2.2.7" data-path="intermediate-r.html"><a href="intermediate-r.html#loop-over-a-list"><i class="fa fa-check"></i><b>2.2.7</b> Loop over a list</a></li>
<li class="chapter" data-level="2.2.8" data-path="intermediate-r.html"><a href="intermediate-r.html#loop-over-a-matrix"><i class="fa fa-check"></i><b>2.2.8</b> Loop over a matrix</a></li>
<li class="chapter" data-level="2.2.9" data-path="intermediate-r.html"><a href="intermediate-r.html#mix-it-up-with-control-flow"><i class="fa fa-check"></i><b>2.2.9</b> Mix it up with control flow</a></li>
<li class="chapter" data-level="2.2.10" data-path="intermediate-r.html"><a href="intermediate-r.html#next-you-break-it"><i class="fa fa-check"></i><b>2.2.10</b> Next, you break it</a></li>
<li class="chapter" data-level="2.2.11" data-path="intermediate-r.html"><a href="intermediate-r.html#build-a-for-loop-from-scratch"><i class="fa fa-check"></i><b>2.2.11</b> Build a for loop from scratch</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-introduction-to-functions"><i class="fa fa-check"></i><b>2.3.1</b> Video: Introduction to functions</a></li>
<li class="chapter" data-level="2.3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#function-documentation"><i class="fa fa-check"></i><b>2.3.2</b> Function documentation</a></li>
<li class="chapter" data-level="2.3.3" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function"><i class="fa fa-check"></i><b>2.3.3</b> Use a function</a></li>
<li class="chapter" data-level="2.3.4" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function-2"><i class="fa fa-check"></i><b>2.3.4</b> Use a function (2)</a></li>
<li class="chapter" data-level="2.3.5" data-path="intermediate-r.html"><a href="intermediate-r.html#use-a-function-3"><i class="fa fa-check"></i><b>2.3.5</b> Use a function (3)</a></li>
<li class="chapter" data-level="2.3.6" data-path="intermediate-r.html"><a href="intermediate-r.html#functions-inside-functions"><i class="fa fa-check"></i><b>2.3.6</b> Functions inside functions</a></li>
<li class="chapter" data-level="2.3.7" data-path="intermediate-r.html"><a href="intermediate-r.html#question-required-or-optional"><i class="fa fa-check"></i><b>2.3.7</b> Question: Required, or optional?</a></li>
<li class="chapter" data-level="2.3.8" data-path="intermediate-r.html"><a href="intermediate-r.html#video-writing-functions"><i class="fa fa-check"></i><b>2.3.8</b> Video: Writing functions</a></li>
<li class="chapter" data-level="2.3.9" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function"><i class="fa fa-check"></i><b>2.3.9</b> Write your own function</a></li>
<li class="chapter" data-level="2.3.10" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function-2"><i class="fa fa-check"></i><b>2.3.10</b> Write your own function (2)</a></li>
<li class="chapter" data-level="2.3.11" data-path="intermediate-r.html"><a href="intermediate-r.html#write-your-own-function-3"><i class="fa fa-check"></i><b>2.3.11</b> Write your own function (3)</a></li>
<li class="chapter" data-level="2.3.12" data-path="intermediate-r.html"><a href="intermediate-r.html#question-function-scoping"><i class="fa fa-check"></i><b>2.3.12</b> Question: Function scoping</a></li>
<li class="chapter" data-level="2.3.13" data-path="intermediate-r.html"><a href="intermediate-r.html#question-r-passes-arguments-by-value"><i class="fa fa-check"></i><b>2.3.13</b> Question: R passes arguments by value</a></li>
<li class="chapter" data-level="2.3.14" data-path="intermediate-r.html"><a href="intermediate-r.html#r-you-functional"><i class="fa fa-check"></i><b>2.3.14</b> R you functional?</a></li>
<li class="chapter" data-level="2.3.15" data-path="intermediate-r.html"><a href="intermediate-r.html#r-you-functional-2"><i class="fa fa-check"></i><b>2.3.15</b> R you functional? (2)</a></li>
<li class="chapter" data-level="2.3.16" data-path="intermediate-r.html"><a href="intermediate-r.html#video-r-packages"><i class="fa fa-check"></i><b>2.3.16</b> Video: R packages</a></li>
<li class="chapter" data-level="2.3.17" data-path="intermediate-r.html"><a href="intermediate-r.html#load-an-r-package"><i class="fa fa-check"></i><b>2.3.17</b> Load an R Package</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-a-built-in-r-function"><i class="fa fa-check"></i><b>2.4.1</b> Use lapply with a built-in R function</a></li>
<li class="chapter" data-level="2.4.2" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-your-own-function"><i class="fa fa-check"></i><b>2.4.2</b> Use lapply with your own function</a></li>
<li class="chapter" data-level="2.4.3" data-path="intermediate-r.html"><a href="intermediate-r.html#lapply-and-anonymous-functions"><i class="fa fa-check"></i><b>2.4.3</b> lapply and anonymous functions</a></li>
<li class="chapter" data-level="2.4.4" data-path="intermediate-r.html"><a href="intermediate-r.html#use-lapply-with-additional-arguments"><i class="fa fa-check"></i><b>2.4.4</b> Use lapply with additional arguments</a></li>
<li class="chapter" data-level="2.4.5" data-path="intermediate-r.html"><a href="intermediate-r.html#apply-functions-that-return-null"><i class="fa fa-check"></i><b>2.4.5</b> Apply functions that return NULL</a></li>
<li class="chapter" data-level="2.4.6" data-path="intermediate-r.html"><a href="intermediate-r.html#video-sapply"><i class="fa fa-check"></i><b>2.4.6</b> Video: sapply()</a></li>
<li class="chapter" data-level="2.4.7" data-path="intermediate-r.html"><a href="intermediate-r.html#how-to-use-sapply"><i class="fa fa-check"></i><b>2.4.7</b> How to use sapply</a></li>
<li class="chapter" data-level="2.4.8" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-your-own-function"><i class="fa fa-check"></i><b>2.4.8</b> sapply with your own function</a></li>
<li class="chapter" data-level="2.4.9" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-function-returning-vector"><i class="fa fa-check"></i><b>2.4.9</b> sapply with function returning vector</a></li>
<li class="chapter" data-level="2.4.10" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-cant-simplify-now-what"><i class="fa fa-check"></i><b>2.4.10</b> sapply can’t simplify, now what?</a></li>
<li class="chapter" data-level="2.4.11" data-path="intermediate-r.html"><a href="intermediate-r.html#sapply-with-functions-that-return-null"><i class="fa fa-check"></i><b>2.4.11</b> sapply with functions that return NULL</a></li>
<li class="chapter" data-level="2.4.12" data-path="intermediate-r.html"><a href="intermediate-r.html#reverse-engineering-sapply"><i class="fa fa-check"></i><b>2.4.12</b> Reverse engineering sapply</a></li>
<li class="chapter" data-level="2.4.13" data-path="intermediate-r.html"><a href="intermediate-r.html#video-vapply"><i class="fa fa-check"></i><b>2.4.13</b> Video: vapply</a></li>
<li class="chapter" data-level="2.4.14" data-path="intermediate-r.html"><a href="intermediate-r.html#use-vapply"><i class="fa fa-check"></i><b>2.4.14</b> Use vapply</a></li>
<li class="chapter" data-level="2.4.15" data-path="intermediate-r.html"><a href="intermediate-r.html#use-vapply-2"><i class="fa fa-check"></i><b>2.4.15</b> Use vapply (2)</a></li>
<li class="chapter" data-level="2.4.16" data-path="intermediate-r.html"><a href="intermediate-r.html#from-sapply-to-vapply"><i class="fa fa-check"></i><b>2.4.16</b> From sapply to vapply</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intermediate-r.html"><a href="intermediate-r.html#video-useful-functions"><i class="fa fa-check"></i><b>2.5.1</b> Video: Useful functions</a></li>
<li class="chapter" data-level="2.5.2" data-path="intermediate-r.html"><a href="intermediate-r.html#mathematical-utilities"><i class="fa fa-check"></i><b>2.5.2</b> Mathematical utilities</a></li>
<li class="chapter" data-level="2.5.3" data-path="intermediate-r.html"><a href="intermediate-r.html#find-the-error"><i class="fa fa-check"></i><b>2.5.3</b> Find the error</a></li>
<li class="chapter" data-level="2.5.4" data-path="intermediate-r.html"><a href="intermediate-r.html#data-utilities"><i class="fa fa-check"></i><b>2.5.4</b> Data Utilities</a></li>
<li class="chapter" data-level="2.5.5" data-path="intermediate-r.html"><a href="intermediate-r.html#find-the-error-2"><i class="fa fa-check"></i><b>2.5.5</b> Find the error (2)</a></li>
<li class="chapter" data-level="2.5.6" data-path="intermediate-r.html"><a href="intermediate-r.html#beat-gauss-using-r"><i class="fa fa-check"></i><b>2.5.6</b> Beat Gauss using R</a></li>
<li class="chapter" data-level="2.5.7" data-path="intermediate-r.html"><a href="intermediate-r.html#video-regular-expressions"><i class="fa fa-check"></i><b>2.5.7</b> Video: Regular expressions</a></li>
<li class="chapter" data-level="2.5.8" data-path="intermediate-r.html"><a href="intermediate-r.html#grepl-grep"><i class="fa fa-check"></i><b>2.5.8</b> grepl &amp; grep</a></li>
<li class="chapter" data-level="2.5.9" data-path="intermediate-r.html"><a href="intermediate-r.html#grepl-grep-2"><i class="fa fa-check"></i><b>2.5.9</b> grepl &amp; grep (2)</a></li>
<li class="chapter" data-level="2.5.10" data-path="intermediate-r.html"><a href="intermediate-r.html#sub-gsub"><i class="fa fa-check"></i><b>2.5.10</b> sub &amp; gsub</a></li>
<li class="chapter" data-level="2.5.11" data-path="intermediate-r.html"><a href="intermediate-r.html#sub-gsub-2"><i class="fa fa-check"></i><b>2.5.11</b> sub &amp; gsub (2)</a></li>
<li class="chapter" data-level="2.5.12" data-path="intermediate-r.html"><a href="intermediate-r.html#video-times-dates"><i class="fa fa-check"></i><b>2.5.12</b> Video: Times &amp; Dates</a></li>
<li class="chapter" data-level="2.5.13" data-path="intermediate-r.html"><a href="intermediate-r.html#right-here-right-now"><i class="fa fa-check"></i><b>2.5.13</b> Right here, right now</a></li>
<li class="chapter" data-level="2.5.14" data-path="intermediate-r.html"><a href="intermediate-r.html#create-and-format-dates"><i class="fa fa-check"></i><b>2.5.14</b> Create and format dates</a></li>
<li class="chapter" data-level="2.5.15" data-path="intermediate-r.html"><a href="intermediate-r.html#create-and-format-times"><i class="fa fa-check"></i><b>2.5.15</b> Create and format times</a></li>
<li class="chapter" data-level="2.5.16" data-path="intermediate-r.html"><a href="intermediate-r.html#calculations-with-dates"><i class="fa fa-check"></i><b>2.5.16</b> Calculations with Dates</a></li>
<li class="chapter" data-level="2.5.17" data-path="intermediate-r.html"><a href="intermediate-r.html#calculations-with-times"><i class="fa fa-check"></i><b>2.5.17</b> Calculations with Times</a></li>
<li class="chapter" data-level="2.5.18" data-path="intermediate-r.html"><a href="intermediate-r.html#time-is-of-the-essence"><i class="fa fa-check"></i><b>2.5.18</b> Time is of the essence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>3</b> R Markdown</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-markdown.html"><a href="r-markdown.html#getting-started-with-r-markdown"><i class="fa fa-check"></i><b>3.1</b> Getting started with R Markdown</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-markdown.html"><a href="r-markdown.html#video-introduction-to-r-markdown"><i class="fa fa-check"></i><b>3.1.1</b> Video: Introduction to R Markdown</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-markdown.html"><a href="r-markdown.html#creating-your-first-r-markdown-file"><i class="fa fa-check"></i><b>3.1.2</b> Creating your first R Markdown file</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-markdown.html"><a href="r-markdown.html#adding-code-chunks-to-your-file"><i class="fa fa-check"></i><b>3.1.3</b> Adding code chunks to your file</a></li>
<li class="chapter" data-level="3.1.4" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-and-formatting-text"><i class="fa fa-check"></i><b>3.1.4</b> Video: Adding and formatting text</a></li>
<li class="chapter" data-level="3.1.5" data-path="r-markdown.html"><a href="r-markdown.html#question-formatting-text"><i class="fa fa-check"></i><b>3.1.5</b> Question: Formatting text</a></li>
<li class="chapter" data-level="3.1.6" data-path="r-markdown.html"><a href="r-markdown.html#adding-sections-to-your-report"><i class="fa fa-check"></i><b>3.1.6</b> Adding sections to your report</a></li>
<li class="chapter" data-level="3.1.7" data-path="r-markdown.html"><a href="r-markdown.html#question-including-links-and-images"><i class="fa fa-check"></i><b>3.1.7</b> Question: Including links and images</a></li>
<li class="chapter" data-level="3.1.8" data-path="r-markdown.html"><a href="r-markdown.html#video-the-yaml-header"><i class="fa fa-check"></i><b>3.1.8</b> Video: The YAML header</a></li>
<li class="chapter" data-level="3.1.9" data-path="r-markdown.html"><a href="r-markdown.html#editing-the-yaml-header"><i class="fa fa-check"></i><b>3.1.9</b> Editing the YAML header</a></li>
<li class="chapter" data-level="3.1.10" data-path="r-markdown.html"><a href="r-markdown.html#formatting-the-date"><i class="fa fa-check"></i><b>3.1.10</b> Formatting the date</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-markdown.html"><a href="r-markdown.html#adding-analyses-and-visualizations"><i class="fa fa-check"></i><b>3.2</b> Adding Analyses and Visualizations</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-markdown.html"><a href="r-markdown.html#video-analyzing-the-data"><i class="fa fa-check"></i><b>3.2.1</b> Video: Analyzing the data</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-markdown.html"><a href="r-markdown.html#filtering-for-a-specific-country"><i class="fa fa-check"></i><b>3.2.2</b> Filtering for a specific country</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-markdown.html"><a href="r-markdown.html#filtering-for-a-specific-year"><i class="fa fa-check"></i><b>3.2.3</b> Filtering for a specific year</a></li>
<li class="chapter" data-level="3.2.4" data-path="r-markdown.html"><a href="r-markdown.html#referencing-code-results-in-the-report"><i class="fa fa-check"></i><b>3.2.4</b> Referencing code results in the report</a></li>
<li class="chapter" data-level="3.2.5" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-plots"><i class="fa fa-check"></i><b>3.2.5</b> Video: Adding plots</a></li>
<li class="chapter" data-level="3.2.6" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-the-investment-annual-summary-data"><i class="fa fa-check"></i><b>3.2.6</b> Visualizing the Investment Annual Summary data</a></li>
<li class="chapter" data-level="3.2.7" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-all-projects-for-one-country"><i class="fa fa-check"></i><b>3.2.7</b> Visualizing all projects for one country</a></li>
<li class="chapter" data-level="3.2.8" data-path="r-markdown.html"><a href="r-markdown.html#visualizing-all-projects-for-one-country-and-year"><i class="fa fa-check"></i><b>3.2.8</b> Visualizing all projects for one country and year</a></li>
<li class="chapter" data-level="3.2.9" data-path="r-markdown.html"><a href="r-markdown.html#video-plot-options"><i class="fa fa-check"></i><b>3.2.9</b> Video: Plot options</a></li>
<li class="chapter" data-level="3.2.10" data-path="r-markdown.html"><a href="r-markdown.html#setting-chunk-options-globally"><i class="fa fa-check"></i><b>3.2.10</b> Setting chunk options globally</a></li>
<li class="chapter" data-level="3.2.11" data-path="r-markdown.html"><a href="r-markdown.html#setting-chunk-options-locally"><i class="fa fa-check"></i><b>3.2.11</b> Setting chunk options locally</a></li>
<li class="chapter" data-level="3.2.12" data-path="r-markdown.html"><a href="r-markdown.html#adding-figure-captions"><i class="fa fa-check"></i><b>3.2.12</b> Adding figure captions</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-markdown.html"><a href="r-markdown.html#improving-the-report"><i class="fa fa-check"></i><b>3.3</b> Improving the Report</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-markdown.html"><a href="r-markdown.html#video-organizing-the-report"><i class="fa fa-check"></i><b>3.3.1</b> Video: Organizing the report</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-bulleted-list"><i class="fa fa-check"></i><b>3.3.2</b> Creating a bulleted list</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-numbered-list"><i class="fa fa-check"></i><b>3.3.3</b> Creating a numbered list</a></li>
<li class="chapter" data-level="3.3.4" data-path="r-markdown.html"><a href="r-markdown.html#adding-a-table"><i class="fa fa-check"></i><b>3.3.4</b> Adding a table</a></li>
<li class="chapter" data-level="3.3.5" data-path="r-markdown.html"><a href="r-markdown.html#video-code-chunk-options"><i class="fa fa-check"></i><b>3.3.5</b> Video: Code chunk options</a></li>
<li class="chapter" data-level="3.3.6" data-path="r-markdown.html"><a href="r-markdown.html#question-comparing-code-chunk-options"><i class="fa fa-check"></i><b>3.3.6</b> Question: Comparing code chunk options</a></li>
<li class="chapter" data-level="3.3.7" data-path="r-markdown.html"><a href="r-markdown.html#collapsing-blocks-in-the-knit-report"><i class="fa fa-check"></i><b>3.3.7</b> Collapsing blocks in the knit report</a></li>
<li class="chapter" data-level="3.3.8" data-path="r-markdown.html"><a href="r-markdown.html#modifying-the-report-using-include-and-echo"><i class="fa fa-check"></i><b>3.3.8</b> Modifying the report using include and echo</a></li>
<li class="chapter" data-level="3.3.9" data-path="r-markdown.html"><a href="r-markdown.html#video-warnings-messages-and-errors"><i class="fa fa-check"></i><b>3.3.9</b> Video: Warnings, messages, and errors</a></li>
<li class="chapter" data-level="3.3.10" data-path="r-markdown.html"><a href="r-markdown.html#excluding-messages"><i class="fa fa-check"></i><b>3.3.10</b> Excluding messages</a></li>
<li class="chapter" data-level="3.3.11" data-path="r-markdown.html"><a href="r-markdown.html#excluding-warnings"><i class="fa fa-check"></i><b>3.3.11</b> Excluding warnings</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-report"><i class="fa fa-check"></i><b>3.4</b> Customizing the Report</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-markdown.html"><a href="r-markdown.html#video-adding-a-table-of-contents"><i class="fa fa-check"></i><b>3.4.1</b> Video: Adding a table of contents</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-markdown.html"><a href="r-markdown.html#adding-the-table-of-contents"><i class="fa fa-check"></i><b>3.4.2</b> Adding the table of contents</a></li>
<li class="chapter" data-level="3.4.3" data-path="r-markdown.html"><a href="r-markdown.html#specifying-headers-and-number-sectioning"><i class="fa fa-check"></i><b>3.4.3</b> Specifying headers and number sectioning</a></li>
<li class="chapter" data-level="3.4.4" data-path="r-markdown.html"><a href="r-markdown.html#adding-table-of-contents-options"><i class="fa fa-check"></i><b>3.4.4</b> Adding table of contents options</a></li>
<li class="chapter" data-level="3.4.5" data-path="r-markdown.html"><a href="r-markdown.html#video-creating-a-report-with-a-parameter"><i class="fa fa-check"></i><b>3.4.5</b> Video: Creating a report with a parameter</a></li>
<li class="chapter" data-level="3.4.6" data-path="r-markdown.html"><a href="r-markdown.html#adding-a-parameter-to-the-report"><i class="fa fa-check"></i><b>3.4.6</b> Adding a parameter to the report</a></li>
<li class="chapter" data-level="3.4.7" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-report-using-a-parameter"><i class="fa fa-check"></i><b>3.4.7</b> Creating a new report using a parameter</a></li>
<li class="chapter" data-level="3.4.8" data-path="r-markdown.html"><a href="r-markdown.html#video-multiple-parameters"><i class="fa fa-check"></i><b>3.4.8</b> Video: Multiple parameters</a></li>
<li class="chapter" data-level="3.4.9" data-path="r-markdown.html"><a href="r-markdown.html#adding-multiple-parameters-to-the-report"><i class="fa fa-check"></i><b>3.4.9</b> Adding multiple parameters to the report</a></li>
<li class="chapter" data-level="3.4.10" data-path="r-markdown.html"><a href="r-markdown.html#creating-a-new-report-using-multiple-parameters"><i class="fa fa-check"></i><b>3.4.10</b> Creating a new report using multiple parameters</a></li>
<li class="chapter" data-level="3.4.11" data-path="r-markdown.html"><a href="r-markdown.html#video-customizing-the-report"><i class="fa fa-check"></i><b>3.4.11</b> Video: Customizing the report</a></li>
<li class="chapter" data-level="3.4.12" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-report-style"><i class="fa fa-check"></i><b>3.4.12</b> Customizing the report style</a></li>
<li class="chapter" data-level="3.4.13" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-header-and-table-of-contents"><i class="fa fa-check"></i><b>3.4.13</b> Customizing the header and table of contents</a></li>
<li class="chapter" data-level="3.4.14" data-path="r-markdown.html"><a href="r-markdown.html#customizing-the-title-author-and-date"><i class="fa fa-check"></i><b>3.4.14</b> Customizing the title, author, and date</a></li>
<li class="chapter" data-level="3.4.15" data-path="r-markdown.html"><a href="r-markdown.html#referencing-the-css-file"><i class="fa fa-check"></i><b>3.4.15</b> Referencing the CSS file</a></li>
<li class="chapter" data-level="3.4.16" data-path="r-markdown.html"><a href="r-markdown.html#video-congratulations"><i class="fa fa-check"></i><b>3.4.16</b> Video: Congratulations!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>4</b> Data Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#transforming-data-with-dplyr"><i class="fa fa-check"></i><b>4.1</b> Transforming Data with dplyr</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-counties-dataset"><i class="fa fa-check"></i><b>4.1.1</b> Video: The counties dataset</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-understanding-your-data"><i class="fa fa-check"></i><b>4.1.2</b> Question: Understanding your data</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-columns"><i class="fa fa-check"></i><b>4.1.3</b> Selecting columns</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-filter-and-arrange-verbs"><i class="fa fa-check"></i><b>4.1.4</b> Video: The filter and arrange verbs</a></li>
<li class="chapter" data-level="4.1.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#arranging-observations"><i class="fa fa-check"></i><b>4.1.5</b> Arranging observations</a></li>
<li class="chapter" data-level="4.1.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-for-conditions"><i class="fa fa-check"></i><b>4.1.6</b> Filtering for conditions</a></li>
<li class="chapter" data-level="4.1.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-and-arranging"><i class="fa fa-check"></i><b>4.1.7</b> Filtering and arranging</a></li>
<li class="chapter" data-level="4.1.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-mutate"><i class="fa fa-check"></i><b>4.1.8</b> Video: Mutate</a></li>
<li class="chapter" data-level="4.1.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#calculating-the-number-of-government-employees"><i class="fa fa-check"></i><b>4.1.9</b> Calculating the number of government employees</a></li>
<li class="chapter" data-level="4.1.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#calculating-the-percentage-of-women-in-a-county"><i class="fa fa-check"></i><b>4.1.10</b> Calculating the percentage of women in a county</a></li>
<li class="chapter" data-level="4.1.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#select-mutate-filter-and-arrange"><i class="fa fa-check"></i><b>4.1.11</b> Select, mutate, filter, and arrange</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#aggregating-data"><i class="fa fa-check"></i><b>4.2</b> Aggregating Data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-count-verb"><i class="fa fa-check"></i><b>4.2.1</b> Video: The count verb</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#counting-by-region"><i class="fa fa-check"></i><b>4.2.2</b> Counting by region</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#counting-citizens-by-state"><i class="fa fa-check"></i><b>4.2.3</b> Counting citizens by state</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#mutating-and-counting"><i class="fa fa-check"></i><b>4.2.4</b> Mutating and counting</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-group-by-summarize-and-ungroup-verbs"><i class="fa fa-check"></i><b>4.2.5</b> Video: The group by, summarize and ungroup verbs</a></li>
<li class="chapter" data-level="4.2.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#summarizing-by-state"><i class="fa fa-check"></i><b>4.2.6</b> Summarizing by state</a></li>
<li class="chapter" data-level="4.2.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#summarizing-by-state-and-region"><i class="fa fa-check"></i><b>4.2.7</b> Summarizing by state and region</a></li>
<li class="chapter" data-level="4.2.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-top_n-verb"><i class="fa fa-check"></i><b>4.2.8</b> Video: The top_n verb</a></li>
<li class="chapter" data-level="4.2.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-a-county-from-each-region"><i class="fa fa-check"></i><b>4.2.9</b> Selecting a county from each region</a></li>
<li class="chapter" data-level="4.2.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#finding-the-highest-income-state-in-each-region"><i class="fa fa-check"></i><b>4.2.10</b> Finding the highest-income state in each region</a></li>
<li class="chapter" data-level="4.2.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-summarize-top_n-and-count-together"><i class="fa fa-check"></i><b>4.2.11</b> Using summarize, top_n, and count together</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>4.3</b> Selecting and Transforming Data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-selecting"><i class="fa fa-check"></i><b>4.3.1</b> Video: Selecting</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-columns-1"><i class="fa fa-check"></i><b>4.3.2</b> Selecting columns</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#select-helpers"><i class="fa fa-check"></i><b>4.3.3</b> Select helpers</a></li>
<li class="chapter" data-level="4.3.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-rename-verb"><i class="fa fa-check"></i><b>4.3.4</b> Video: The rename verb</a></li>
<li class="chapter" data-level="4.3.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#renaming-a-column-after-count"><i class="fa fa-check"></i><b>4.3.5</b> Renaming a column after count</a></li>
<li class="chapter" data-level="4.3.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#renaming-a-column-as-part-of-a-select"><i class="fa fa-check"></i><b>4.3.6</b> Renaming a column as part of a select</a></li>
<li class="chapter" data-level="4.3.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-transmute-verb"><i class="fa fa-check"></i><b>4.3.7</b> Video: The transmute verb</a></li>
<li class="chapter" data-level="4.3.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-choosing-among-verbs"><i class="fa fa-check"></i><b>4.3.8</b> Question: Choosing among verbs</a></li>
<li class="chapter" data-level="4.3.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-transmute"><i class="fa fa-check"></i><b>4.3.9</b> Using transmute</a></li>
<li class="chapter" data-level="4.3.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-matching-verbs-to-their-definitions"><i class="fa fa-check"></i><b>4.3.10</b> Question: Matching verbs to their definitions</a></li>
<li class="chapter" data-level="4.3.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#choosing-among-the-four-verbs"><i class="fa fa-check"></i><b>4.3.11</b> Choosing among the four verbs</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>4.4</b> Case Study: The babynames Dataset</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-the-babynames-data"><i class="fa fa-check"></i><b>4.4.1</b> Video: The babynames data</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#filtering-and-arranging-for-one-year"><i class="fa fa-check"></i><b>4.4.2</b> Filtering and arranging for one year</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-top_n-with-babynames"><i class="fa fa-check"></i><b>4.4.3</b> Using top_n with babynames</a></li>
<li class="chapter" data-level="4.4.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#visualizing-names-with-ggplot2"><i class="fa fa-check"></i><b>4.4.4</b> Visualizing names with ggplot2</a></li>
<li class="chapter" data-level="4.4.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-grouped-mutates"><i class="fa fa-check"></i><b>4.4.5</b> Video: Grouped mutates</a></li>
<li class="chapter" data-level="4.4.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#finding-the-year-each-name-is-most-common"><i class="fa fa-check"></i><b>4.4.6</b> Finding the year each name is most common</a></li>
<li class="chapter" data-level="4.4.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#adding-the-total-and-maximum-for-each-name"><i class="fa fa-check"></i><b>4.4.7</b> Adding the total and maximum for each name</a></li>
<li class="chapter" data-level="4.4.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#visualizing-the-normalized-change-in-popularity"><i class="fa fa-check"></i><b>4.4.8</b> Visualizing the normalized change in popularity</a></li>
<li class="chapter" data-level="4.4.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-window-functions"><i class="fa fa-check"></i><b>4.4.9</b> Video: Window functions</a></li>
<li class="chapter" data-level="4.4.10" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#using-ratios-to-describe-the-frequency-of-a-name"><i class="fa fa-check"></i><b>4.4.10</b> Using ratios to describe the frequency of a name</a></li>
<li class="chapter" data-level="4.4.11" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#biggest-jumps-in-a-name"><i class="fa fa-check"></i><b>4.4.11</b> Biggest jumps in a name</a></li>
<li class="chapter" data-level="4.4.12" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#video-contratulations"><i class="fa fa-check"></i><b>4.4.12</b> Video: Contratulations!</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#challenge-1"><i class="fa fa-check"></i><b>4.5</b> Challenge</a></li>
<li class="chapter" data-level="4.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#solutions-1"><i class="fa fa-check"></i><b>4.6</b> Solutions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-1"><i class="fa fa-check"></i><b>4.6.1</b> Question 1</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-2"><i class="fa fa-check"></i><b>4.6.2</b> Question 2</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-3"><i class="fa fa-check"></i><b>4.6.3</b> Question 3</a></li>
<li class="chapter" data-level="4.6.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-4"><i class="fa fa-check"></i><b>4.6.4</b> Question 4</a></li>
<li class="chapter" data-level="4.6.5" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-5"><i class="fa fa-check"></i><b>4.6.5</b> Question 5</a></li>
<li class="chapter" data-level="4.6.6" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-6"><i class="fa fa-check"></i><b>4.6.6</b> Question 6</a></li>
<li class="chapter" data-level="4.6.7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-7"><i class="fa fa-check"></i><b>4.6.7</b> Question 7</a></li>
<li class="chapter" data-level="4.6.8" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-8"><i class="fa fa-check"></i><b>4.6.8</b> Question 8</a></li>
<li class="chapter" data-level="4.6.9" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#question-9"><i class="fa fa-check"></i><b>4.6.9</b> Question 9</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>5</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>5.1</b> 1: Common Data Problems</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-data-type-constraints"><i class="fa fa-check"></i><b>5.1.1</b> Video: Data type constraints</a></li>
<li class="chapter" data-level="5.1.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-common-data-types"><i class="fa fa-check"></i><b>5.1.2</b> Question: Common data types</a></li>
<li class="chapter" data-level="5.1.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#converting-data-types"><i class="fa fa-check"></i><b>5.1.3</b> Converting data types</a></li>
<li class="chapter" data-level="5.1.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#trimming-strings"><i class="fa fa-check"></i><b>5.1.4</b> Trimming strings</a></li>
<li class="chapter" data-level="5.1.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-range-constraints"><i class="fa fa-check"></i><b>5.1.5</b> Video: Range constraints</a></li>
<li class="chapter" data-level="5.1.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#ride-duration-constraints"><i class="fa fa-check"></i><b>5.1.6</b> Ride duration constraints</a></li>
<li class="chapter" data-level="5.1.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#back-to-the-future"><i class="fa fa-check"></i><b>5.1.7</b> Back to the future</a></li>
<li class="chapter" data-level="5.1.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-uniqueness-constraints"><i class="fa fa-check"></i><b>5.1.8</b> Video: Uniqueness constraints</a></li>
<li class="chapter" data-level="5.1.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#full-duplicates"><i class="fa fa-check"></i><b>5.1.9</b> Full duplicates</a></li>
<li class="chapter" data-level="5.1.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#removing-partial-duplicates"><i class="fa fa-check"></i><b>5.1.10</b> Removing partial duplicates</a></li>
<li class="chapter" data-level="5.1.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#aggregating-partial-duplicates"><i class="fa fa-check"></i><b>5.1.11</b> Aggregating partial duplicates</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>5.2</b> 2: Categorical and Text Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-checking-membership"><i class="fa fa-check"></i><b>5.2.1</b> Video: Checking membership</a></li>
<li class="chapter" data-level="5.2.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-members-only"><i class="fa fa-check"></i><b>5.2.2</b> Question: Members only</a></li>
<li class="chapter" data-level="5.2.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#not-a-member"><i class="fa fa-check"></i><b>5.2.3</b> Not a member</a></li>
<li class="chapter" data-level="5.2.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-categorical-data-problems"><i class="fa fa-check"></i><b>5.2.4</b> Video: Categorical data problems</a></li>
<li class="chapter" data-level="5.2.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#identifying-inconsistency"><i class="fa fa-check"></i><b>5.2.5</b> Identifying inconsistency</a></li>
<li class="chapter" data-level="5.2.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#correcting-inconsistency"><i class="fa fa-check"></i><b>5.2.6</b> Correcting inconsistency</a></li>
<li class="chapter" data-level="5.2.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#collapsing-categories"><i class="fa fa-check"></i><b>5.2.7</b> Collapsing categories</a></li>
<li class="chapter" data-level="5.2.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-cleaning-text-data"><i class="fa fa-check"></i><b>5.2.8</b> Video: Cleaning text data</a></li>
<li class="chapter" data-level="5.2.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#detecting-inconsistent-text-data"><i class="fa fa-check"></i><b>5.2.9</b> Detecting inconsistent text data</a></li>
<li class="chapter" data-level="5.2.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#replacing-and-removing"><i class="fa fa-check"></i><b>5.2.10</b> Replacing and removing</a></li>
<li class="chapter" data-level="5.2.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#invalid-phone-numbers"><i class="fa fa-check"></i><b>5.2.11</b> Invalid phone numbers</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>5.3</b> 3: Advanced Data Problems</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#date-uniformity"><i class="fa fa-check"></i><b>5.3.1</b> Date uniformity</a></li>
<li class="chapter" data-level="5.3.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#currency-uniformity"><i class="fa fa-check"></i><b>5.3.2</b> Currency uniformity</a></li>
<li class="chapter" data-level="5.3.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-cross-field-validation"><i class="fa fa-check"></i><b>5.3.3</b> Video: Cross field validation</a></li>
<li class="chapter" data-level="5.3.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#validating-totals"><i class="fa fa-check"></i><b>5.3.4</b> Validating totals</a></li>
<li class="chapter" data-level="5.3.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#validating-age"><i class="fa fa-check"></i><b>5.3.5</b> Validating age</a></li>
<li class="chapter" data-level="5.3.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-completeness"><i class="fa fa-check"></i><b>5.3.6</b> Video: Completeness</a></li>
<li class="chapter" data-level="5.3.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#question-types-of-missingness"><i class="fa fa-check"></i><b>5.3.7</b> Question: Types of missingness</a></li>
<li class="chapter" data-level="5.3.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#visualizing-missing-data"><i class="fa fa-check"></i><b>5.3.8</b> Visualizing missing data</a></li>
<li class="chapter" data-level="5.3.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#treating-missing-data"><i class="fa fa-check"></i><b>5.3.9</b> Treating missing data</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>5.4</b> 4: Record Linkage</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#calculating-distance"><i class="fa fa-check"></i><b>5.4.1</b> Calculating distance</a></li>
<li class="chapter" data-level="5.4.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#small-distance-small-difference"><i class="fa fa-check"></i><b>5.4.2</b> Small distance, small difference</a></li>
<li class="chapter" data-level="5.4.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#fixing-typos-with-string-distance"><i class="fa fa-check"></i><b>5.4.3</b> Fixing typos with string distance</a></li>
<li class="chapter" data-level="5.4.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-generating-and-comparing-pairs"><i class="fa fa-check"></i><b>5.4.4</b> Video: Generating and comparing pairs</a></li>
<li class="chapter" data-level="5.4.5" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#exercise-link-or-join"><i class="fa fa-check"></i><b>5.4.5</b> Exercise: Link or join?</a></li>
<li class="chapter" data-level="5.4.6" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#pair-blocking"><i class="fa fa-check"></i><b>5.4.6</b> Pair blocking</a></li>
<li class="chapter" data-level="5.4.7" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#comparing-pairs"><i class="fa fa-check"></i><b>5.4.7</b> Comparing pairs</a></li>
<li class="chapter" data-level="5.4.8" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-scoring-and-linking"><i class="fa fa-check"></i><b>5.4.8</b> Video: Scoring and linking</a></li>
<li class="chapter" data-level="5.4.9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#score-then-select-or-select-then-score"><i class="fa fa-check"></i><b>5.4.9</b> Score then select or select then score?</a></li>
<li class="chapter" data-level="5.4.10" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#putting-it-together"><i class="fa fa-check"></i><b>5.4.10</b> Putting it together</a></li>
<li class="chapter" data-level="5.4.11" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#video-congratulations-1"><i class="fa fa-check"></i><b>5.4.11</b> Video: Congratulations!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-data-visualization-with-ggplot2.html"><a href="introduction-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Introduction to Data Visualization with ggplot2</a></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis in R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#comics"><i class="fa fa-check"></i><b>7.1</b> Comics</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-exploring-categorical-data"><i class="fa fa-check"></i><b>7.1.1</b> Video: Exploring categorical data</a></li>
<li class="chapter" data-level="7.1.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-bar-chart-expectations"><i class="fa fa-check"></i><b>7.1.2</b> Question: Bar chart expectations</a></li>
<li class="chapter" data-level="7.1.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#contingency-table-review"><i class="fa fa-check"></i><b>7.1.3</b> Contingency table review</a></li>
<li class="chapter" data-level="7.1.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#dropping-levels"><i class="fa fa-check"></i><b>7.1.4</b> Dropping levels</a></li>
<li class="chapter" data-level="7.1.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#side-by-side-barcharts"><i class="fa fa-check"></i><b>7.1.5</b> Side-by-side barcharts</a></li>
<li class="chapter" data-level="7.1.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-bar-chart-interpretation"><i class="fa fa-check"></i><b>7.1.6</b> Question: Bar chart interpretation</a></li>
<li class="chapter" data-level="7.1.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-counts-vs.-proportions"><i class="fa fa-check"></i><b>7.1.7</b> Video: Counts vs. proportions</a></li>
<li class="chapter" data-level="7.1.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-conditional-proportions"><i class="fa fa-check"></i><b>7.1.8</b> Question: Conditional proportions</a></li>
<li class="chapter" data-level="7.1.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#counts-vs.-proportions-2"><i class="fa fa-check"></i><b>7.1.9</b> Counts vs. proportions (2)</a></li>
<li class="chapter" data-level="7.1.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-distribution-of-one-variable"><i class="fa fa-check"></i><b>7.1.10</b> Video: Distribution of one variable</a></li>
<li class="chapter" data-level="7.1.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#marginal-barchart"><i class="fa fa-check"></i><b>7.1.11</b> Marginal barchart</a></li>
<li class="chapter" data-level="7.1.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#conditional-barchart"><i class="fa fa-check"></i><b>7.1.12</b> Conditional barchart</a></li>
<li class="chapter" data-level="7.1.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#improve-piechart"><i class="fa fa-check"></i><b>7.1.13</b> Improve piechart</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#cars"><i class="fa fa-check"></i><b>7.2</b> Cars</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-exploring-numerical-data"><i class="fa fa-check"></i><b>7.2.1</b> Video: Exploring numerical data</a></li>
<li class="chapter" data-level="7.2.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceted-histogram"><i class="fa fa-check"></i><b>7.2.2</b> Faceted histogram</a></li>
<li class="chapter" data-level="7.2.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#boxplots-and-density-plots"><i class="fa fa-check"></i><b>7.2.3</b> Boxplots and density plots</a></li>
<li class="chapter" data-level="7.2.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#compare-distribution-via-plots"><i class="fa fa-check"></i><b>7.2.4</b> Compare distribution via plots</a></li>
<li class="chapter" data-level="7.2.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-distribution-of-one-variable-1"><i class="fa fa-check"></i><b>7.2.5</b> Video: Distribution of one variable</a></li>
<li class="chapter" data-level="7.2.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#marginal-and-conditional-histograms"><i class="fa fa-check"></i><b>7.2.6</b> Marginal and conditional histograms</a></li>
<li class="chapter" data-level="7.2.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-marginal-and-conditional-histograms-interpretation"><i class="fa fa-check"></i><b>7.2.7</b> Question: Marginal and conditional histograms interpretation</a></li>
<li class="chapter" data-level="7.2.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#three-binwidths"><i class="fa fa-check"></i><b>7.2.8</b> Three binwidths</a></li>
<li class="chapter" data-level="7.2.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-three-binwidths-interpretation"><i class="fa fa-check"></i><b>7.2.9</b> Question: Three binwidths interpretation</a></li>
<li class="chapter" data-level="7.2.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-box-plots"><i class="fa fa-check"></i><b>7.2.10</b> Video: Box plots</a></li>
<li class="chapter" data-level="7.2.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#box-plots-for-outliers"><i class="fa fa-check"></i><b>7.2.11</b> Box plots for outliers</a></li>
<li class="chapter" data-level="7.2.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plot-selection"><i class="fa fa-check"></i><b>7.2.12</b> Plot selection</a></li>
<li class="chapter" data-level="7.2.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualization-in-higher-dimensions"><i class="fa fa-check"></i><b>7.2.13</b> Video: Visualization in higher dimensions</a></li>
<li class="chapter" data-level="7.2.14" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#variable-plot"><i class="fa fa-check"></i><b>7.2.14</b> 3 variable plot</a></li>
<li class="chapter" data-level="7.2.15" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-interpret-3-var-plot"><i class="fa fa-check"></i><b>7.2.15</b> Question: Interpret 3 var plot</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#gapminder"><i class="fa fa-check"></i><b>7.3</b> Gapminder</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-measures-of-center"><i class="fa fa-check"></i><b>7.3.1</b> Video: Measures of center</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-choice-of-center-measure"><i class="fa fa-check"></i><b>7.3.2</b> Question: Choice of center measure</a></li>
<li class="chapter" data-level="7.3.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#calculate-center-measures"><i class="fa fa-check"></i><b>7.3.3</b> Calculate center measures</a></li>
<li class="chapter" data-level="7.3.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-measures-of-variability"><i class="fa fa-check"></i><b>7.3.4</b> Video: Measures of variability</a></li>
<li class="chapter" data-level="7.3.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#calculate-spread-measures"><i class="fa fa-check"></i><b>7.3.5</b> Calculate spread measures</a></li>
<li class="chapter" data-level="7.3.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choose-measures-for-center-and-spread"><i class="fa fa-check"></i><b>7.3.6</b> Choose measures for center and spread</a></li>
<li class="chapter" data-level="7.3.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-shape-and-transformations"><i class="fa fa-check"></i><b>7.3.7</b> Video: Shape and transformations</a></li>
<li class="chapter" data-level="7.3.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#describe-the-shape"><i class="fa fa-check"></i><b>7.3.8</b> Describe the shape</a></li>
<li class="chapter" data-level="7.3.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#transformations"><i class="fa fa-check"></i><b>7.3.9</b> Transformations</a></li>
<li class="chapter" data-level="7.3.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-outliers"><i class="fa fa-check"></i><b>7.3.10</b> Video: Outliers</a></li>
<li class="chapter" data-level="7.3.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#identify-outliers"><i class="fa fa-check"></i><b>7.3.11</b> Identify outliers</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#email"><i class="fa fa-check"></i><b>7.4</b> Email</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-introducing-the-data"><i class="fa fa-check"></i><b>7.4.1</b> Video: Introducing the data</a></li>
<li class="chapter" data-level="7.4.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-num_char"><i class="fa fa-check"></i><b>7.4.2</b> Spam and num_char</a></li>
<li class="chapter" data-level="7.4.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-num_char-interpretation"><i class="fa fa-check"></i><b>7.4.3</b> Spam and num_char interpretation</a></li>
<li class="chapter" data-level="7.4.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and"><i class="fa fa-check"></i><b>7.4.4</b> Spam and !!!</a></li>
<li class="chapter" data-level="7.4.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#spam-and-interpretation"><i class="fa fa-check"></i><b>7.4.5</b> Spam and !!! interpretation</a></li>
<li class="chapter" data-level="7.4.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-check-in-1"><i class="fa fa-check"></i><b>7.4.6</b> Video: Check-in 1</a></li>
<li class="chapter" data-level="7.4.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#collapsing-levels"><i class="fa fa-check"></i><b>7.4.7</b> Collapsing levels</a></li>
<li class="chapter" data-level="7.4.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#question-image-and-spam-interpretation"><i class="fa fa-check"></i><b>7.4.8</b> Question: Image and spam interpretation</a></li>
<li class="chapter" data-level="7.4.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#data-integrity"><i class="fa fa-check"></i><b>7.4.9</b> Data Integrity</a></li>
<li class="chapter" data-level="7.4.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#answering-questions-with-chains"><i class="fa fa-check"></i><b>7.4.10</b> Answering questions with chains</a></li>
<li class="chapter" data-level="7.4.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-check-in-2"><i class="fa fa-check"></i><b>7.4.11</b> Video: Check-in 2</a></li>
<li class="chapter" data-level="7.4.12" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#whats-in-a-number"><i class="fa fa-check"></i><b>7.4.12</b> What’s in a number?</a></li>
<li class="chapter" data-level="7.4.13" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#whats-in-a-number-interpretation"><i class="fa fa-check"></i><b>7.4.13</b> What’s in a number interpretation</a></li>
<li class="chapter" data-level="7.4.14" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-conclusion"><i class="fa fa-check"></i><b>7.4.14</b> Video: Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#challenge-2"><i class="fa fa-check"></i><b>7.5</b> Challenge</a></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-1-data-cleaning-and-summarizing-with-dplyr"><i class="fa fa-check"></i><b>7.6</b> Solutions 1: Data cleaning and summarizing with dplyr</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-the-united-nations-voting-dataset"><i class="fa fa-check"></i><b>7.6.1</b> Video: The United Nations Voting Dataset</a></li>
<li class="chapter" data-level="7.6.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#filtering-rows"><i class="fa fa-check"></i><b>7.6.2</b> Filtering rows</a></li>
<li class="chapter" data-level="7.6.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#adding-a-year-column"><i class="fa fa-check"></i><b>7.6.3</b> Adding a year column</a></li>
<li class="chapter" data-level="7.6.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#adding-a-country-column"><i class="fa fa-check"></i><b>7.6.4</b> Adding a country column</a></li>
<li class="chapter" data-level="7.6.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-grouping-and-summarizing"><i class="fa fa-check"></i><b>7.6.5</b> Video: Grouping and summarizing</a></li>
<li class="chapter" data-level="7.6.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-the-full-dataset"><i class="fa fa-check"></i><b>7.6.6</b> Summarizing the full dataset</a></li>
<li class="chapter" data-level="7.6.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-year"><i class="fa fa-check"></i><b>7.6.7</b> Summarizing by year</a></li>
<li class="chapter" data-level="7.6.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-country"><i class="fa fa-check"></i><b>7.6.8</b> Summarizing by country</a></li>
<li class="chapter" data-level="7.6.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-sorting-and-filtering-summarized-data"><i class="fa fa-check"></i><b>7.6.9</b> Video: Sorting and filtering summarized data</a></li>
<li class="chapter" data-level="7.6.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#sorting-by-percentage-of-yes-votes"><i class="fa fa-check"></i><b>7.6.10</b> Sorting by percentage of “yes” votes</a></li>
<li class="chapter" data-level="7.6.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#filtering-summarized-output"><i class="fa fa-check"></i><b>7.6.11</b> Filtering summarized output</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-2-visualization-with-ggplot2"><i class="fa fa-check"></i><b>7.7</b> Solutions 2: Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualization-with-ggplot2"><i class="fa fa-check"></i><b>7.7.1</b> Video: Visualization with ggplot2</a></li>
<li class="chapter" data-level="7.7.2" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choosing-an-aesthetic"><i class="fa fa-check"></i><b>7.7.2</b> Choosing an aesthetic</a></li>
<li class="chapter" data-level="7.7.3" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#other-ggplot2-layers"><i class="fa fa-check"></i><b>7.7.3</b> Other ggplot2 layers</a></li>
<li class="chapter" data-level="7.7.4" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-visualizing-by-country"><i class="fa fa-check"></i><b>7.7.4</b> Video: Visualizing by country</a></li>
<li class="chapter" data-level="7.7.5" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#summarizing-by-year-and-country"><i class="fa fa-check"></i><b>7.7.5</b> Summarizing by year and country</a></li>
<li class="chapter" data-level="7.7.6" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plotting-just-the-uk-over-time"><i class="fa fa-check"></i><b>7.7.6</b> Plotting just the UK over time</a></li>
<li class="chapter" data-level="7.7.7" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#plotting-multiple-countries"><i class="fa fa-check"></i><b>7.7.7</b> Plotting multiple countries</a></li>
<li class="chapter" data-level="7.7.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-faceting-by-country"><i class="fa fa-check"></i><b>7.7.8</b> Video: Faceting by country</a></li>
<li class="chapter" data-level="7.7.9" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceting-the-time-series"><i class="fa fa-check"></i><b>7.7.9</b> Faceting the time series</a></li>
<li class="chapter" data-level="7.7.10" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#faceting-with-free-y-axis"><i class="fa fa-check"></i><b>7.7.10</b> Faceting with free y-axis</a></li>
<li class="chapter" data-level="7.7.11" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#choose-your-own-countries"><i class="fa fa-check"></i><b>7.7.11</b> Choose your own countries</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#solutions-3-tidy-modeling-with-broom"><i class="fa fa-check"></i><b>7.8</b> Solutions 3: Tidy modeling with broom</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="exploratory-data-analysis-in-r.html"><a href="exploratory-data-analysis-in-r.html#video-linear-regression"><i class="fa fa-check"></i><b>7.8.1</b> Video: Linear regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="correlation-and-regression-in-r.html"><a href="correlation-and-regression-in-r.html"><i class="fa fa-check"></i><b>8</b> Correlation and Regression in R</a></li>
<li class="chapter" data-level="9" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>9</b> Intermediate Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="9.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#statistics"><i class="fa fa-check"></i><b>9.1</b> Statistics</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#video-stats-with-geoms"><i class="fa fa-check"></i><b>9.1.1</b> Video: Stats with geoms</a></li>
<li class="chapter" data-level="9.1.2" data-path="intermediate-data-visualization-with-ggplot2.html"><a href="intermediate-data-visualization-with-ggplot2.html#smoothing"><i class="fa fa-check"></i><b>9.1.2</b> Smoothing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tree-based-models-in-r.html"><a href="tree-based-models-in-r.html"><i class="fa fa-check"></i><b>10</b> Tree-Based Models in R</a></li>
<li class="chapter" data-level="11" data-path="end-of-semester-project.html"><a href="end-of-semester-project.html"><i class="fa fa-check"></i><b>11</b> End-of-semester project</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming for Business</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory-data-analysis-in-r" class="section level1" number="7">
<h1><span class="header-section-number">Module 7</span> Exploratory Data Analysis in R</h1>
<div id="comics" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Comics</h2>
<p>In this chapter, you will learn how to create graphical and numerical summaries of two categorical variables.</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="exploratory-data-analysis-in-r.html#cb694-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://assets.datacamp.com/production/course_1796/datasets/comics.csv&quot;</span></span>
<span id="cb694-2"><a href="exploratory-data-analysis-in-r.html#cb694-2" aria-hidden="true" tabindex="-1"></a>filename <span class="ot">&lt;-</span> <span class="fu">basename</span>(url)</span>
<span id="cb694-3"><a href="exploratory-data-analysis-in-r.html#cb694-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(filename)) <span class="fu">download</span>(url,<span class="at">destfile=</span>filename)</span>
<span id="cb694-4"><a href="exploratory-data-analysis-in-r.html#cb694-4" aria-hidden="true" tabindex="-1"></a>comics <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(filename)</span>
<span id="cb694-5"><a href="exploratory-data-analysis-in-r.html#cb694-5" aria-hidden="true" tabindex="-1"></a><span class="co"># comics %&gt;% </span></span>
<span id="cb694-6"><a href="exploratory-data-analysis-in-r.html#cb694-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  rename(</span></span>
<span id="cb694-7"><a href="exploratory-data-analysis-in-r.html#cb694-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    sepal_length = Sepal.Length,</span></span>
<span id="cb694-8"><a href="exploratory-data-analysis-in-r.html#cb694-8" aria-hidden="true" tabindex="-1"></a><span class="co">#    sepal_width = Sepal.Width</span></span>
<span id="cb694-9"><a href="exploratory-data-analysis-in-r.html#cb694-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    )</span></span></code></pre></div>
<div id="video-exploring-categorical-data" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Video: Exploring categorical data</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb695-1"><a href="exploratory-data-analysis-in-r.html#cb695-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(comics)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    23272 obs. of  11 variables:
##  $ name        : Factor w/ 23272 levels &quot;&#39;Spinner (Earth-616)&quot;,..: 19830 3335 22769 9647 20956 2220 17576 9347 18794 10957 ...
##  $ id          : Factor w/ 4 levels &quot;No Dual&quot;,&quot;Public&quot;,..: 3 2 2 2 1 2 2 2 2 2 ...
##  $ align       : Factor w/ 4 levels &quot;Bad&quot;,&quot;Good&quot;,&quot;Neutral&quot;,..: 2 2 3 2 2 2 2 2 3 2 ...
##  $ eye         : Factor w/ 26 levels &quot;Amber Eyes&quot;,&quot;Auburn Hair&quot;,..: 11 5 5 5 5 5 6 6 6 5 ...
##  $ hair        : Factor w/ 28 levels &quot;Auburn Hair&quot;,..: 7 27 3 3 4 14 7 7 7 4 ...
##  $ gender      : Factor w/ 3 levels &quot;Female&quot;,&quot;Male&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ gsm         : Factor w/ 6 levels &quot;Bisexual Characters&quot;,..: NA NA NA NA NA NA NA NA NA NA ...
##  $ alive       : Factor w/ 2 levels &quot;Deceased Characters&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...
##  $ appearances : int  4043 3360 3061 2961 2258 2255 2072 2017 1955 1934 ...
##  $ first_appear: Factor w/ 1606 levels &quot;1935, October&quot;,..: 874 1278 1513 1296 1424 1432 1432 1364 1570 1432 ...
##  $ publisher   : Factor w/ 2 levels &quot;dc&quot;,&quot;marvel&quot;: 2 2 2 2 2 2 2 2 2 2 ...</code></pre>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="exploratory-data-analysis-in-r.html#cb697-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(comics<span class="sc">$</span>align)</span></code></pre></div>
<pre><code>## [1] &quot;Bad&quot;                &quot;Good&quot;               &quot;Neutral&quot;           
## [4] &quot;Reformed Criminals&quot;</code></pre>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="exploratory-data-analysis-in-r.html#cb699-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(comics<span class="sc">$</span>id)</span></code></pre></div>
<pre><code>## [1] &quot;No Dual&quot; &quot;Public&quot;  &quot;Secret&quot;  &quot;Unknown&quot;</code></pre>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="exploratory-data-analysis-in-r.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(comics<span class="sc">$</span>id, comics<span class="sc">$</span>align)</span></code></pre></div>
<pre><code>##          
##            Bad Good Neutral Reformed Criminals
##   No Dual  474  647     390                  0
##   Public  2172 2930     965                  1
##   Secret  4493 2475     959                  1
##   Unknown    7    0       2                  0</code></pre>
<div class="sourceCode" id="cb703"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb703-1"><a href="exploratory-data-analysis-in-r.html#cb703-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x=</span>align, <span class="at">fill=</span>id)) <span class="sc">+</span></span>
<span id="cb703-2"><a href="exploratory-data-analysis-in-r.html#cb703-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/contingency%20table-1.png" width="672" /></p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="exploratory-data-analysis-in-r.html#cb704-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">fill=</span>align)) <span class="sc">+</span></span>
<span id="cb704-2"><a href="exploratory-data-analysis-in-r.html#cb704-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/contingency%20table-2.png" width="672" /></p>
</div>
<div id="question-bar-chart-expectations" class="section level3" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Question: Bar chart expectations</h3>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Comics/barchartexpectations.png" style="width:80.0%" alt="" />
<p class="caption">Which one of the barcharts shows no relationship between <code>age</code> and <code>flavor</code>? In other words, which shows that pie preference is the same for both young and old? <em>Source: DataCamp</em></p>
</div>
</center>
<p>It’s the first one.</p>
</div>
<div id="contingency-table-review" class="section level3" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Contingency table review</h3>
<p>In this chapter you’ll continue working with the <code>comics</code> dataset introduced in the video. This is a collection of characteristics on all of the superheroes created by Marvel and DC comics in the last 80 years.</p>
<p>Let’s start by creating a contingency table, which is a useful way to represent the total counts of observations that fall into each combination of the levels of categorical variables.</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="exploratory-data-analysis-in-r.html#cb705-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first rows of the data</span></span>
<span id="cb705-2"><a href="exploratory-data-analysis-in-r.html#cb705-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(comics)</span></code></pre></div>
<pre><code>##                                    name      id   align        eye
## 1             Spider-Man (Peter Parker)  Secret    Good Hazel Eyes
## 2       Captain America (Steven Rogers)  Public    Good  Blue Eyes
## 3 Wolverine (James \\&quot;Logan\\&quot; Howlett)  Public Neutral  Blue Eyes
## 4   Iron Man (Anthony \\&quot;Tony\\&quot; Stark)  Public    Good  Blue Eyes
## 5                   Thor (Thor Odinson) No Dual    Good  Blue Eyes
## 6            Benjamin Grimm (Earth-616)  Public    Good  Blue Eyes
##         hair gender  gsm             alive appearances first_appear
## 1 Brown Hair   Male &lt;NA&gt; Living Characters        4043       Aug-62
## 2 White Hair   Male &lt;NA&gt; Living Characters        3360       Mar-41
## 3 Black Hair   Male &lt;NA&gt; Living Characters        3061       Oct-74
## 4 Black Hair   Male &lt;NA&gt; Living Characters        2961       Mar-63
## 5 Blond Hair   Male &lt;NA&gt; Living Characters        2258       Nov-50
## 6    No Hair   Male &lt;NA&gt; Living Characters        2255       Nov-61
##   publisher
## 1    marvel
## 2    marvel
## 3    marvel
## 4    marvel
## 5    marvel
## 6    marvel</code></pre>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="exploratory-data-analysis-in-r.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check levels of align</span></span>
<span id="cb707-2"><a href="exploratory-data-analysis-in-r.html#cb707-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(comics<span class="sc">$</span>align)</span></code></pre></div>
<pre><code>## [1] &quot;Bad&quot;                &quot;Good&quot;               &quot;Neutral&quot;           
## [4] &quot;Reformed Criminals&quot;</code></pre>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="exploratory-data-analysis-in-r.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the levels of gender</span></span>
<span id="cb709-2"><a href="exploratory-data-analysis-in-r.html#cb709-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(comics<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>## [1] &quot;Female&quot; &quot;Male&quot;   &quot;Other&quot;</code></pre>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="exploratory-data-analysis-in-r.html#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 2-way contingency table</span></span>
<span id="cb711-2"><a href="exploratory-data-analysis-in-r.html#cb711-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(comics<span class="sc">$</span>align, comics<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>##                     
##                      Female Male Other
##   Bad                  1573 7561    32
##   Good                 2490 4809    17
##   Neutral               836 1799    17
##   Reformed Criminals      1    2     0</code></pre>
</div>
<div id="dropping-levels" class="section level3" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Dropping levels</h3>
<p>The contingency table from the last exercise revealed that there are some levels that have very low counts. To simplify the analysis, it often helps to drop such levels.</p>
<p>In R, this requires two steps: first filtering out any rows with the levels that have very low counts, then removing these levels from the factor variable with <code>droplevels()</code>. This is because the <code>droplevels()</code> function would keep levels that have just 1 or 2 counts; it only drops levels that don’t exist in a dataset.</p>
<div class="sourceCode" id="cb713"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb713-1"><a href="exploratory-data-analysis-in-r.html#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign contingency table to tab</span></span>
<span id="cb713-2"><a href="exploratory-data-analysis-in-r.html#cb713-2" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">table</span>(comics<span class="sc">$</span>align, comics<span class="sc">$</span>gender)</span>
<span id="cb713-3"><a href="exploratory-data-analysis-in-r.html#cb713-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-4"><a href="exploratory-data-analysis-in-r.html#cb713-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dplyr</span></span>
<span id="cb713-5"><a href="exploratory-data-analysis-in-r.html#cb713-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb713-6"><a href="exploratory-data-analysis-in-r.html#cb713-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-7"><a href="exploratory-data-analysis-in-r.html#cb713-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print tab</span></span>
<span id="cb713-8"><a href="exploratory-data-analysis-in-r.html#cb713-8" aria-hidden="true" tabindex="-1"></a>tab</span></code></pre></div>
<pre><code>##                     
##                      Female Male Other
##   Bad                  1573 7561    32
##   Good                 2490 4809    17
##   Neutral               836 1799    17
##   Reformed Criminals      1    2     0</code></pre>
<div class="sourceCode" id="cb715"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb715-1"><a href="exploratory-data-analysis-in-r.html#cb715-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove align level</span></span>
<span id="cb715-2"><a href="exploratory-data-analysis-in-r.html#cb715-2" aria-hidden="true" tabindex="-1"></a>comics_filtered <span class="ot">&lt;-</span> comics <span class="sc">%&gt;%</span></span>
<span id="cb715-3"><a href="exploratory-data-analysis-in-r.html#cb715-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(align <span class="sc">!=</span> <span class="st">&quot;Reformed Criminals&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb715-4"><a href="exploratory-data-analysis-in-r.html#cb715-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">droplevels</span>()</span>
<span id="cb715-5"><a href="exploratory-data-analysis-in-r.html#cb715-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb715-6"><a href="exploratory-data-analysis-in-r.html#cb715-6" aria-hidden="true" tabindex="-1"></a><span class="co"># See the result</span></span>
<span id="cb715-7"><a href="exploratory-data-analysis-in-r.html#cb715-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(comics_filtered)</span></code></pre></div>
<pre><code>##                                    name      id   align        eye
## 1             Spider-Man (Peter Parker)  Secret    Good Hazel Eyes
## 2       Captain America (Steven Rogers)  Public    Good  Blue Eyes
## 3 Wolverine (James \\&quot;Logan\\&quot; Howlett)  Public Neutral  Blue Eyes
## 4   Iron Man (Anthony \\&quot;Tony\\&quot; Stark)  Public    Good  Blue Eyes
## 5                   Thor (Thor Odinson) No Dual    Good  Blue Eyes
## 6            Benjamin Grimm (Earth-616)  Public    Good  Blue Eyes
##         hair gender  gsm             alive appearances first_appear
## 1 Brown Hair   Male &lt;NA&gt; Living Characters        4043       Aug-62
## 2 White Hair   Male &lt;NA&gt; Living Characters        3360       Mar-41
## 3 Black Hair   Male &lt;NA&gt; Living Characters        3061       Oct-74
## 4 Black Hair   Male &lt;NA&gt; Living Characters        2961       Mar-63
## 5 Blond Hair   Male &lt;NA&gt; Living Characters        2258       Nov-50
## 6    No Hair   Male &lt;NA&gt; Living Characters        2255       Nov-61
##   publisher
## 1    marvel
## 2    marvel
## 3    marvel
## 4    marvel
## 5    marvel
## 6    marvel</code></pre>
<div class="sourceCode" id="cb717"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb717-1"><a href="exploratory-data-analysis-in-r.html#cb717-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check contingency table</span></span>
<span id="cb717-2"><a href="exploratory-data-analysis-in-r.html#cb717-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(comics_filtered<span class="sc">$</span>align, comics_filtered<span class="sc">$</span>gender)</span></code></pre></div>
<pre><code>##          
##           Female Male Other
##   Bad       1573 7561    32
##   Good      2490 4809    17
##   Neutral    836 1799    17</code></pre>
</div>
<div id="side-by-side-barcharts" class="section level3" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Side-by-side barcharts</h3>
<p>While a contingency table represents the counts numerically, it’s often more useful to represent them graphically.</p>
<p>Here you’ll construct two side-by-side barcharts of the <code>comics</code> data. This shows that there can often be two or more options for presenting the same data. Passing the argument <code>position = "dodge"</code> to <code>geom_bar()</code> says that you want a side-by-side (i.e. not stacked) barchart.</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb719-1"><a href="exploratory-data-analysis-in-r.html#cb719-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb719-2"><a href="exploratory-data-analysis-in-r.html#cb719-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb719-3"><a href="exploratory-data-analysis-in-r.html#cb719-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb719-4"><a href="exploratory-data-analysis-in-r.html#cb719-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create side-by-side barchart of gender by alignment</span></span>
<span id="cb719-5"><a href="exploratory-data-analysis-in-r.html#cb719-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x =</span> align, <span class="at">fill =</span> gender)) <span class="sc">+</span> </span>
<span id="cb719-6"><a href="exploratory-data-analysis-in-r.html#cb719-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-413-1.png" width="672" /></p>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="exploratory-data-analysis-in-r.html#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create side-by-side barchart of alignment by gender</span></span>
<span id="cb720-2"><a href="exploratory-data-analysis-in-r.html#cb720-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">fill =</span> align)) <span class="sc">+</span> </span>
<span id="cb720-3"><a href="exploratory-data-analysis-in-r.html#cb720-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb720-4"><a href="exploratory-data-analysis-in-r.html#cb720-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-413-2.png" width="672" /></p>
<p>Take a moment to toggle between the resulting plots in the plotting window.</p>
</div>
<div id="question-bar-chart-interpretation" class="section level3" number="7.1.6">
<h3><span class="header-section-number">7.1.6</span> Question: Bar chart interpretation</h3>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Comics/barchartinterpretation.png" style="width:80.0%" alt="" />
<p class="caption">Which of the following interpretations of the bar charts to your right is not valid? <em>Source: DataCamp</em></p>
</div>
</center>
<p>It’s “Across all genders, <code>Bad</code> is the most common alignment.”</p>
</div>
<div id="video-counts-vs.-proportions" class="section level3" number="7.1.7">
<h3><span class="header-section-number">7.1.7</span> Video: Counts vs. proportions</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="question-conditional-proportions" class="section level3" number="7.1.8">
<h3><span class="header-section-number">7.1.8</span> Question: Conditional proportions</h3>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="exploratory-data-analysis-in-r.html#cb721-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">table</span>(comics<span class="sc">$</span>align, comics<span class="sc">$</span>gender)</span>
<span id="cb721-2"><a href="exploratory-data-analysis-in-r.html#cb721-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>, <span class="at">digits =</span> <span class="dv">3</span>) <span class="co"># Print fewer digits</span></span>
<span id="cb721-3"><a href="exploratory-data-analysis-in-r.html#cb721-3" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(tab)     <span class="co"># Joint proportions</span></span></code></pre></div>
<pre><code>##                     
##                         Female      Male     Other
##   Bad                0.0821968 0.3950985 0.0016722
##   Good               0.1301144 0.2512933 0.0008883
##   Neutral            0.0436850 0.0940064 0.0008883
##   Reformed Criminals 0.0000523 0.0001045 0.0000000</code></pre>
<div class="sourceCode" id="cb723"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb723-1"><a href="exploratory-data-analysis-in-r.html#cb723-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(tab, <span class="dv">2</span>)  <span class="co"># Conditional on columns</span></span></code></pre></div>
<pre><code>##                     
##                        Female     Male    Other
##   Bad                0.321020 0.533554 0.484848
##   Good               0.508163 0.339355 0.257576
##   Neutral            0.170612 0.126949 0.257576
##   Reformed Criminals 0.000204 0.000141 0.000000</code></pre>
<p>Approximately what proportion of all female characters are good?</p>
<p>It’s 51%. To answer this question, you needed to look at how <code>align</code> was distributed <em>within</em> each <code>gender.</code> That is, you wanted to <em>condition on</em> the <code>gender</code> variable.</p>
</div>
<div id="counts-vs.-proportions-2" class="section level3" number="7.1.9">
<h3><span class="header-section-number">7.1.9</span> Counts vs. proportions (2)</h3>
<p>Bar charts can tell dramatically different stories depending on whether they represent counts or proportions and, if proportions, what the proportions are conditioned on. To demonstrate this difference, you’ll construct two barcharts in this exercise: one of counts and one of proportions.</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="exploratory-data-analysis-in-r.html#cb725-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of gender by align</span></span>
<span id="cb725-2"><a href="exploratory-data-analysis-in-r.html#cb725-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x =</span> align, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb725-3"><a href="exploratory-data-analysis-in-r.html#cb725-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-415-1.png" width="672" /></p>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb726-1"><a href="exploratory-data-analysis-in-r.html#cb726-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot proportion of gender, conditional on align</span></span>
<span id="cb726-2"><a href="exploratory-data-analysis-in-r.html#cb726-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x =</span> align, <span class="at">fill =</span> gender)) <span class="sc">+</span> </span>
<span id="cb726-3"><a href="exploratory-data-analysis-in-r.html#cb726-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb726-4"><a href="exploratory-data-analysis-in-r.html#cb726-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;proportion&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-415-2.png" width="672" /></p>
<p>By adding <code>position = "fill"</code> to <code>geom_bar()</code>, you are saying you want the bars to fill the entire height of the plotting window, thus displaying proportions and not raw counts.</p>
</div>
<div id="video-distribution-of-one-variable" class="section level3" number="7.1.10">
<h3><span class="header-section-number">7.1.10</span> Video: Distribution of one variable</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<p>Take your original two-way table, then sum the cells across each level of one of the variables. Since we’ve summed over the <strong>margins</strong> of the other variable, this is sometimes called a <em>marginal distribution</em>.</p>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Comics/facetingvsstacking.png" style="width:80.0%" alt="" />
<p class="caption">Faceting vs. stacking. <em>Source: DataCamp</em></p>
</div>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Comics/piechartvsbarchart.png" style="width:80.0%" alt="" />
<p class="caption">Areas are easier to compare in bar charts. <em>Source: DataCamp</em></p>
</div>
</center>
</div>
<div id="marginal-barchart" class="section level3" number="7.1.11">
<h3><span class="header-section-number">7.1.11</span> Marginal barchart</h3>
<p>If you are interested in the distribution of alignment of <em>all</em> superheroes, it makes sense to construct a barchart for just that single variable.</p>
<p>You can improve the interpretability of the plot, though, by implementing some sensible ordering. Superheroes that are <code>"Neutral"</code> show an alignment between <code>"Good"</code> and <code>"Bad"</code>, so it makes sense to put that bar in the middle.</p>
<div class="sourceCode" id="cb727"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb727-1"><a href="exploratory-data-analysis-in-r.html#cb727-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the order of the levels in align</span></span>
<span id="cb727-2"><a href="exploratory-data-analysis-in-r.html#cb727-2" aria-hidden="true" tabindex="-1"></a>comics<span class="sc">$</span>align <span class="ot">&lt;-</span> <span class="fu">factor</span>(comics<span class="sc">$</span>align, </span>
<span id="cb727-3"><a href="exploratory-data-analysis-in-r.html#cb727-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Bad&quot;</span>, <span class="st">&quot;Neutral&quot;</span>, <span class="st">&quot;Good&quot;</span>))</span>
<span id="cb727-4"><a href="exploratory-data-analysis-in-r.html#cb727-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb727-5"><a href="exploratory-data-analysis-in-r.html#cb727-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot of align</span></span>
<span id="cb727-6"><a href="exploratory-data-analysis-in-r.html#cb727-6" aria-hidden="true" tabindex="-1"></a>comics <span class="sc">%&gt;%</span></span>
<span id="cb727-7"><a href="exploratory-data-analysis-in-r.html#cb727-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(align)) <span class="sc">%&gt;%</span></span>
<span id="cb727-8"><a href="exploratory-data-analysis-in-r.html#cb727-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> align)) <span class="sc">+</span> </span>
<span id="cb727-9"><a href="exploratory-data-analysis-in-r.html#cb727-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-416-1.png" width="672" /></p>
</div>
<div id="conditional-barchart" class="section level3" number="7.1.12">
<h3><span class="header-section-number">7.1.12</span> Conditional barchart</h3>
<p>Now, if you want to break down the distribution of alignment based on gender, you’re looking for conditional distributions.</p>
<p>You could make these by creating multiple filtered datasets (one for each gender) or by faceting the plot of alignment based on gender. As a point of comparison, we’ve provided your plot of the marginal distribution of alignment from the last exercise.</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb728-1"><a href="exploratory-data-analysis-in-r.html#cb728-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot of alignment broken down by gender</span></span>
<span id="cb728-2"><a href="exploratory-data-analysis-in-r.html#cb728-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(comics, <span class="fu">aes</span>(<span class="at">x =</span> align)) <span class="sc">+</span> </span>
<span id="cb728-3"><a href="exploratory-data-analysis-in-r.html#cb728-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb728-4"><a href="exploratory-data-analysis-in-r.html#cb728-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> gender)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-417-1.png" width="672" /></p>
</div>
<div id="improve-piechart" class="section level3" number="7.1.13">
<h3><span class="header-section-number">7.1.13</span> Improve piechart</h3>
<p>The piechart is a very common way to represent the distribution of a single categorical variable, but they can be more difficult to interpret than barcharts.</p>
<p>This is a piechart of a dataset called ‘pies’ that contains the favorite pie flavors of 98 people. Improve the representation of these data by constructing a barchart that is ordered in descending order of count.</p>
<div class="sourceCode" id="cb729"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb729-1"><a href="exploratory-data-analysis-in-r.html#cb729-1" aria-hidden="true" tabindex="-1"></a>pies <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;apple&quot;</span>, <span class="at">times =</span> <span class="dv">17</span>), <span class="fu">rep</span>(<span class="st">&quot;blueberry&quot;</span>, <span class="at">times =</span> <span class="dv">14</span>), <span class="fu">rep</span>(<span class="st">&quot;boston creme&quot;</span>, <span class="at">times =</span><span class="dv">15</span>), <span class="fu">rep</span>(<span class="st">&quot;cherry&quot;</span>, <span class="at">times =</span><span class="dv">13</span>), <span class="fu">rep</span>(<span class="st">&quot;key lime&quot;</span>, <span class="at">times =</span><span class="dv">16</span>), <span class="fu">rep</span>(<span class="st">&quot;pumpkin&quot;</span>, <span class="at">times =</span><span class="dv">12</span>), <span class="fu">rep</span>(<span class="st">&quot;strawberry&quot;</span>, <span class="at">times =</span><span class="dv">11</span>)))</span>
<span id="cb729-2"><a href="exploratory-data-analysis-in-r.html#cb729-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pies) <span class="ot">&lt;-</span> <span class="st">&quot;flavor&quot;</span></span>
<span id="cb729-3"><a href="exploratory-data-analysis-in-r.html#cb729-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb729-4"><a href="exploratory-data-analysis-in-r.html#cb729-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create pie chart of flavor</span></span>
<span id="cb729-5"><a href="exploratory-data-analysis-in-r.html#cb729-5" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="fu">table</span>(pies<span class="sc">$</span>flavor))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-418-1.png" width="672" /></p>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="exploratory-data-analysis-in-r.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pies, <span class="fu">aes</span>(<span class="at">x =</span> flavor)) <span class="sc">+</span> </span>
<span id="cb730-2"><a href="exploratory-data-analysis-in-r.html#cb730-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-418-2.png" width="672" /></p>
<div class="sourceCode" id="cb731"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb731-1"><a href="exploratory-data-analysis-in-r.html#cb731-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Put levels of flavor in descending order</span></span>
<span id="cb731-2"><a href="exploratory-data-analysis-in-r.html#cb731-2" aria-hidden="true" tabindex="-1"></a>lev <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;key lime&quot;</span>, <span class="st">&quot;boston creme&quot;</span>, <span class="st">&quot;blueberry&quot;</span>, <span class="st">&quot;cherry&quot;</span>, <span class="st">&quot;pumpkin&quot;</span>, <span class="st">&quot;strawberry&quot;</span>)</span>
<span id="cb731-3"><a href="exploratory-data-analysis-in-r.html#cb731-3" aria-hidden="true" tabindex="-1"></a>pies<span class="sc">$</span>flavor <span class="ot">&lt;-</span> <span class="fu">factor</span>(pies<span class="sc">$</span>flavor, <span class="at">levels =</span> lev)</span>
<span id="cb731-4"><a href="exploratory-data-analysis-in-r.html#cb731-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb731-5"><a href="exploratory-data-analysis-in-r.html#cb731-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create barchart of flavor</span></span>
<span id="cb731-6"><a href="exploratory-data-analysis-in-r.html#cb731-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pies, <span class="fu">aes</span>(<span class="at">x =</span> flavor)) <span class="sc">+</span> </span>
<span id="cb731-7"><a href="exploratory-data-analysis-in-r.html#cb731-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&quot;chartreuse&quot;</span>) <span class="sc">+</span> </span>
<span id="cb731-8"><a href="exploratory-data-analysis-in-r.html#cb731-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-418-3.png" width="672" /></p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="exploratory-data-analysis-in-r.html#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative solution to finding levels</span></span>
<span id="cb732-2"><a href="exploratory-data-analysis-in-r.html#cb732-2" aria-hidden="true" tabindex="-1"></a><span class="co"># lev &lt;- unlist(select(arrange(cnt, desc(n)), flavor))</span></span></code></pre></div>
</div>
</div>
<div id="cars" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Cars</h2>
<p>In this chapter, you will learn how to graphically summarize numerical data.</p>
<div class="sourceCode" id="cb733"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb733-1"><a href="exploratory-data-analysis-in-r.html#cb733-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb733-2"><a href="exploratory-data-analysis-in-r.html#cb733-2" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;https://assets.datacamp.com/production/course_1796/datasets/cars04.csv&#39;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   name = col_character(),
##   sports_car = col_logical(),
##   suv = col_logical(),
##   wagon = col_logical(),
##   minivan = col_logical(),
##   pickup = col_logical(),
##   all_wheel = col_logical(),
##   rear_wheel = col_logical(),
##   msrp = col_double(),
##   dealer_cost = col_double(),
##   eng_size = col_double(),
##   ncyl = col_double(),
##   horsepwr = col_double(),
##   city_mpg = col_double(),
##   hwy_mpg = col_double(),
##   weight = col_double(),
##   wheel_base = col_double(),
##   length = col_double(),
##   width = col_double()
## )</code></pre>
<div class="sourceCode" id="cb735"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb735-1"><a href="exploratory-data-analysis-in-r.html#cb735-1" aria-hidden="true" tabindex="-1"></a><span class="co">#cars &lt;- cars %&gt;% </span></span>
<span id="cb735-2"><a href="exploratory-data-analysis-in-r.html#cb735-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(msrp = as.integer(msrp))</span></span>
<span id="cb735-3"><a href="exploratory-data-analysis-in-r.html#cb735-3" aria-hidden="true" tabindex="-1"></a>cars[,<span class="fu">c</span>(<span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>,<span class="dv">12</span><span class="sc">:</span><span class="dv">19</span>)] <span class="ot">&lt;-</span> <span class="fu">sapply</span>(cars[,<span class="fu">c</span>(<span class="dv">9</span><span class="sc">:</span><span class="dv">10</span>,<span class="dv">12</span><span class="sc">:</span><span class="dv">19</span>)],as.integer)</span></code></pre></div>
<div id="video-exploring-numerical-data" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Video: Exploring numerical data</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb736-1"><a href="exploratory-data-analysis-in-r.html#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cars)</span></code></pre></div>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 428 obs. of  19 variables:
##  $ name       : chr  &quot;Chevrolet Aveo 4dr&quot; &quot;Chevrolet Aveo LS 4dr hatch&quot; &quot;Chevrolet Cavalier 2dr&quot; &quot;Chevrolet Cavalier 4dr&quot; ...
##  $ sports_car : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ suv        : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ wagon      : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ minivan    : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ pickup     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ all_wheel  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ rear_wheel : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ msrp       : int  11690 12585 14610 14810 16385 13670 15040 13270 13730 15460 ...
##  $ dealer_cost: int  10965 11802 13697 13884 15357 12849 14086 12482 12906 14496 ...
##  $ eng_size   : num  1.6 1.6 2.2 2.2 2.2 2 2 2 2 2 ...
##  $ ncyl       : int  4 4 4 4 4 4 4 4 4 4 ...
##  $ horsepwr   : int  103 103 140 140 140 132 132 130 110 130 ...
##  $ city_mpg   : int  28 28 26 26 26 29 29 26 27 26 ...
##  $ hwy_mpg    : int  34 34 37 37 37 36 36 33 36 33 ...
##  $ weight     : int  2370 2348 2617 2676 2617 2581 2626 2612 2606 2606 ...
##  $ wheel_base : int  98 98 104 104 104 105 105 103 103 103 ...
##  $ length     : int  167 153 183 183 183 174 174 168 168 168 ...
##  $ width      : int  66 66 69 68 69 67 67 67 67 67 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   name = col_character(),
##   ..   sports_car = col_logical(),
##   ..   suv = col_logical(),
##   ..   wagon = col_logical(),
##   ..   minivan = col_logical(),
##   ..   pickup = col_logical(),
##   ..   all_wheel = col_logical(),
##   ..   rear_wheel = col_logical(),
##   ..   msrp = col_double(),
##   ..   dealer_cost = col_double(),
##   ..   eng_size = col_double(),
##   ..   ncyl = col_double(),
##   ..   horsepwr = col_double(),
##   ..   city_mpg = col_double(),
##   ..   hwy_mpg = col_double(),
##   ..   weight = col_double(),
##   ..   wheel_base = col_double(),
##   ..   length = col_double(),
##   ..   width = col_double()
##   .. )</code></pre>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="exploratory-data-analysis-in-r.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The most direct way to represent numerical data is a dotplot</span></span>
<span id="cb738-2"><a href="exploratory-data-analysis-in-r.html#cb738-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> weight)) <span class="sc">+</span></span>
<span id="cb738-3"><a href="exploratory-data-analysis-in-r.html#cb738-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">dotsize =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<pre><code>## `stat_bindot()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_bindot).</code></pre>
<p><img src="bookdownproj_files/figure-html/dotplot-1.png" width="672" /></p>
<div class="sourceCode" id="cb741"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb741-1"><a href="exploratory-data-analysis-in-r.html#cb741-1" aria-hidden="true" tabindex="-1"></a><span class="co"># There is zero data loss in a dotplot - you could recreate the data set perfectly from the display</span></span></code></pre></div>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb742-1"><a href="exploratory-data-analysis-in-r.html#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> weight)) <span class="sc">+</span></span>
<span id="cb742-2"><a href="exploratory-data-analysis-in-r.html#cb742-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/histogram-1.png" width="672" /></p>
<div class="sourceCode" id="cb745"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb745-1"><a href="exploratory-data-analysis-in-r.html#cb745-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Because of binning, it&#39;s no longer possible to recreate the original data set</span></span></code></pre></div>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb746-1"><a href="exploratory-data-analysis-in-r.html#cb746-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A density plot avoids the unnatural step-wise nature of a histogram</span></span>
<span id="cb746-2"><a href="exploratory-data-analysis-in-r.html#cb746-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> weight)) <span class="sc">+</span></span>
<span id="cb746-3"><a href="exploratory-data-analysis-in-r.html#cb746-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_density).</code></pre>
<p><img src="bookdownproj_files/figure-html/density%20plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb748"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb748-1"><a href="exploratory-data-analysis-in-r.html#cb748-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use only when you have a large number of cases</span></span></code></pre></div>
<div class="sourceCode" id="cb749"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb749-1"><a href="exploratory-data-analysis-in-r.html#cb749-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A more abstracted sense of the distribution</span></span>
<span id="cb749-2"><a href="exploratory-data-analysis-in-r.html#cb749-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> weight)) <span class="sc">+</span></span>
<span id="cb749-3"><a href="exploratory-data-analysis-in-r.html#cb749-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb749-4"><a href="exploratory-data-analysis-in-r.html#cb749-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="bookdownproj_files/figure-html/box%20and%20whisker%20plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb751"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb751-1"><a href="exploratory-data-analysis-in-r.html#cb751-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span></span>
<span id="cb751-2"><a href="exploratory-data-analysis-in-r.html#cb751-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb751-3"><a href="exploratory-data-analysis-in-r.html#cb751-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>pickup)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/faceted%20histogram-1.png" width="672" /></p>
</div>
<div id="faceted-histogram" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Faceted histogram</h3>
<p>In this chapter, you’ll be working with the <code>cars</code> dataset, which records characteristics on all of the new models of cars for sale in the US in a certain year. You will investigate the distribution of mileage across a categorial variable, but before you get there, you’ll want to familiarize yourself with the dataset.</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="exploratory-data-analysis-in-r.html#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load package</span></span>
<span id="cb754-2"><a href="exploratory-data-analysis-in-r.html#cb754-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb754-3"><a href="exploratory-data-analysis-in-r.html#cb754-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb754-4"><a href="exploratory-data-analysis-in-r.html#cb754-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Learn data structure</span></span>
<span id="cb754-5"><a href="exploratory-data-analysis-in-r.html#cb754-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cars)</span></code></pre></div>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 428 obs. of  19 variables:
##  $ name       : chr  &quot;Chevrolet Aveo 4dr&quot; &quot;Chevrolet Aveo LS 4dr hatch&quot; &quot;Chevrolet Cavalier 2dr&quot; &quot;Chevrolet Cavalier 4dr&quot; ...
##  $ sports_car : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ suv        : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ wagon      : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ minivan    : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ pickup     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ all_wheel  : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ rear_wheel : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ msrp       : int  11690 12585 14610 14810 16385 13670 15040 13270 13730 15460 ...
##  $ dealer_cost: int  10965 11802 13697 13884 15357 12849 14086 12482 12906 14496 ...
##  $ eng_size   : num  1.6 1.6 2.2 2.2 2.2 2 2 2 2 2 ...
##  $ ncyl       : int  4 4 4 4 4 4 4 4 4 4 ...
##  $ horsepwr   : int  103 103 140 140 140 132 132 130 110 130 ...
##  $ city_mpg   : int  28 28 26 26 26 29 29 26 27 26 ...
##  $ hwy_mpg    : int  34 34 37 37 37 36 36 33 36 33 ...
##  $ weight     : int  2370 2348 2617 2676 2617 2581 2626 2612 2606 2606 ...
##  $ wheel_base : int  98 98 104 104 104 105 105 103 103 103 ...
##  $ length     : int  167 153 183 183 183 174 174 168 168 168 ...
##  $ width      : int  66 66 69 68 69 67 67 67 67 67 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   name = col_character(),
##   ..   sports_car = col_logical(),
##   ..   suv = col_logical(),
##   ..   wagon = col_logical(),
##   ..   minivan = col_logical(),
##   ..   pickup = col_logical(),
##   ..   all_wheel = col_logical(),
##   ..   rear_wheel = col_logical(),
##   ..   msrp = col_double(),
##   ..   dealer_cost = col_double(),
##   ..   eng_size = col_double(),
##   ..   ncyl = col_double(),
##   ..   horsepwr = col_double(),
##   ..   city_mpg = col_double(),
##   ..   hwy_mpg = col_double(),
##   ..   weight = col_double(),
##   ..   wheel_base = col_double(),
##   ..   length = col_double(),
##   ..   width = col_double()
##   .. )</code></pre>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="exploratory-data-analysis-in-r.html#cb756-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create faceted histogram</span></span>
<span id="cb756-2"><a href="exploratory-data-analysis-in-r.html#cb756-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> city_mpg)) <span class="sc">+</span></span>
<span id="cb756-3"><a href="exploratory-data-analysis-in-r.html#cb756-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb756-4"><a href="exploratory-data-analysis-in-r.html#cb756-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> suv)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-421-1.png" width="672" /></p>
<p>In this exercise, you faceted by the <code>suv</code> variable, but it’s important to note that you can facet a plot by any categorical variable using <code>facet_wrap()</code>.</p>
</div>
<div id="boxplots-and-density-plots" class="section level3" number="7.2.3">
<h3><span class="header-section-number">7.2.3</span> Boxplots and density plots</h3>
<p>The mileage of a car tends to be associated with the size of its engine (as measured by the number of cylinders). To explore the relationship between these two variables, you could stick to using histograms, but in this exercise you’ll try your hand at two alternatives: the box plot and the density plot.</p>
<div class="sourceCode" id="cb759"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb759-1"><a href="exploratory-data-analysis-in-r.html#cb759-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create box plots of city mpg by ncyl</span></span>
<span id="cb759-2"><a href="exploratory-data-analysis-in-r.html#cb759-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(ncyl), <span class="at">y =</span> city_mpg)) <span class="sc">+</span></span>
<span id="cb759-3"><a href="exploratory-data-analysis-in-r.html#cb759-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-422-1.png" width="672" /></p>
<div class="sourceCode" id="cb761"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb761-1"><a href="exploratory-data-analysis-in-r.html#cb761-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check how many possible levels of ncyl there are</span></span>
<span id="cb761-2"><a href="exploratory-data-analysis-in-r.html#cb761-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars<span class="sc">$</span>ncyl)</span></code></pre></div>
<pre><code>## [1]  4  6  3  8  5 12 10 -1</code></pre>
<div class="sourceCode" id="cb763"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb763-1"><a href="exploratory-data-analysis-in-r.html#cb763-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Which levels are the most common?</span></span>
<span id="cb763-2"><a href="exploratory-data-analysis-in-r.html#cb763-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cars<span class="sc">$</span>ncyl)</span></code></pre></div>
<pre><code>## 
##  -1   3   4   5   6   8  10  12 
##   2   1 136   7 190  87   2   3</code></pre>
<div class="sourceCode" id="cb765"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb765-1"><a href="exploratory-data-analysis-in-r.html#cb765-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter cars with 4, 6, 8 cylinders</span></span>
<span id="cb765-2"><a href="exploratory-data-analysis-in-r.html#cb765-2" aria-hidden="true" tabindex="-1"></a>common_cyl <span class="ot">&lt;-</span> <span class="fu">filter</span>(cars, ncyl <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>))</span>
<span id="cb765-3"><a href="exploratory-data-analysis-in-r.html#cb765-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb765-4"><a href="exploratory-data-analysis-in-r.html#cb765-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create box plots of city mpg by ncyl</span></span>
<span id="cb765-5"><a href="exploratory-data-analysis-in-r.html#cb765-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(common_cyl, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(ncyl), <span class="at">y =</span> city_mpg)) <span class="sc">+</span></span>
<span id="cb765-6"><a href="exploratory-data-analysis-in-r.html#cb765-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 11 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-422-2.png" width="672" /></p>
<div class="sourceCode" id="cb767"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb767-1"><a href="exploratory-data-analysis-in-r.html#cb767-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create overlaid density plots for same data</span></span>
<span id="cb767-2"><a href="exploratory-data-analysis-in-r.html#cb767-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(common_cyl, <span class="fu">aes</span>(<span class="at">x =</span> city_mpg, <span class="at">fill =</span> <span class="fu">as.factor</span>(ncyl))) <span class="sc">+</span></span>
<span id="cb767-3"><a href="exploratory-data-analysis-in-r.html#cb767-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> .<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 11 rows containing non-finite values (stat_density).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-422-3.png" width="672" /></p>
</div>
<div id="compare-distribution-via-plots" class="section level3" number="7.2.4">
<h3><span class="header-section-number">7.2.4</span> Compare distribution via plots</h3>
<p>Which of the following interpretations of the plot is not valid?</p>
<p>It’s “The variability in mileage of 8 cylinder cars is similar to the variability in mileage of 4 cylinder cars.” The variability in mileage of 8 cylinder cars seem much smaller than that of 4 cylinder cars.</p>
</div>
<div id="video-distribution-of-one-variable-1" class="section level3" number="7.2.5">
<h3><span class="header-section-number">7.2.5</span> Video: Distribution of one variable</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<p>…Specifically a numerical variable.</p>
<div class="sourceCode" id="cb769"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb769-1"><a href="exploratory-data-analysis-in-r.html#cb769-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span></span>
<span id="cb769-2"><a href="exploratory-data-analysis-in-r.html#cb769-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-423-1.png" width="672" /></p>
<div class="sourceCode" id="cb772"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb772-1"><a href="exploratory-data-analysis-in-r.html#cb772-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding a facet_wrap layer (faceting on a categorical value)</span></span>
<span id="cb772-2"><a href="exploratory-data-analysis-in-r.html#cb772-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span></span>
<span id="cb772-3"><a href="exploratory-data-analysis-in-r.html#cb772-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb772-4"><a href="exploratory-data-analysis-in-r.html#cb772-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>pickup)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-423-2.png" width="672" /></p>
<div class="sourceCode" id="cb775"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb775-1"><a href="exploratory-data-analysis-in-r.html#cb775-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding a filter (filtering on a numerical variable)</span></span>
<span id="cb775-2"><a href="exploratory-data-analysis-in-r.html#cb775-2" aria-hidden="true" tabindex="-1"></a>cars2 <span class="ot">&lt;-</span> cars <span class="sc">%&gt;%</span> </span>
<span id="cb775-3"><a href="exploratory-data-analysis-in-r.html#cb775-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(eng_size <span class="sc">&lt;</span> <span class="fl">2.0</span>)</span>
<span id="cb775-4"><a href="exploratory-data-analysis-in-r.html#cb775-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb775-5"><a href="exploratory-data-analysis-in-r.html#cb775-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars2, <span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span></span>
<span id="cb775-6"><a href="exploratory-data-analysis-in-r.html#cb775-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-423-3.png" width="672" /></p>
<div class="sourceCode" id="cb777"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb777-1"><a href="exploratory-data-analysis-in-r.html#cb777-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively</span></span>
<span id="cb777-2"><a href="exploratory-data-analysis-in-r.html#cb777-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span> </span>
<span id="cb777-3"><a href="exploratory-data-analysis-in-r.html#cb777-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(eng_size <span class="sc">&lt;</span> <span class="fl">2.0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb777-4"><a href="exploratory-data-analysis-in-r.html#cb777-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span> <span class="co"># Note that you don&#39;t need to specify the data frame, as we&#39;re piping in cars</span></span>
<span id="cb777-5"><a href="exploratory-data-analysis-in-r.html#cb777-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-423-4.png" width="672" /></p>
<div class="sourceCode" id="cb779"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb779-1"><a href="exploratory-data-analysis-in-r.html#cb779-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively</span></span>
<span id="cb779-2"><a href="exploratory-data-analysis-in-r.html#cb779-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span> </span>
<span id="cb779-3"><a href="exploratory-data-analysis-in-r.html#cb779-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(eng_size <span class="sc">&lt;</span> <span class="fl">2.0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb779-4"><a href="exploratory-data-analysis-in-r.html#cb779-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span> <span class="co"># Note that you don&#39;t need to specify the data frame, as we&#39;re piping in cars</span></span>
<span id="cb779-5"><a href="exploratory-data-analysis-in-r.html#cb779-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-423-5.png" width="672" /></p>
</div>
<div id="marginal-and-conditional-histograms" class="section level3" number="7.2.6">
<h3><span class="header-section-number">7.2.6</span> Marginal and conditional histograms</h3>
<p>Now, turn your attention to a new variable: <code>horsepwr.</code> The goal is to get a sense of the marginal distribution of this variable and then compare it to the distribution of horsepower conditional on the price of the car being less than $25,000.</p>
<p>You’ll be making two plots using the “data pipeline” paradigm, where you start with the raw data and end with the plot.</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="exploratory-data-analysis-in-r.html#cb780-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create hist of horsepwr</span></span>
<span id="cb780-2"><a href="exploratory-data-analysis-in-r.html#cb780-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb780-3"><a href="exploratory-data-analysis-in-r.html#cb780-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> horsepwr)) <span class="sc">+</span></span>
<span id="cb780-4"><a href="exploratory-data-analysis-in-r.html#cb780-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb780-5"><a href="exploratory-data-analysis-in-r.html#cb780-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">550</span>)) <span class="sc">+</span></span>
<span id="cb780-6"><a href="exploratory-data-analysis-in-r.html#cb780-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb780-7"><a href="exploratory-data-analysis-in-r.html#cb780-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Distribution of horsepower for all cars&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 1 rows containing non-finite values (stat_bin).</code></pre>
<pre><code>## Warning: Removed 3 rows containing missing values (geom_bar).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-424-1.png" width="672" /></p>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="exploratory-data-analysis-in-r.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create hist of horsepwr for affordable cars</span></span>
<span id="cb784-2"><a href="exploratory-data-analysis-in-r.html#cb784-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span> </span>
<span id="cb784-3"><a href="exploratory-data-analysis-in-r.html#cb784-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(msrp <span class="sc">&lt;</span> <span class="dv">25000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb784-4"><a href="exploratory-data-analysis-in-r.html#cb784-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> horsepwr)) <span class="sc">+</span></span>
<span id="cb784-5"><a href="exploratory-data-analysis-in-r.html#cb784-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb784-6"><a href="exploratory-data-analysis-in-r.html#cb784-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">550</span>)) <span class="sc">+</span></span>
<span id="cb784-7"><a href="exploratory-data-analysis-in-r.html#cb784-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">50</span>)) <span class="sc">+</span></span>
<span id="cb784-8"><a href="exploratory-data-analysis-in-r.html#cb784-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Distribution of horsepower for affordable cars&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 1 rows containing non-finite values (stat_bin).</code></pre>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_bar).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-424-2.png" width="672" /></p>
</div>
<div id="question-marginal-and-conditional-histograms-interpretation" class="section level3" number="7.2.7">
<h3><span class="header-section-number">7.2.7</span> Question: Marginal and conditional histograms interpretation</h3>
<p>Observe the two histograms in the plotting window and decide which of the following is a valid interpretation.</p>
<p>It’s “The highest horsepower car in the less expensive range has just under 250 horsepower.”</p>
</div>
<div id="three-binwidths" class="section level3" number="7.2.8">
<h3><span class="header-section-number">7.2.8</span> Three binwidths</h3>
<p>Before you take these plots for granted, it’s a good idea to see how things change when you alter the binwidth. The binwidth determines how smooth your distribution will appear: the smaller the binwidth, the more jagged your distribution becomes. It’s good practice to consider several binwidths in order to detect different types of structure in your data.</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="exploratory-data-analysis-in-r.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create hist of horsepwr with binwidth of 3</span></span>
<span id="cb788-2"><a href="exploratory-data-analysis-in-r.html#cb788-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb788-3"><a href="exploratory-data-analysis-in-r.html#cb788-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> horsepwr)) <span class="sc">+</span></span>
<span id="cb788-4"><a href="exploratory-data-analysis-in-r.html#cb788-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb788-5"><a href="exploratory-data-analysis-in-r.html#cb788-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;binwidth = 3&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/histograms%20with%20different%20bin%20widths-1.png" width="672" /></p>
<div class="sourceCode" id="cb789"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb789-1"><a href="exploratory-data-analysis-in-r.html#cb789-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create hist of horsepwr with binwidth of 30</span></span>
<span id="cb789-2"><a href="exploratory-data-analysis-in-r.html#cb789-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb789-3"><a href="exploratory-data-analysis-in-r.html#cb789-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> horsepwr)) <span class="sc">+</span></span>
<span id="cb789-4"><a href="exploratory-data-analysis-in-r.html#cb789-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb789-5"><a href="exploratory-data-analysis-in-r.html#cb789-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;binwidth = 30&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/histograms%20with%20different%20bin%20widths-2.png" width="672" /></p>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="exploratory-data-analysis-in-r.html#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create hist of horsepwr with binwidth of 60</span></span>
<span id="cb790-2"><a href="exploratory-data-analysis-in-r.html#cb790-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb790-3"><a href="exploratory-data-analysis-in-r.html#cb790-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> horsepwr)) <span class="sc">+</span></span>
<span id="cb790-4"><a href="exploratory-data-analysis-in-r.html#cb790-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">60</span>) <span class="sc">+</span></span>
<span id="cb790-5"><a href="exploratory-data-analysis-in-r.html#cb790-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;binwidth = 60&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/histograms%20with%20different%20bin%20widths-3.png" width="672" /></p>
<p>Be sure to toggle back and forth in the plots pane to compare the histograms.</p>
</div>
<div id="question-three-binwidths-interpretation" class="section level3" number="7.2.9">
<h3><span class="header-section-number">7.2.9</span> Question: Three binwidths interpretation</h3>
<p>What feature is present in Plot A that’s not found in B or C?</p>
<p>It’s “There is a tendency for cars to have horsepower right at 200 or 300 horsepower.” Plot A is the only histogram that shows the count for cars with exactly 200 and 300 horsepower.</p>
</div>
<div id="video-box-plots" class="section level3" number="7.2.10">
<h3><span class="header-section-number">7.2.10</span> Video: Box plots</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="box-plots-for-outliers" class="section level3" number="7.2.11">
<h3><span class="header-section-number">7.2.11</span> Box plots for outliers</h3>
<p>In addition to indicating the center and spread of a distribution, a box plot provides a graphical means to detect outliers. You can apply this method to the <code>msrp</code> column (manufacturer’s suggested retail price) to detect if there are unusually expensive or cheap cars.</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb791-1"><a href="exploratory-data-analysis-in-r.html#cb791-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct box plot of msrp</span></span>
<span id="cb791-2"><a href="exploratory-data-analysis-in-r.html#cb791-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb791-3"><a href="exploratory-data-analysis-in-r.html#cb791-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> msrp)) <span class="sc">+</span></span>
<span id="cb791-4"><a href="exploratory-data-analysis-in-r.html#cb791-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-425-1.png" width="672" /></p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="exploratory-data-analysis-in-r.html#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude outliers from data</span></span>
<span id="cb792-2"><a href="exploratory-data-analysis-in-r.html#cb792-2" aria-hidden="true" tabindex="-1"></a>cars_no_out <span class="ot">&lt;-</span> cars <span class="sc">%&gt;%</span></span>
<span id="cb792-3"><a href="exploratory-data-analysis-in-r.html#cb792-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(msrp <span class="sc">&lt;</span> <span class="dv">100000</span>)</span>
<span id="cb792-4"><a href="exploratory-data-analysis-in-r.html#cb792-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-5"><a href="exploratory-data-analysis-in-r.html#cb792-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct box plot of msrp using the reduced dataset</span></span>
<span id="cb792-6"><a href="exploratory-data-analysis-in-r.html#cb792-6" aria-hidden="true" tabindex="-1"></a>cars_no_out <span class="sc">%&gt;%</span></span>
<span id="cb792-7"><a href="exploratory-data-analysis-in-r.html#cb792-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> msrp)) <span class="sc">+</span></span>
<span id="cb792-8"><a href="exploratory-data-analysis-in-r.html#cb792-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-425-2.png" width="672" /></p>
<p>Be sure to toggle back and forth in the plots pane to compare the box plots.</p>
</div>
<div id="plot-selection" class="section level3" number="7.2.12">
<h3><span class="header-section-number">7.2.12</span> Plot selection</h3>
<p>Consider two other columns in the <code>cars</code> dataset: <code>city_mpg</code> and <code>width.</code> Which is the most appropriate plot for displaying the important features of their distributions? Remember, both density plots and box plots display the central tendency and spread of the data, but the box plot is more robust to outliers.</p>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="exploratory-data-analysis-in-r.html#cb793-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot of city_mpg</span></span>
<span id="cb793-2"><a href="exploratory-data-analysis-in-r.html#cb793-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb793-3"><a href="exploratory-data-analysis-in-r.html#cb793-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> city_mpg)) <span class="sc">+</span></span>
<span id="cb793-4"><a href="exploratory-data-analysis-in-r.html#cb793-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_density).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-426-1.png" width="672" /></p>
<div class="sourceCode" id="cb795"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb795-1"><a href="exploratory-data-analysis-in-r.html#cb795-1" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb795-2"><a href="exploratory-data-analysis-in-r.html#cb795-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> city_mpg)) <span class="sc">+</span></span>
<span id="cb795-3"><a href="exploratory-data-analysis-in-r.html#cb795-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 14 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-426-2.png" width="672" /></p>
<div class="sourceCode" id="cb797"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb797-1"><a href="exploratory-data-analysis-in-r.html#cb797-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot of width</span></span>
<span id="cb797-2"><a href="exploratory-data-analysis-in-r.html#cb797-2" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb797-3"><a href="exploratory-data-analysis-in-r.html#cb797-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> width)) <span class="sc">+</span></span>
<span id="cb797-4"><a href="exploratory-data-analysis-in-r.html#cb797-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 28 rows containing non-finite values (stat_density).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-426-3.png" width="672" /></p>
<div class="sourceCode" id="cb799"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb799-1"><a href="exploratory-data-analysis-in-r.html#cb799-1" aria-hidden="true" tabindex="-1"></a>cars <span class="sc">%&gt;%</span></span>
<span id="cb799-2"><a href="exploratory-data-analysis-in-r.html#cb799-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> width)) <span class="sc">+</span></span>
<span id="cb799-3"><a href="exploratory-data-analysis-in-r.html#cb799-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 28 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-426-4.png" width="672" /></p>
<p>Because the <code>city_mpg</code> variable has a much wider range with its outliers, it’s best to display its distribution as a box plot.</p>
</div>
<div id="video-visualization-in-higher-dimensions" class="section level3" number="7.2.13">
<h3><span class="header-section-number">7.2.13</span> Video: Visualization in higher dimensions</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb801"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb801-1"><a href="exploratory-data-analysis-in-r.html#cb801-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> msrp)) <span class="sc">+</span></span>
<span id="cb801-2"><a href="exploratory-data-analysis-in-r.html#cb801-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb801-3"><a href="exploratory-data-analysis-in-r.html#cb801-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(pickup <span class="sc">~</span> rear_wheel)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-427-1.png" width="672" /></p>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="exploratory-data-analysis-in-r.html#cb802-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels to aid understanding</span></span>
<span id="cb802-2"><a href="exploratory-data-analysis-in-r.html#cb802-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cars, <span class="fu">aes</span>(<span class="at">x =</span> msrp)) <span class="sc">+</span></span>
<span id="cb802-3"><a href="exploratory-data-analysis-in-r.html#cb802-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb802-4"><a href="exploratory-data-analysis-in-r.html#cb802-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(pickup <span class="sc">~</span> rear_wheel, <span class="at">labeller =</span> label_both)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-427-2.png" width="672" /></p>
<div class="sourceCode" id="cb803"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb803-1"><a href="exploratory-data-analysis-in-r.html#cb803-1" aria-hidden="true" tabindex="-1"></a><span class="co"># There&#39;s very few rear wheel pickups and front wheel pickups</span></span>
<span id="cb803-2"><a href="exploratory-data-analysis-in-r.html#cb803-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(cars<span class="sc">$</span>rear_wheel, cars<span class="sc">$</span>pickup) <span class="co"># table(rows, columns)</span></span></code></pre></div>
<pre><code>##        
##         FALSE TRUE
##   FALSE   306   12
##   TRUE     98   12</code></pre>
</div>
<div id="variable-plot" class="section level3" number="7.2.14">
<h3><span class="header-section-number">7.2.14</span> 3 variable plot</h3>
<p>Faceting is a valuable technique for looking at several conditional distributions at the same time. If the faceted distributions are laid out in a grid, you can consider the association between a variable and two others, one on the rows of the grid and the other on the columns.</p>
<div class="sourceCode" id="cb805"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb805-1"><a href="exploratory-data-analysis-in-r.html#cb805-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Facet hists using hwy mileage and ncyl</span></span>
<span id="cb805-2"><a href="exploratory-data-analysis-in-r.html#cb805-2" aria-hidden="true" tabindex="-1"></a>common_cyl <span class="sc">%&gt;%</span></span>
<span id="cb805-3"><a href="exploratory-data-analysis-in-r.html#cb805-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hwy_mpg)) <span class="sc">+</span></span>
<span id="cb805-4"><a href="exploratory-data-analysis-in-r.html#cb805-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb805-5"><a href="exploratory-data-analysis-in-r.html#cb805-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(ncyl <span class="sc">~</span> suv, <span class="at">labeller =</span> label_both) <span class="sc">+</span></span>
<span id="cb805-6"><a href="exploratory-data-analysis-in-r.html#cb805-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Mileage by suv and ncyl&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 11 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-428-1.png" width="672" /></p>
</div>
<div id="question-interpret-3-var-plot" class="section level3" number="7.2.15">
<h3><span class="header-section-number">7.2.15</span> Question: Interpret 3 var plot</h3>
<p>Which of the following interpretations of the plot is valid?</p>
<p>It’s “Across both SUVs and non-SUVs, mileage tends to decrease as the number of cylinders increases.”</p>
</div>
</div>
<div id="gapminder" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Gapminder</h2>
<p>Now that we’ve looked at exploring categorical and numerical data, you’ll learn some useful statistics for describing distributions of data.</p>
<div id="video-measures-of-center" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Video: Measures of center</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="question-choice-of-center-measure" class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Question: Choice of center measure</h3>
<p>The choice of measure for center can have a dramatic impact on what we consider to be a typical observation, so it is important that you consider the shape of the distribution before deciding on the measure.</p>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Gapminder/choiceofcentermeasure.png" style="width:80.0%" alt="" />
<p class="caption">Which set of measures of central tendency would be worst for describing the two distributions shown here? <em>Source: DataCamp</em></p>
</div>
</center>
<p>It’s “A: mean, B: mode”.</p>
</div>
<div id="calculate-center-measures" class="section level3" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Calculate center measures</h3>
<p>Throughout this chapter, you will use data from <code>gapminder</code>, which tracks demographic data in countries of the world over time. To learn more about it, you can bring up the help file with <code>?gapminder</code>.</p>
<p>For this exercise, focus on how the life expectancy differs from continent to continent. This requires that you conduct your analysis not at the country level, but aggregated up to the continent level. This is made possible by the one-two punch of <code>group_by()</code> and <code>summarize()</code>, a very powerful syntax for carrying out the same analysis on different subsets of the full dataset.</p>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="exploratory-data-analysis-in-r.html#cb808-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset of 2007 data</span></span>
<span id="cb808-2"><a href="exploratory-data-analysis-in-r.html#cb808-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, year <span class="sc">==</span> <span class="dv">2007</span>)</span>
<span id="cb808-3"><a href="exploratory-data-analysis-in-r.html#cb808-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb808-4"><a href="exploratory-data-analysis-in-r.html#cb808-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute groupwise mean and median lifeExp</span></span>
<span id="cb808-5"><a href="exploratory-data-analysis-in-r.html#cb808-5" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb808-6"><a href="exploratory-data-analysis-in-r.html#cb808-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb808-7"><a href="exploratory-data-analysis-in-r.html#cb808-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(lifeExp),</span>
<span id="cb808-8"><a href="exploratory-data-analysis-in-r.html#cb808-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">median</span>(lifeExp))</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   continent `mean(lifeExp)` `median(lifeExp)`
##   &lt;fct&gt;               &lt;dbl&gt;             &lt;dbl&gt;
## 1 Africa               54.8              52.9
## 2 Americas             73.6              72.9
## 3 Asia                 70.7              72.4
## 4 Europe               77.6              78.6
## 5 Oceania              80.7              80.7</code></pre>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="exploratory-data-analysis-in-r.html#cb810-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate box plots of lifeExp for each continent</span></span>
<span id="cb810-2"><a href="exploratory-data-analysis-in-r.html#cb810-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb810-3"><a href="exploratory-data-analysis-in-r.html#cb810-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb810-4"><a href="exploratory-data-analysis-in-r.html#cb810-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-430-1.png" width="672" /></p>
</div>
<div id="video-measures-of-variability" class="section level3" number="7.3.4">
<h3><span class="header-section-number">7.3.4</span> Video: Measures of variability</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb811"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb811-1"><a href="exploratory-data-analysis-in-r.html#cb811-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">head</span>(<span class="fu">round</span>(gap2007<span class="sc">$</span>lifeExp), <span class="dv">11</span>)</span>
<span id="cb811-2"><a href="exploratory-data-analysis-in-r.html#cb811-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb811-3"><a href="exploratory-data-analysis-in-r.html#cb811-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> <span class="fu">mean</span>(x)</span></code></pre></div>
<pre><code>##  [1] -23.91   8.09   4.09 -24.91   7.09  13.09  12.09   8.09  -3.91
## [10]  11.09 -10.91</code></pre>
<div class="sourceCode" id="cb813"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb813-1"><a href="exploratory-data-analysis-in-r.html#cb813-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x <span class="sc">-</span> <span class="fu">mean</span>(x)) <span class="co"># which is close to 0</span></span></code></pre></div>
<pre><code>## [1] 0.0000000000000284</code></pre>
<div class="sourceCode" id="cb815"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb815-1"><a href="exploratory-data-analysis-in-r.html#cb815-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>) <span class="co"># which will keep getting bigger the more data you add</span></span></code></pre></div>
<pre><code>## [1] 1965</code></pre>
<div class="sourceCode" id="cb817"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb817-1"><a href="exploratory-data-analysis-in-r.html#cb817-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">11</span></span>
<span id="cb817-2"><a href="exploratory-data-analysis-in-r.html#cb817-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span>n</span></code></pre></div>
<pre><code>## [1] 179</code></pre>
<div class="sourceCode" id="cb819"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb819-1"><a href="exploratory-data-analysis-in-r.html#cb819-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span>(n<span class="dv">-1</span>) <span class="co"># The sample variance</span></span></code></pre></div>
<pre><code>## [1] 196</code></pre>
<div class="sourceCode" id="cb821"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb821-1"><a href="exploratory-data-analysis-in-r.html#cb821-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x) <span class="co"># R&#39;s built-in function</span></span></code></pre></div>
<pre><code>## [1] 196</code></pre>
<div class="sourceCode" id="cb823"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb823-1"><a href="exploratory-data-analysis-in-r.html#cb823-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span>(n<span class="dv">-1</span>))</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb825"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb825-1"><a href="exploratory-data-analysis-in-r.html#cb825-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x)</span></code></pre></div>
<pre><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb827"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb827-1"><a href="exploratory-data-analysis-in-r.html#cb827-1" aria-hidden="true" tabindex="-1"></a><span class="co"># which is more commonly used than the...</span></span>
<span id="cb827-2"><a href="exploratory-data-analysis-in-r.html#cb827-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(x)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    43.0    60.5    75.0    67.9    77.5    81.0</code></pre>
<div class="sourceCode" id="cb829"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb829-1"><a href="exploratory-data-analysis-in-r.html#cb829-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(x)</span></code></pre></div>
<pre><code>## [1] 17</code></pre>
<div class="sourceCode" id="cb831"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb831-1"><a href="exploratory-data-analysis-in-r.html#cb831-1" aria-hidden="true" tabindex="-1"></a><span class="co"># However SD is affected by extreme values, unlike IQR, which is better to use with large skew and extreme outliers</span></span></code></pre></div>
<p>Choice of spread measure
The choice of measure for spread can dramatically impact how variable we consider our data to be, so it is important that you consider the shape of the distribution before deciding on the measure.</p>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Gapminder/choiceofcentermeasure.png" style="width:80.0%" alt="" />
<p class="caption">Which set of measures of spread would be worst for describing the two distributions shown here? <em>Source: DataCamp</em></p>
</div>
</center>
<p>It’s “A: Variance, B: Range”. Notice the high peak of A and the considerable width of it. What does that tell you about its variance?</p>
</div>
<div id="calculate-spread-measures" class="section level3" number="7.3.5">
<h3><span class="header-section-number">7.3.5</span> Calculate spread measures</h3>
<p>Let’s extend the powerful <code>group_by()</code> and <code>summarize()</code> syntax to measures of spread. If you’re unsure whether you’re working with symmetric or skewed distributions, it’s a good idea to consider a robust measure like IQR in addition to the usual measures of variance or standard deviation.</p>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="exploratory-data-analysis-in-r.html#cb832-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute groupwise measures of spread</span></span>
<span id="cb832-2"><a href="exploratory-data-analysis-in-r.html#cb832-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb832-3"><a href="exploratory-data-analysis-in-r.html#cb832-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb832-4"><a href="exploratory-data-analysis-in-r.html#cb832-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">sd</span>(lifeExp),</span>
<span id="cb832-5"><a href="exploratory-data-analysis-in-r.html#cb832-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">IQR</span>(lifeExp),</span>
<span id="cb832-6"><a href="exploratory-data-analysis-in-r.html#cb832-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   continent `sd(lifeExp)` `IQR(lifeExp)` `n()`
##   &lt;fct&gt;             &lt;dbl&gt;          &lt;dbl&gt; &lt;int&gt;
## 1 Africa            9.63          11.6      52
## 2 Americas          4.44           4.63     25
## 3 Asia              7.96          10.2      33
## 4 Europe            2.98           4.78     30
## 5 Oceania           0.729          0.516     2</code></pre>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="exploratory-data-analysis-in-r.html#cb834-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate overlaid density plots</span></span>
<span id="cb834-2"><a href="exploratory-data-analysis-in-r.html#cb834-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb834-3"><a href="exploratory-data-analysis-in-r.html#cb834-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb834-4"><a href="exploratory-data-analysis-in-r.html#cb834-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-432-1.png" width="672" /></p>
</div>
<div id="choose-measures-for-center-and-spread" class="section level3" number="7.3.6">
<h3><span class="header-section-number">7.3.6</span> Choose measures for center and spread</h3>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Gapminder/choosemeasuresforcenterandspread.png" style="width:80.0%" alt="" />
<p class="caption">Consider the density plots shown here. What are the most appropriate measures to describe their centers and spreads? In this exercise, you’ll select the measures and then calculate them. <em>Source: DataCamp</em></p>
</div>
</center>
<div class="sourceCode" id="cb835"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb835-1"><a href="exploratory-data-analysis-in-r.html#cb835-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute stats for lifeExp in Americas</span></span>
<span id="cb835-2"><a href="exploratory-data-analysis-in-r.html#cb835-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb835-3"><a href="exploratory-data-analysis-in-r.html#cb835-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">==</span> <span class="st">&quot;Americas&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb835-4"><a href="exploratory-data-analysis-in-r.html#cb835-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(lifeExp),</span>
<span id="cb835-5"><a href="exploratory-data-analysis-in-r.html#cb835-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">sd</span>(lifeExp))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   `mean(lifeExp)` `sd(lifeExp)`
##             &lt;dbl&gt;         &lt;dbl&gt;
## 1            73.6          4.44</code></pre>
<div class="sourceCode" id="cb837"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb837-1"><a href="exploratory-data-analysis-in-r.html#cb837-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute stats for population</span></span>
<span id="cb837-2"><a href="exploratory-data-analysis-in-r.html#cb837-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb837-3"><a href="exploratory-data-analysis-in-r.html#cb837-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">median</span>(pop),</span>
<span id="cb837-4"><a href="exploratory-data-analysis-in-r.html#cb837-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">IQR</span>(pop))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   `median(pop)` `IQR(pop)`
##           &lt;dbl&gt;      &lt;dbl&gt;
## 1      10517531  26702008.</code></pre>
<p>Like mean and standard deviation, median and IQR measure the central tendency and spread, respectively, but are robust to outliers and non-normal data.</p>
</div>
<div id="video-shape-and-transformations" class="section level3" number="7.3.7">
<h3><span class="header-section-number">7.3.7</span> Video: Shape and transformations</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="describe-the-shape" class="section level3" number="7.3.8">
<h3><span class="header-section-number">7.3.8</span> Describe the shape</h3>
<p>To build some familiarity with distributions of different shapes, consider the four that are plotted here.</p>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Gapminder/describetheshape.png" style="width:80.0%" alt="" />
<p class="caption">Which of the following options does the best job of describing their shape in terms of modality and skew/symmetry? <em>Source: DataCamp</em></p>
</div>
</center>
<p>It’s “A: unimodal left-skewed; B: unimodal symmetric; C: unimodal right-skewed, D: bimodal symmetric.”</p>
</div>
<div id="transformations" class="section level3" number="7.3.9">
<h3><span class="header-section-number">7.3.9</span> Transformations</h3>
<p>Highly skewed distributions can make it very difficult to learn anything from a visualization. Transformations can be helpful in revealing the more subtle structure.</p>
<p>Here you’ll focus on the population variable, which exhibits strong right skew, and transform it with the natural logarithm function (<code>log()</code> in R).</p>
<div class="sourceCode" id="cb839"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb839-1"><a href="exploratory-data-analysis-in-r.html#cb839-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot of old variable</span></span>
<span id="cb839-2"><a href="exploratory-data-analysis-in-r.html#cb839-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb839-3"><a href="exploratory-data-analysis-in-r.html#cb839-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> pop)) <span class="sc">+</span></span>
<span id="cb839-4"><a href="exploratory-data-analysis-in-r.html#cb839-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-434-1.png" width="672" /></p>
<div class="sourceCode" id="cb840"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb840-1"><a href="exploratory-data-analysis-in-r.html#cb840-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the skewed pop variable</span></span>
<span id="cb840-2"><a href="exploratory-data-analysis-in-r.html#cb840-2" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="ot">&lt;-</span> gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb840-3"><a href="exploratory-data-analysis-in-r.html#cb840-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_pop =</span> <span class="fu">log</span>(pop))</span>
<span id="cb840-4"><a href="exploratory-data-analysis-in-r.html#cb840-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb840-5"><a href="exploratory-data-analysis-in-r.html#cb840-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create density plot of new variable</span></span>
<span id="cb840-6"><a href="exploratory-data-analysis-in-r.html#cb840-6" aria-hidden="true" tabindex="-1"></a>gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb840-7"><a href="exploratory-data-analysis-in-r.html#cb840-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(pop))) <span class="sc">+</span></span>
<span id="cb840-8"><a href="exploratory-data-analysis-in-r.html#cb840-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-434-2.png" width="672" /></p>
</div>
<div id="video-outliers" class="section level3" number="7.3.10">
<h3><span class="header-section-number">7.3.10</span> Video: Outliers</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="identify-outliers" class="section level3" number="7.3.11">
<h3><span class="header-section-number">7.3.11</span> Identify outliers</h3>
<p>Consider the distribution, shown here, of the life expectancies of the countries in Asia. The box plot identifies one clear outlier: a country with a notably low life expectancy. Do you have a guess as to which country this might be? Test your guess in the console using either <code>min()</code> or <code>filter()</code>, then proceed to building a plot with that country removed.</p>
<div class="sourceCode" id="cb841"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb841-1"><a href="exploratory-data-analysis-in-r.html#cb841-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for Asia, add column indicating outliers</span></span>
<span id="cb841-2"><a href="exploratory-data-analysis-in-r.html#cb841-2" aria-hidden="true" tabindex="-1"></a>gap_asia <span class="ot">&lt;-</span> gap2007 <span class="sc">%&gt;%</span></span>
<span id="cb841-3"><a href="exploratory-data-analysis-in-r.html#cb841-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">==</span> <span class="st">&quot;Asia&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb841-4"><a href="exploratory-data-analysis-in-r.html#cb841-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">is_outlier =</span> lifeExp <span class="sc">&lt;</span> <span class="dv">50</span>)</span>
<span id="cb841-5"><a href="exploratory-data-analysis-in-r.html#cb841-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb841-6"><a href="exploratory-data-analysis-in-r.html#cb841-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove outliers, create box plot of lifeExp</span></span>
<span id="cb841-7"><a href="exploratory-data-analysis-in-r.html#cb841-7" aria-hidden="true" tabindex="-1"></a>gap_asia <span class="sc">%&gt;%</span></span>
<span id="cb841-8"><a href="exploratory-data-analysis-in-r.html#cb841-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>is_outlier) <span class="sc">%&gt;%</span></span>
<span id="cb841-9"><a href="exploratory-data-analysis-in-r.html#cb841-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb841-10"><a href="exploratory-data-analysis-in-r.html#cb841-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-435-1.png" width="672" /></p>
</div>
</div>
<div id="email" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Email</h2>
<p>Apply what you’ve learned to explore and summarize a real world dataset in this case study of email spam. We will use the <code>email</code> data set in the <code>openintro</code> package.</p>
<div id="video-introducing-the-data" class="section level3" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Video: Introducing the data</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb842"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb842-1"><a href="exploratory-data-analysis-in-r.html#cb842-1" aria-hidden="true" tabindex="-1"></a>email <span class="ot">&lt;-</span> email <span class="sc">%&gt;%</span> </span>
<span id="cb842-2"><a href="exploratory-data-analysis-in-r.html#cb842-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">spam =</span> <span class="fu">as.factor</span>(spam))</span>
<span id="cb842-3"><a href="exploratory-data-analysis-in-r.html#cb842-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(email<span class="sc">$</span>spam) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;not-spam&quot;</span>, <span class="st">&quot;spam&quot;</span>)</span>
<span id="cb842-4"><a href="exploratory-data-analysis-in-r.html#cb842-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(email)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 21
##   spam  to_multiple  from    cc sent_email time                image
##   &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;      &lt;dbl&gt; &lt;dttm&gt;              &lt;dbl&gt;
## 1 not-~           0     1     0          0 2012-01-01 06:16:41     0
## 2 not-~           0     1     0          0 2012-01-01 07:03:59     0
## 3 not-~           0     1     0          0 2012-01-01 16:00:32     0
## 4 not-~           0     1     0          0 2012-01-01 09:09:49     0
## 5 not-~           0     1     0          0 2012-01-01 10:00:01     0
## 6 not-~           0     1     0          0 2012-01-01 10:04:46     0
## # ... with 14 more variables: attach &lt;dbl&gt;, dollar &lt;dbl&gt;,
## #   winner &lt;fct&gt;, inherit &lt;dbl&gt;, viagra &lt;dbl&gt;, password &lt;dbl&gt;,
## #   num_char &lt;dbl&gt;, line_breaks &lt;int&gt;, format &lt;dbl&gt;, re_subj &lt;dbl&gt;,
## #   exclaim_subj &lt;dbl&gt;, urgent_subj &lt;dbl&gt;, exclaim_mess &lt;dbl&gt;,
## #   number &lt;fct&gt;</code></pre>
<div class="sourceCode" id="cb844"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb844-1"><a href="exploratory-data-analysis-in-r.html#cb844-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(email)</span></code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    3921 obs. of  21 variables:
##  $ spam        : Factor w/ 2 levels &quot;not-spam&quot;,&quot;spam&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ to_multiple : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ from        : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ cc          : int  0 0 0 0 0 0 0 1 0 0 ...
##  $ sent_email  : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ time        : POSIXct, format: &quot;2012-01-01 06:16:41&quot; ...
##  $ image       : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ attach      : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ dollar      : num  0 0 4 0 0 0 0 0 0 0 ...
##  $ winner      : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ inherit     : num  0 0 1 0 0 0 0 0 0 0 ...
##  $ viagra      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ password    : num  0 0 0 0 2 2 0 0 0 0 ...
##  $ num_char    : num  11.37 10.5 7.77 13.26 1.23 ...
##  $ line_breaks : int  202 202 192 255 29 25 193 237 69 68 ...
##  $ format      : num  1 1 1 1 0 0 1 1 0 1 ...
##  $ re_subj     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ exclaim_subj: num  0 0 0 0 0 0 0 0 0 0 ...
##  $ urgent_subj : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ exclaim_mess: num  0 1 6 48 1 1 1 18 1 0 ...
##  $ number      : Factor w/ 3 levels &quot;none&quot;,&quot;small&quot;,..: 3 2 2 2 1 1 3 2 2 2 ...</code></pre>
</div>
<div id="spam-and-num_char" class="section level3" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> Spam and num_char</h3>
<p>Is there an association between spam and the length of an email? You could imagine a story either way:</p>
<ul>
<li><p><em>Spam is more likely to be a short message tempting me to click on a link</em>, or</p></li>
<li><p><em>My normal email is likely shorter since I exchange brief emails with my friends all the time.</em></p></li>
</ul>
<p>Here, you’ll use the <code>email</code> dataset to settle that question. Begin by bringing up the help file and learning about all the variables with <code>?email</code>.</p>
<p>As you explore the association between spam and the length of an email, use this opportunity to try out linking a <code>dplyr</code> chain with the layers in a <code>ggplot2</code> object.</p>
<div class="sourceCode" id="cb846"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb846-1"><a href="exploratory-data-analysis-in-r.html#cb846-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute summary statistics</span></span>
<span id="cb846-2"><a href="exploratory-data-analysis-in-r.html#cb846-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb846-3"><a href="exploratory-data-analysis-in-r.html#cb846-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(spam) <span class="sc">%&gt;%</span></span>
<span id="cb846-4"><a href="exploratory-data-analysis-in-r.html#cb846-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">median</span>(num_char),</span>
<span id="cb846-5"><a href="exploratory-data-analysis-in-r.html#cb846-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">IQR</span>(num_char))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   spam     `median(num_char)` `IQR(num_char)`
##   &lt;fct&gt;                 &lt;dbl&gt;           &lt;dbl&gt;
## 1 not-spam               6.83           13.6 
## 2 spam                   1.05            2.82</code></pre>
<div class="sourceCode" id="cb848"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb848-1"><a href="exploratory-data-analysis-in-r.html#cb848-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot</span></span>
<span id="cb848-2"><a href="exploratory-data-analysis-in-r.html#cb848-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb848-3"><a href="exploratory-data-analysis-in-r.html#cb848-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_num_char =</span> <span class="fu">log</span>(num_char)) <span class="sc">%&gt;%</span></span>
<span id="cb848-4"><a href="exploratory-data-analysis-in-r.html#cb848-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> spam, <span class="at">y =</span> log_num_char)) <span class="sc">+</span></span>
<span id="cb848-5"><a href="exploratory-data-analysis-in-r.html#cb848-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-438-1.png" width="672" /></p>
<p>You’ll interpret this plot in the next exercise.</p>
</div>
<div id="spam-and-num_char-interpretation" class="section level3" number="7.4.3">
<h3><span class="header-section-number">7.4.3</span> Spam and num_char interpretation</h3>
<p>Which of the following interpretations of the plot is valid?</p>
<p>It’s “The median length of not-spam emails is greater than that of spam emails.”</p>
</div>
<div id="spam-and" class="section level3" number="7.4.4">
<h3><span class="header-section-number">7.4.4</span> Spam and !!!</h3>
<p>Let’s look at a more obvious indicator of spam: exclamation marks. <code>exclaim_mess</code> contains the number of exclamation marks in each message. Using summary statistics and visualization, see if there is a relationship between this variable and whether or not a message is spam.</p>
<p>Experiment with different types of plots until you find one that is the most informative. Recall that you’ve seen:</p>
<ul>
<li>Side-by-side box plots</li>
<li>Faceted histograms</li>
<li>Overlaid density plots</li>
</ul>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb849-1"><a href="exploratory-data-analysis-in-r.html#cb849-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute center and spread for exclaim_mess by spam</span></span>
<span id="cb849-2"><a href="exploratory-data-analysis-in-r.html#cb849-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb849-3"><a href="exploratory-data-analysis-in-r.html#cb849-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(spam) <span class="sc">%&gt;%</span></span>
<span id="cb849-4"><a href="exploratory-data-analysis-in-r.html#cb849-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">median</span>(exclaim_mess),</span>
<span id="cb849-5"><a href="exploratory-data-analysis-in-r.html#cb849-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">IQR</span>(exclaim_mess))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   spam     `median(exclaim_mess)` `IQR(exclaim_mess)`
##   &lt;fct&gt;                     &lt;dbl&gt;               &lt;dbl&gt;
## 1 not-spam                      1                   5
## 2 spam                          0                   1</code></pre>
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb851-1"><a href="exploratory-data-analysis-in-r.html#cb851-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot for spam and exclaim_mess</span></span>
<span id="cb851-2"><a href="exploratory-data-analysis-in-r.html#cb851-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb851-3"><a href="exploratory-data-analysis-in-r.html#cb851-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_exclaim_mess =</span> <span class="fu">log</span>(exclaim_mess <span class="sc">+</span> <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb851-4"><a href="exploratory-data-analysis-in-r.html#cb851-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> log_exclaim_mess)) <span class="sc">+</span></span>
<span id="cb851-5"><a href="exploratory-data-analysis-in-r.html#cb851-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb851-6"><a href="exploratory-data-analysis-in-r.html#cb851-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> spam)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-439-1.png" width="672" /></p>
<div class="sourceCode" id="cb852"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb852-1"><a href="exploratory-data-analysis-in-r.html#cb852-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative plot: side-by-side box plots</span></span>
<span id="cb852-2"><a href="exploratory-data-analysis-in-r.html#cb852-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb852-3"><a href="exploratory-data-analysis-in-r.html#cb852-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_exclaim_mess =</span> <span class="fu">log</span>(exclaim_mess <span class="sc">+</span> <span class="fl">0.01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb852-4"><a href="exploratory-data-analysis-in-r.html#cb852-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> log_exclaim_mess)) <span class="sc">+</span></span>
<span id="cb852-5"><a href="exploratory-data-analysis-in-r.html#cb852-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb852-6"><a href="exploratory-data-analysis-in-r.html#cb852-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> spam)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-439-2.png" width="672" /></p>
<div class="sourceCode" id="cb854"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb854-1"><a href="exploratory-data-analysis-in-r.html#cb854-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative plot: Overlaid density plots</span></span>
<span id="cb854-2"><a href="exploratory-data-analysis-in-r.html#cb854-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb854-3"><a href="exploratory-data-analysis-in-r.html#cb854-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_exclaim_mess =</span> <span class="fu">log</span>(exclaim_mess <span class="sc">+</span> .<span class="dv">01</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb854-4"><a href="exploratory-data-analysis-in-r.html#cb854-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> log_exclaim_mess, <span class="at">fill =</span> spam)) <span class="sc">+</span></span>
<span id="cb854-5"><a href="exploratory-data-analysis-in-r.html#cb854-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-439-3.png" width="672" /></p>
</div>
<div id="spam-and-interpretation" class="section level3" number="7.4.5">
<h3><span class="header-section-number">7.4.5</span> Spam and !!! interpretation</h3>
<p>Which interpretation of these faceted histograms is not correct?</p>
<p>It’s “There are more cases of spam in this dataset than not-spam.”</p>
</div>
<div id="video-check-in-1" class="section level3" number="7.4.6">
<h3><span class="header-section-number">7.4.6</span> Video: Check-in 1</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="collapsing-levels" class="section level3" number="7.4.7">
<h3><span class="header-section-number">7.4.7</span> Collapsing levels</h3>
<p>If it was difficult to work with the heavy skew of <code>exclaim_mess</code>, the number of images attached to each email (<code>image</code>) poses even more of a challenge. Run the following code at the console to get a sense of its distribution:</p>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb855-1"><a href="exploratory-data-analysis-in-r.html#cb855-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(email<span class="sc">$</span>image)</span></code></pre></div>
<pre><code>## 
##    0    1    2    3    4    5    9   20 
## 3811   76   17   11    2    2    1    1</code></pre>
<p>Recall that this tabulates the number of cases in each category (so there were 3811 emails with 0 images, for example). Given the very low counts at the higher number of images, let’s <strong>collapse</strong> <code>image</code> into a categorical variable that indicates whether or not the email had at least one image. In this exercise, you’ll create this new variable and explore its association with spam.</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb857-1"><a href="exploratory-data-analysis-in-r.html#cb857-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot of proportion of spam by image</span></span>
<span id="cb857-2"><a href="exploratory-data-analysis-in-r.html#cb857-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb857-3"><a href="exploratory-data-analysis-in-r.html#cb857-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">has_image =</span> image <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb857-4"><a href="exploratory-data-analysis-in-r.html#cb857-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> has_image, <span class="at">fill =</span> spam)) <span class="sc">+</span></span>
<span id="cb857-5"><a href="exploratory-data-analysis-in-r.html#cb857-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-441-1.png" width="672" /></p>
<p>Let’s interpret this plot in the next exercise.</p>
</div>
<div id="question-image-and-spam-interpretation" class="section level3" number="7.4.8">
<h3><span class="header-section-number">7.4.8</span> Question: Image and spam interpretation</h3>
<p>Which of the following interpretations of the plot is valid?</p>
<p>It’s “An email without an image is more likely to be not-spam than spam.”</p>
</div>
<div id="data-integrity" class="section level3" number="7.4.9">
<h3><span class="header-section-number">7.4.9</span> Data Integrity</h3>
<p>In the process of exploring a dataset, you’ll sometimes come across something that will lead you to question how the data were compiled. For example, the variable <code>num_char</code> contains the number of characters in the email, in thousands, so it could take decimal values, but it certainly shouldn’t take negative values.</p>
<p>You can formulate a test to ensure this variable is behaving as we expect:</p>
<div class="sourceCode" id="cb858"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb858-1"><a href="exploratory-data-analysis-in-r.html#cb858-1" aria-hidden="true" tabindex="-1"></a>email<span class="sc">$</span>num_char <span class="sc">&lt;</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>##    [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [11] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [21] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [31] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [41] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [51] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [71] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [81] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##   [91] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [101] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [111] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [131] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [141] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [151] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [161] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [171] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [181] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [191] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [201] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [211] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [221] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [231] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [241] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [251] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [261] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [271] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [281] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [291] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [301] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [311] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [321] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [331] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [341] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [351] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [361] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [371] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [381] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [391] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [401] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [411] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [421] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [431] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [441] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [451] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [461] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [471] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [481] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [491] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [501] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [511] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [521] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [531] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [541] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [551] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [561] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [571] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [581] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [591] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [601] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [611] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [621] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [631] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [641] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [651] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [661] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [671] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [681] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [691] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [701] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [711] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [721] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [731] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [741] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [751] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [761] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [771] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [781] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [791] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [801] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [811] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [821] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [831] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [841] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [851] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [861] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [871] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [881] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [891] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [901] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [911] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [921] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [931] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [941] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [951] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [961] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [971] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [981] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [991] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [ reached getOption(&quot;max.print&quot;) -- omitted 2921 entries ]</code></pre>
<p>If you run this code at the console, you’ll get a long vector of logical values indicating for each case in the dataset whether that condition is <code>TRUE</code>. Here, the first 1000 values all appear to be <code>FALSE</code>. To verify that all of the cases indeed have non-negative values for <code>num_char</code>, we can take the sum of this vector:</p>
<div class="sourceCode" id="cb860"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb860-1"><a href="exploratory-data-analysis-in-r.html#cb860-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(email<span class="sc">$</span>num_char <span class="sc">&lt;</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>This is a handy shortcut. When you do arithmetic on logical values, R treats <code>TRUE</code> as <code>1</code> and <code>FALSE</code> as <code>0.</code> Since the sum over the whole vector is zero, you learn that every case in the dataset took a value of <code>FALSE</code> in the test. That is, the <code>num_char</code> column is behaving as we expect and taking only non-negative values.</p>
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb862-1"><a href="exploratory-data-analysis-in-r.html#cb862-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test if images count as attachments</span></span>
<span id="cb862-2"><a href="exploratory-data-analysis-in-r.html#cb862-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(email<span class="sc">$</span>image <span class="sc">&gt;</span> email<span class="sc">$</span>attach)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>Since image is never greater than attach, we can infer that images are counted as attachments.</p>
</div>
<div id="answering-questions-with-chains" class="section level3" number="7.4.10">
<h3><span class="header-section-number">7.4.10</span> Answering questions with chains</h3>
<p>When you have a specific question about a dataset, you can find your way to an answer by carefully constructing the appropriate chain of R code. For example, consider the following question:</p>
<blockquote>
<p><em>“Within non-spam emails, is the typical length of emails shorter for those that were sent to multiple people?”</em></p>
</blockquote>
<p>This can be answered with the following chain:</p>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb864-1"><a href="exploratory-data-analysis-in-r.html#cb864-1" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb864-2"><a href="exploratory-data-analysis-in-r.html#cb864-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(spam <span class="sc">==</span> <span class="st">&quot;not-spam&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb864-3"><a href="exploratory-data-analysis-in-r.html#cb864-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(<span class="fu">as.factor</span>(to_multiple)) <span class="sc">%&gt;%</span></span>
<span id="cb864-4"><a href="exploratory-data-analysis-in-r.html#cb864-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="fu">median</span>(num_char))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   `as.factor(to_multiple)` `median(num_char)`
##   &lt;fct&gt;                                 &lt;dbl&gt;
## 1 0                                      7.20
## 2 1                                      5.36</code></pre>
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb866-1"><a href="exploratory-data-analysis-in-r.html#cb866-1" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb866-2"><a href="exploratory-data-analysis-in-r.html#cb866-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(spam <span class="sc">==</span> <span class="st">&quot;not-spam&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb866-3"><a href="exploratory-data-analysis-in-r.html#cb866-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(to_multiple) <span class="sc">%&gt;%</span></span>
<span id="cb866-4"><a href="exploratory-data-analysis-in-r.html#cb866-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarise</span>(<span class="fu">median</span>(num_char))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   to_multiple `median(num_char)`
##         &lt;dbl&gt;              &lt;dbl&gt;
## 1           0               7.20
## 2           1               5.36</code></pre>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb868-1"><a href="exploratory-data-analysis-in-r.html#cb868-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(email)</span></code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    3921 obs. of  21 variables:
##  $ spam        : Factor w/ 2 levels &quot;not-spam&quot;,&quot;spam&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ to_multiple : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ from        : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ cc          : int  0 0 0 0 0 0 0 1 0 0 ...
##  $ sent_email  : num  0 0 0 0 0 0 1 1 0 0 ...
##  $ time        : POSIXct, format: &quot;2012-01-01 06:16:41&quot; ...
##  $ image       : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ attach      : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ dollar      : num  0 0 4 0 0 0 0 0 0 0 ...
##  $ winner      : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ inherit     : num  0 0 1 0 0 0 0 0 0 0 ...
##  $ viagra      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ password    : num  0 0 0 0 2 2 0 0 0 0 ...
##  $ num_char    : num  11.37 10.5 7.77 13.26 1.23 ...
##  $ line_breaks : int  202 202 192 255 29 25 193 237 69 68 ...
##  $ format      : num  1 1 1 1 0 0 1 1 0 1 ...
##  $ re_subj     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ exclaim_subj: num  0 0 0 0 0 0 0 0 0 0 ...
##  $ urgent_subj : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ exclaim_mess: num  0 1 6 48 1 1 1 18 1 0 ...
##  $ number      : Factor w/ 3 levels &quot;none&quot;,&quot;small&quot;,..: 3 2 2 2 1 1 3 2 2 2 ...</code></pre>
<p>The code makes it clear that you are using <code>num_char</code> to measure the length of an email and <code>median()</code> as the measure of what is typical. If you run this code, you’ll learn that the answer to the question is “yes”: the typical length of non-spam sent to multiple people is a bit lower than those sent to only one person.</p>
<p>This chain concluded with summary statistics, but others might end in a plot; it all depends on the question that you’re trying to answer.</p>
<div class="sourceCode" id="cb870"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb870-1"><a href="exploratory-data-analysis-in-r.html#cb870-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Question 1</span></span>
<span id="cb870-2"><a href="exploratory-data-analysis-in-r.html#cb870-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb870-3"><a href="exploratory-data-analysis-in-r.html#cb870-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dollar <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb870-4"><a href="exploratory-data-analysis-in-r.html#cb870-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(spam) <span class="sc">%&gt;%</span></span>
<span id="cb870-5"><a href="exploratory-data-analysis-in-r.html#cb870-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">mean</span>(dollar))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   spam     `mean(dollar)`
##   &lt;fct&gt;             &lt;dbl&gt;
## 1 not-spam           8.21
## 2 spam               3.44</code></pre>
<div class="sourceCode" id="cb872"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb872-1"><a href="exploratory-data-analysis-in-r.html#cb872-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Question 2</span></span>
<span id="cb872-2"><a href="exploratory-data-analysis-in-r.html#cb872-2" aria-hidden="true" tabindex="-1"></a>email <span class="sc">%&gt;%</span></span>
<span id="cb872-3"><a href="exploratory-data-analysis-in-r.html#cb872-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dollar <span class="sc">&gt;</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb872-4"><a href="exploratory-data-analysis-in-r.html#cb872-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> spam)) <span class="sc">+</span></span>
<span id="cb872-5"><a href="exploratory-data-analysis-in-r.html#cb872-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-446-1.png" width="672" /></p>
</div>
<div id="video-check-in-2" class="section level3" number="7.4.11">
<h3><span class="header-section-number">7.4.11</span> Video: Check-in 2</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<p>We’re now moving from ‘<strong>Exploratory graphics</strong>’ (aiming to find out what’s there) to ‘<strong>Expository graphics</strong>’ (aiming to you seek to explain, describe or communicate a particular idea).</p>
</div>
<div id="whats-in-a-number" class="section level3" number="7.4.12">
<h3><span class="header-section-number">7.4.12</span> What’s in a number?</h3>
<p>Turn your attention to the variable called <code>number.</code> Read more about it by pulling up the help file with <code>?email</code>.</p>
<p>To explore the association between this variable and <code>spam</code>, select and construct an informative plot. For illustrating relationships between categorical variables, you’ve seen</p>
<ul>
<li>Faceted barcharts</li>
<li>Side-by-side barcharts</li>
<li>Stacked and normalized barcharts.</li>
</ul>
<p>Let’s practice constructing a faceted barchart.</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="exploratory-data-analysis-in-r.html#cb873-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder levels</span></span>
<span id="cb873-2"><a href="exploratory-data-analysis-in-r.html#cb873-2" aria-hidden="true" tabindex="-1"></a>email<span class="sc">$</span>number_reordered <span class="ot">&lt;-</span> <span class="fu">factor</span>(email<span class="sc">$</span>number, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;none&quot;</span></span>
<span id="cb873-3"><a href="exploratory-data-analysis-in-r.html#cb873-3" aria-hidden="true" tabindex="-1"></a>, <span class="st">&quot;small&quot;</span>, <span class="st">&quot;big&quot;</span>))</span>
<span id="cb873-4"><a href="exploratory-data-analysis-in-r.html#cb873-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb873-5"><a href="exploratory-data-analysis-in-r.html#cb873-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct plot of number_reordered</span></span>
<span id="cb873-6"><a href="exploratory-data-analysis-in-r.html#cb873-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(email, <span class="fu">aes</span>(<span class="at">x =</span> number_reordered)) <span class="sc">+</span></span>
<span id="cb873-7"><a href="exploratory-data-analysis-in-r.html#cb873-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb873-8"><a href="exploratory-data-analysis-in-r.html#cb873-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>spam)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-447-1.png" width="672" /></p>
</div>
<div id="whats-in-a-number-interpretation" class="section level3" number="7.4.13">
<h3><span class="header-section-number">7.4.13</span> What’s in a number interpretation</h3>
<p>Which of the following interpretations of the plot is not valid?</p>
<p>It’s “Given that an email contains no number, it is more likely to be spam.”</p>
</div>
<div id="video-conclusion" class="section level3" number="7.4.14">
<h3><span class="header-section-number">7.4.14</span> Video: Conclusion</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
</div>
<div id="challenge-2" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Challenge</h2>
<p>Via DataCamp</p>
<p>Once you’ve started learning tools for data manipulation and visualization like dplyr and ggplot2, this course gives you a chance to use them in action on a real dataset. You’ll explore the historical voting of the United Nations General Assembly, including analyzing differences in voting between countries, across time, and among international issues. In the process you’ll gain more practice with the dplyr and ggplot2 packages, learn about the broom package for tidying model output, and experience the kind of start-to-finish exploratory analysis common in data science.</p>
</div>
<div id="solutions-1-data-cleaning-and-summarizing-with-dplyr" class="section level2" number="7.6">
<h2><span class="header-section-number">7.6</span> Solutions 1: Data cleaning and summarizing with dplyr</h2>
<p>The best way to learn data wrangling skills is to apply them to a specific case study. Here you’ll learn how to clean and filter the United Nations voting dataset using the dplyr package, and how to summarize it into smaller, interpretable units.</p>
<div class="sourceCode" id="cb874"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb874-1"><a href="exploratory-data-analysis-in-r.html#cb874-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://github.com/datasciencelabs/data/raw/master/rawvotingdata13.tab&quot;</span></span>
<span id="cb874-2"><a href="exploratory-data-analysis-in-r.html#cb874-2" aria-hidden="true" tabindex="-1"></a>filename <span class="ot">&lt;-</span> <span class="fu">basename</span>(url)</span>
<span id="cb874-3"><a href="exploratory-data-analysis-in-r.html#cb874-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(filename)) <span class="fu">download</span>(url,<span class="at">destfile=</span>filename)</span>
<span id="cb874-4"><a href="exploratory-data-analysis-in-r.html#cb874-4" aria-hidden="true" tabindex="-1"></a>votes <span class="ot">&lt;-</span><span class="fu">read.delim</span>(<span class="st">&quot;rawvotingdata13.tab&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>,</span>
<span id="cb874-5"><a href="exploratory-data-analysis-in-r.html#cb874-5" aria-hidden="true" tabindex="-1"></a><span class="at">quote =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb874-6"><a href="exploratory-data-analysis-in-r.html#cb874-6" aria-hidden="true" tabindex="-1"></a>votes <span class="ot">&lt;-</span> votes <span class="sc">%&gt;%</span> </span>
<span id="cb874-7"><a href="exploratory-data-analysis-in-r.html#cb874-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(session <span class="sc">!=</span> <span class="dv">19</span>)</span></code></pre></div>
<div id="video-the-united-nations-voting-dataset" class="section level3" number="7.6.1">
<h3><span class="header-section-number">7.6.1</span> Video: The United Nations Voting Dataset</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="exploratory-data-analysis-in-r.html#cb875-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(votes)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1051555 obs. of  4 variables:
##  $ rcid   : num  3 3 3 3 3 3 3 3 3 3 ...
##  $ session: num  1 1 1 1 1 1 1 1 1 1 ...
##  $ vote   : num  1 3 9 1 1 1 9 9 9 9 ...
##  $ ccode  : num  2 20 31 40 41 42 51 52 53 54 ...</code></pre>
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="exploratory-data-analysis-in-r.html#cb877-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(votes)</span></code></pre></div>
<pre><code>##   rcid session vote ccode
## 1    3       1    1     2
## 2    3       1    3    20
## 3    3       1    9    31
## 4    3       1    1    40
## 5    3       1    1    41
## 6    3       1    1    42</code></pre>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="exploratory-data-analysis-in-r.html#cb879-1" aria-hidden="true" tabindex="-1"></a>votes <span class="ot">&lt;-</span> votes <span class="sc">%&gt;%</span> </span>
<span id="cb879-2"><a href="exploratory-data-analysis-in-r.html#cb879-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> session <span class="sc">+</span> <span class="dv">1945</span>)</span></code></pre></div>
</div>
<div id="filtering-rows" class="section level3" number="7.6.2">
<h3><span class="header-section-number">7.6.2</span> Filtering rows</h3>
<p>The vote column in the dataset has a number that represents that country’s vote:</p>
<ul>
<li>1 = Yes</li>
<li>2 = Abstain</li>
<li>3 = No</li>
<li>8 = Not present</li>
<li>9 = Not a member</li>
</ul>
<p>One step of data cleaning is removing observations (rows) that you’re not interested in. In this case, you want to remove “Not present” and “Not a member”.</p>
<div class="sourceCode" id="cb880"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb880-1"><a href="exploratory-data-analysis-in-r.html#cb880-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(votes<span class="sc">$</span>vote)</span></code></pre></div>
<pre><code>## [1] 1 3 9 2 8</code></pre>
<div class="sourceCode" id="cb882"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb882-1"><a href="exploratory-data-analysis-in-r.html#cb882-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for votes that are &quot;yes&quot;, &quot;abstain&quot;, or &quot;no&quot;</span></span>
<span id="cb882-2"><a href="exploratory-data-analysis-in-r.html#cb882-2" aria-hidden="true" tabindex="-1"></a>votes <span class="sc">%&gt;%</span> </span>
<span id="cb882-3"><a href="exploratory-data-analysis-in-r.html#cb882-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vote <span class="sc">&lt;=</span> <span class="dv">3</span>)</span></code></pre></div>
</div>
<div id="adding-a-year-column" class="section level3" number="7.6.3">
<h3><span class="header-section-number">7.6.3</span> Adding a year column</h3>
<p>The next step of data cleaning is manipulating your variables (columns) to make them more informative.</p>
<p>In this case, you have a <code>session</code> column that is hard to interpret intuitively. But since the UN started voting in 1946, and holds one session per year, you can get the year of a UN resolution by adding 1945 to the <code>session</code> number.</p>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb883-1"><a href="exploratory-data-analysis-in-r.html#cb883-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add another %&gt;% step to add a year column</span></span>
<span id="cb883-2"><a href="exploratory-data-analysis-in-r.html#cb883-2" aria-hidden="true" tabindex="-1"></a>votes <span class="sc">%&gt;%</span></span>
<span id="cb883-3"><a href="exploratory-data-analysis-in-r.html#cb883-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vote <span class="sc">&lt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb883-4"><a href="exploratory-data-analysis-in-r.html#cb883-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> session <span class="sc">+</span> <span class="dv">1945</span>)</span></code></pre></div>
</div>
<div id="adding-a-country-column" class="section level3" number="7.6.4">
<h3><span class="header-section-number">7.6.4</span> Adding a country column</h3>
<p>The country codes in the <code>ccode</code> column are what’s called <a href="https://correlatesofwar.org/data-sets/cow-country-codes"><strong>Correlates of War codes</strong></a>. This isn’t ideal for an analysis, since you’d like to work with recognizable country names.</p>
<p>You can use the <code>countrycode</code> package to translate. For example:</p>
<div class="sourceCode" id="cb884"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb884-1"><a href="exploratory-data-analysis-in-r.html#cb884-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb884-2"><a href="exploratory-data-analysis-in-r.html#cb884-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb884-3"><a href="exploratory-data-analysis-in-r.html#cb884-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Translate the country code 2</span></span>
<span id="cb884-4"><a href="exploratory-data-analysis-in-r.html#cb884-4" aria-hidden="true" tabindex="-1"></a><span class="fu">countrycode</span>(<span class="dv">2</span>, <span class="st">&quot;cown&quot;</span>, <span class="st">&quot;country.name&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;United States&quot;</code></pre>
<div class="sourceCode" id="cb886"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb886-1"><a href="exploratory-data-analysis-in-r.html#cb886-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Translate the country code 703</span></span>
<span id="cb886-2"><a href="exploratory-data-analysis-in-r.html#cb886-2" aria-hidden="true" tabindex="-1"></a><span class="fu">countrycode</span>(<span class="dv">703</span>, <span class="st">&quot;cown&quot;</span>, <span class="st">&quot;country.name&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Kyrgyzstan&quot;</code></pre>
<div class="sourceCode" id="cb888"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb888-1"><a href="exploratory-data-analysis-in-r.html#cb888-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Translate multiple country codes</span></span>
<span id="cb888-2"><a href="exploratory-data-analysis-in-r.html#cb888-2" aria-hidden="true" tabindex="-1"></a><span class="fu">countrycode</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">20</span>, <span class="dv">40</span>), <span class="st">&quot;cown&quot;</span>, <span class="st">&quot;country.name&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;United States&quot; &quot;Canada&quot;        &quot;Cuba&quot;</code></pre>
<div class="sourceCode" id="cb890"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb890-1"><a href="exploratory-data-analysis-in-r.html#cb890-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert country code 100</span></span>
<span id="cb890-2"><a href="exploratory-data-analysis-in-r.html#cb890-2" aria-hidden="true" tabindex="-1"></a><span class="fu">countrycode</span>(<span class="dv">100</span>, <span class="st">&quot;cown&quot;</span>, <span class="st">&quot;country.name&quot;</span>)</span>
<span id="cb890-3"><a href="exploratory-data-analysis-in-r.html#cb890-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb890-4"><a href="exploratory-data-analysis-in-r.html#cb890-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a country column within the mutate: votes_processed</span></span>
<span id="cb890-5"><a href="exploratory-data-analysis-in-r.html#cb890-5" aria-hidden="true" tabindex="-1"></a>votes_processed <span class="ot">&lt;-</span> votes <span class="sc">%&gt;%</span></span>
<span id="cb890-6"><a href="exploratory-data-analysis-in-r.html#cb890-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(vote <span class="sc">&lt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb890-7"><a href="exploratory-data-analysis-in-r.html#cb890-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> session <span class="sc">+</span> <span class="dv">1945</span>,</span>
<span id="cb890-8"><a href="exploratory-data-analysis-in-r.html#cb890-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">country =</span> <span class="fu">countrycode</span>(ccode, <span class="st">&quot;cown&quot;</span>, <span class="st">&quot;country.name&quot;</span>))</span></code></pre></div>
<pre><code>## Warning in countrycode(ccode, &quot;cown&quot;, &quot;country.name&quot;): Some values were not matched unambiguously: 260</code></pre>
<div class="sourceCode" id="cb892"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb892-1"><a href="exploratory-data-analysis-in-r.html#cb892-1" aria-hidden="true" tabindex="-1"></a>votes_processed<span class="sc">$</span>country[votes_processed<span class="sc">$</span>ccode <span class="sc">==</span> <span class="st">&quot;260&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;German Federal Republic&quot;</span></span></code></pre></div>
</div>
<div id="video-grouping-and-summarizing" class="section level3" number="7.6.5">
<h3><span class="header-section-number">7.6.5</span> Video: Grouping and summarizing</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="summarizing-the-full-dataset" class="section level3" number="7.6.6">
<h3><span class="header-section-number">7.6.6</span> Summarizing the full dataset</h3>
<p>In this analysis, you’re going to focus on “% of votes that are yes” as a metric for the “agreeableness” of countries.</p>
<p>You’ll start by finding this summary for the entire dataset: the fraction of all votes in their history that were “yes”. Note that within your call to <code>summarize()</code>, you can use <code>n()</code> to find the total number of votes and <code>mean(vote == 1)</code> to find the fraction of “yes” votes.</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="exploratory-data-analysis-in-r.html#cb893-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(votes_processed)</span></code></pre></div>
<pre><code>##   rcid session vote ccode year            country
## 1    3       1    1     2 1946      United States
## 2    3       1    3    20 1946             Canada
## 3    3       1    1    40 1946               Cuba
## 4    3       1    1    41 1946              Haiti
## 5    3       1    1    42 1946 Dominican Republic
## 6    3       1    1    70 1946             Mexico</code></pre>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="exploratory-data-analysis-in-r.html#cb895-1" aria-hidden="true" tabindex="-1"></a>votes_processed <span class="sc">%&gt;%</span> </span>
<span id="cb895-2"><a href="exploratory-data-analysis-in-r.html#cb895-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">n</span>(),</span>
<span id="cb895-3"><a href="exploratory-data-analysis-in-r.html#cb895-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_yes =</span> <span class="fu">mean</span>(vote <span class="sc">==</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>##    total percent_yes
## 1 724922       0.797</code></pre>
</div>
<div id="summarizing-by-year" class="section level3" number="7.6.7">
<h3><span class="header-section-number">7.6.7</span> Summarizing by year</h3>
<p>The <code>summarize()</code> function is especially useful because it can be used within <em>groups</em>.</p>
<p>For example, you might like to know how much the average “agreeableness” of countries changed from year to year. To examine this, you can use <code>group_by()</code> to perform your summary not for the entire dataset, but within each year.</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="exploratory-data-analysis-in-r.html#cb897-1" aria-hidden="true" tabindex="-1"></a>by_year <span class="ot">&lt;-</span> votes_processed <span class="sc">%&gt;%</span></span>
<span id="cb897-2"><a href="exploratory-data-analysis-in-r.html#cb897-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb897-3"><a href="exploratory-data-analysis-in-r.html#cb897-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">n</span>(),</span>
<span id="cb897-4"><a href="exploratory-data-analysis-in-r.html#cb897-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_yes =</span> <span class="fu">mean</span>(vote <span class="sc">==</span> <span class="dv">1</span>))</span></code></pre></div>
<p>The <code>group_by()</code> function must go before your call to <code>summarize()</code> when you’re trying to perform your summary within groups.</p>
</div>
<div id="summarizing-by-country" class="section level3" number="7.6.8">
<h3><span class="header-section-number">7.6.8</span> Summarizing by country</h3>
<p>In the last exercise, you performed a summary of the votes within each year. You could instead <code>summarize()</code> within each country, which would let you compare voting patterns between countries.</p>
<div class="sourceCode" id="cb898"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb898-1"><a href="exploratory-data-analysis-in-r.html#cb898-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize by country: by_country</span></span>
<span id="cb898-2"><a href="exploratory-data-analysis-in-r.html#cb898-2" aria-hidden="true" tabindex="-1"></a>by_country <span class="ot">&lt;-</span> votes_processed <span class="sc">%&gt;%</span></span>
<span id="cb898-3"><a href="exploratory-data-analysis-in-r.html#cb898-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span></span>
<span id="cb898-4"><a href="exploratory-data-analysis-in-r.html#cb898-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">n</span>(),</span>
<span id="cb898-5"><a href="exploratory-data-analysis-in-r.html#cb898-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_yes =</span> <span class="fu">mean</span>(vote <span class="sc">==</span> <span class="dv">1</span>))</span></code></pre></div>
</div>
<div id="video-sorting-and-filtering-summarized-data" class="section level3" number="7.6.9">
<h3><span class="header-section-number">7.6.9</span> Video: Sorting and filtering summarized data</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<center>
<div class="figure">
<img src="C:/Users/user/Documents/R/RProgforBus/Module7/Challenge8/transformingtidydata.png" style="width:75.0%" alt="" />
<p class="caption">Transforming tidy data. <em>Source: DataCamp</em></p>
</div>
</center>
</div>
<div id="sorting-by-percentage-of-yes-votes" class="section level3" number="7.6.10">
<h3><span class="header-section-number">7.6.10</span> Sorting by percentage of “yes” votes</h3>
<p>Now that you’ve summarized the dataset by country, you can start examining it and answering interesting questions.</p>
<p>For example, you might be especially interested in the countries that voted “yes” least often, or the ones that voted “yes” most often.</p>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="exploratory-data-analysis-in-r.html#cb899-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print first few entries of the by_country dataset</span></span>
<span id="cb899-2"><a href="exploratory-data-analysis-in-r.html#cb899-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(by_country)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   country           total percent_yes
##   &lt;chr&gt;             &lt;int&gt;       &lt;dbl&gt;
## 1 Afghanistan        4899       0.840
## 2 Albania            3439       0.719
## 3 Algeria            4450       0.898
## 4 Andorra            1487       0.649
## 5 Angola             3025       0.923
## 6 Antigua &amp; Barbuda  2595       0.918</code></pre>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="exploratory-data-analysis-in-r.html#cb901-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in ascending order of percent_yes</span></span>
<span id="cb901-2"><a href="exploratory-data-analysis-in-r.html#cb901-2" aria-hidden="true" tabindex="-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb901-3"><a href="exploratory-data-analysis-in-r.html#cb901-3" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(percent_yes)</span></code></pre></div>
<pre><code>## # A tibble: 200 x 3
##    country                          total percent_yes
##    &lt;chr&gt;                            &lt;int&gt;       &lt;dbl&gt;
##  1 Zanzibar                             2       0    
##  2 United States                     5312       0.285
##  3 Palau                              841       0.313
##  4 Israel                            4866       0.349
##  5 German Federal Republic           2151       0.398
##  6 Micronesia (Federated States of)  1405       0.414
##  7 United Kingdom                    5294       0.428
##  8 France                            5247       0.433
##  9 Marshall Islands                  1534       0.485
## 10 Belgium                           5313       0.495
## # ... with 190 more rows</code></pre>
<div class="sourceCode" id="cb903"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb903-1"><a href="exploratory-data-analysis-in-r.html#cb903-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now sort in descending order</span></span>
<span id="cb903-2"><a href="exploratory-data-analysis-in-r.html#cb903-2" aria-hidden="true" tabindex="-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb903-3"><a href="exploratory-data-analysis-in-r.html#cb903-3" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(<span class="fu">desc</span>(percent_yes))</span></code></pre></div>
<pre><code>## # A tibble: 200 x 3
##    country              total percent_yes
##    &lt;chr&gt;                &lt;int&gt;       &lt;dbl&gt;
##  1 Seychelles            1771       0.978
##  2 Timor-Leste            769       0.969
##  3 São Tomé &amp; Príncipe   2388       0.967
##  4 Djibouti              3269       0.956
##  5 Guinea-Bissau         3001       0.955
##  6 Cape Verde            3223       0.946
##  7 Comoros               2468       0.945
##  8 Mozambique            3382       0.943
##  9 United Arab Emirates  3954       0.942
## 10 Suriname              3354       0.941
## # ... with 190 more rows</code></pre>
</div>
<div id="filtering-summarized-output" class="section level3" number="7.6.11">
<h3><span class="header-section-number">7.6.11</span> Filtering summarized output</h3>
<p>In the last exercise, you may have noticed that the country that voted least frequently, Zanzibar, had only 2 votes in the entire dataset. You certainly can’t make any substantial conclusions based on that data!</p>
<p>Typically in a progressive analysis, when you find that a few of your observations have very little data while others have plenty, you set some threshold to filter them out.</p>
<div class="sourceCode" id="cb905"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb905-1"><a href="exploratory-data-analysis-in-r.html#cb905-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out countries with fewer than 100 votes</span></span>
<span id="cb905-2"><a href="exploratory-data-analysis-in-r.html#cb905-2" aria-hidden="true" tabindex="-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb905-3"><a href="exploratory-data-analysis-in-r.html#cb905-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(total <span class="sc">&gt;=</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb905-4"><a href="exploratory-data-analysis-in-r.html#cb905-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(percent_yes)</span></code></pre></div>
<pre><code>## # A tibble: 199 x 3
##    country                          total percent_yes
##    &lt;chr&gt;                            &lt;int&gt;       &lt;dbl&gt;
##  1 United States                     5312       0.285
##  2 Palau                              841       0.313
##  3 Israel                            4866       0.349
##  4 German Federal Republic           2151       0.398
##  5 Micronesia (Federated States of)  1405       0.414
##  6 United Kingdom                    5294       0.428
##  7 France                            5247       0.433
##  8 Marshall Islands                  1534       0.485
##  9 Belgium                           5313       0.495
## 10 Luxembourg                        5245       0.513
## # ... with 189 more rows</code></pre>
<hr />
</div>
</div>
<div id="solutions-2-visualization-with-ggplot2" class="section level2" number="7.7">
<h2><span class="header-section-number">7.7</span> Solutions 2: Visualization with ggplot2</h2>
<p>Once you’ve cleaned and summarized data, you’ll want to visualize them to understand trends and extract insights. Here you’ll use the ggplot2 package to explore trends in United Nations voting within each country over time.</p>
<div id="video-visualization-with-ggplot2" class="section level3" number="7.7.1">
<h3><span class="header-section-number">7.7.1</span> Video: Visualization with ggplot2</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="choosing-an-aesthetic" class="section level3" number="7.7.2">
<h3><span class="header-section-number">7.7.2</span> Choosing an aesthetic</h3>
<p>You’re going to create a line graph to show the trend over time of how many votes are “yes”.</p>
<p>Which of the following aesthetics should you map the <code>year</code> variable to?</p>
<p>It’s“X-axis”.</p>
<p>To plot a line graph to show the trend over time, the <code>year</code> variable should be on the x-axis.</p>
<div class="sourceCode" id="cb907"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb907-1"><a href="exploratory-data-analysis-in-r.html#cb907-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create line plot</span></span>
<span id="cb907-2"><a href="exploratory-data-analysis-in-r.html#cb907-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(by_year, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes)) <span class="sc">+</span></span>
<span id="cb907-3"><a href="exploratory-data-analysis-in-r.html#cb907-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-463-1.png" width="672" /></p>
</div>
<div id="other-ggplot2-layers" class="section level3" number="7.7.3">
<h3><span class="header-section-number">7.7.3</span> Other ggplot2 layers</h3>
<p>A line plot is one way to display this data. You could also choose to display it as a scatter plot, with each year represented as a single point. This requires changing the layer (i.e. <code>geom_line()</code> to <code>geom_point()</code>).</p>
<p>You can also add additional layers to your graph, such as a smoothing curve with <code>geom_smooth()</code>.</p>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb908-1"><a href="exploratory-data-analysis-in-r.html#cb908-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change to scatter plot and add smoothing curve</span></span>
<span id="cb908-2"><a href="exploratory-data-analysis-in-r.html#cb908-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(by_year, <span class="fu">aes</span>(year, percent_yes)) <span class="sc">+</span></span>
<span id="cb908-3"><a href="exploratory-data-analysis-in-r.html#cb908-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb908-4"><a href="exploratory-data-analysis-in-r.html#cb908-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-464-1.png" width="672" /></p>
</div>
<div id="video-visualizing-by-country" class="section level3" number="7.7.4">
<h3><span class="header-section-number">7.7.4</span> Video: Visualizing by country</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb910-1"><a href="exploratory-data-analysis-in-r.html#cb910-1" aria-hidden="true" tabindex="-1"></a>by_year_country <span class="ot">&lt;-</span> votes_processed <span class="sc">%&gt;%</span></span>
<span id="cb910-2"><a href="exploratory-data-analysis-in-r.html#cb910-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, country) <span class="sc">%&gt;%</span> </span>
<span id="cb910-3"><a href="exploratory-data-analysis-in-r.html#cb910-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">n</span>(),</span>
<span id="cb910-4"><a href="exploratory-data-analysis-in-r.html#cb910-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_yes =</span> <span class="fu">mean</span>(vote <span class="sc">==</span> <span class="dv">1</span>))</span>
<span id="cb910-5"><a href="exploratory-data-analysis-in-r.html#cb910-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb910-6"><a href="exploratory-data-analysis-in-r.html#cb910-6" aria-hidden="true" tabindex="-1"></a>us_france <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span> </span>
<span id="cb910-7"><a href="exploratory-data-analysis-in-r.html#cb910-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;France&quot;</span>))</span>
<span id="cb910-8"><a href="exploratory-data-analysis-in-r.html#cb910-8" aria-hidden="true" tabindex="-1"></a>us_france</span></code></pre></div>
<pre><code>## # A tibble: 136 x 4
## # Groups:   year [68]
##     year country       total percent_yes
##    &lt;dbl&gt; &lt;chr&gt;         &lt;int&gt;       &lt;dbl&gt;
##  1  1946 France           43       0.558
##  2  1946 United States    43       0.605
##  3  1947 France           38       0.737
##  4  1947 United States    38       0.711
##  5  1948 France          104       0.452
##  6  1948 United States   104       0.452
##  7  1949 France           64       0.312
##  8  1949 United States    64       0.281
##  9  1950 France           53       0.321
## 10  1950 United States    53       0.491
## # ... with 126 more rows</code></pre>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb912-1"><a href="exploratory-data-analysis-in-r.html#cb912-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(us_france, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb912-2"><a href="exploratory-data-analysis-in-r.html#cb912-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb912-3"><a href="exploratory-data-analysis-in-r.html#cb912-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-465-1.png" width="672" /></p>
</div>
<div id="summarizing-by-year-and-country" class="section level3" number="7.7.5">
<h3><span class="header-section-number">7.7.5</span> Summarizing by year and country</h3>
<p>You’re more interested in trends of voting within specific countries than you are in the overall trend. So instead of summarizing just by year, summarize by both year <em>and</em> country, constructing a dataset that shows what fraction of the time each country votes “yes” in each year.</p>
<div class="sourceCode" id="cb913"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb913-1"><a href="exploratory-data-analysis-in-r.html#cb913-1" aria-hidden="true" tabindex="-1"></a>by_year_country <span class="ot">&lt;-</span> votes_processed <span class="sc">%&gt;%</span></span>
<span id="cb913-2"><a href="exploratory-data-analysis-in-r.html#cb913-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, country) <span class="sc">%&gt;%</span> </span>
<span id="cb913-3"><a href="exploratory-data-analysis-in-r.html#cb913-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total =</span> <span class="fu">n</span>(),</span>
<span id="cb913-4"><a href="exploratory-data-analysis-in-r.html#cb913-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_yes =</span> <span class="fu">mean</span>(vote <span class="sc">==</span> <span class="dv">1</span>))</span></code></pre></div>
<p>Let’s make some plots using this new dataset in the next exercise.</p>
</div>
<div id="plotting-just-the-uk-over-time" class="section level3" number="7.7.6">
<h3><span class="header-section-number">7.7.6</span> Plotting just the UK over time</h3>
<p>Now that you have the percentage of time that each country voted “yes” within each year, you can plot the trend for a particular country. In this case, you’ll look at the trend for just the United Kingdom.</p>
<p>This will involve using <code>filter()</code> on your data before giving it to <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb914-1"><a href="exploratory-data-analysis-in-r.html#cb914-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a filtered version: UK_by_year</span></span>
<span id="cb914-2"><a href="exploratory-data-analysis-in-r.html#cb914-2" aria-hidden="true" tabindex="-1"></a>UK_by_year <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span></span>
<span id="cb914-3"><a href="exploratory-data-analysis-in-r.html#cb914-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;United Kingdom&quot;</span>))</span>
<span id="cb914-4"><a href="exploratory-data-analysis-in-r.html#cb914-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb914-5"><a href="exploratory-data-analysis-in-r.html#cb914-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of percent_yes over time for UK only</span></span>
<span id="cb914-6"><a href="exploratory-data-analysis-in-r.html#cb914-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(UK_by_year, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes)) <span class="sc">+</span></span>
<span id="cb914-7"><a href="exploratory-data-analysis-in-r.html#cb914-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-467-1.png" width="672" /></p>
<div class="sourceCode" id="cb915"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb915-1"><a href="exploratory-data-analysis-in-r.html#cb915-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a filtered version: UK_by_year</span></span>
<span id="cb915-2"><a href="exploratory-data-analysis-in-r.html#cb915-2" aria-hidden="true" tabindex="-1"></a>Kg_by_year <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span></span>
<span id="cb915-3"><a href="exploratory-data-analysis-in-r.html#cb915-3" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Kyrgyzstan&quot;</span>))</span>
<span id="cb915-4"><a href="exploratory-data-analysis-in-r.html#cb915-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb915-5"><a href="exploratory-data-analysis-in-r.html#cb915-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of percent_yes over time for UK only</span></span>
<span id="cb915-6"><a href="exploratory-data-analysis-in-r.html#cb915-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Kg_by_year, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes)) <span class="sc">+</span></span>
<span id="cb915-7"><a href="exploratory-data-analysis-in-r.html#cb915-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb915-8"><a href="exploratory-data-analysis-in-r.html#cb915-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-468-1.png" width="672" /></p>
</div>
<div id="plotting-multiple-countries" class="section level3" number="7.7.7">
<h3><span class="header-section-number">7.7.7</span> Plotting multiple countries</h3>
<p>Plotting just one country at a time is interesting, but you really want to compare trends <code>between</code> countries. For example, suppose you want to compare voting trends for the United States, the UK, France, and India.</p>
<p>You’ll have to filter to include all <code>four</code> of these countries and use another aesthetic (not just x- and y-axes) to distinguish the countries on the resulting visualization. Instead, you’ll use the color aesthetic to represent different countries.</p>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb916-1"><a href="exploratory-data-analysis-in-r.html#cb916-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector of four countries to examine</span></span>
<span id="cb916-2"><a href="exploratory-data-analysis-in-r.html#cb916-2" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>,</span>
<span id="cb916-3"><a href="exploratory-data-analysis-in-r.html#cb916-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;France&quot;</span>, <span class="st">&quot;India&quot;</span>)</span>
<span id="cb916-4"><a href="exploratory-data-analysis-in-r.html#cb916-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb916-5"><a href="exploratory-data-analysis-in-r.html#cb916-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter by_year_country: filtered_4_countries</span></span>
<span id="cb916-6"><a href="exploratory-data-analysis-in-r.html#cb916-6" aria-hidden="true" tabindex="-1"></a>filtered_4_countries <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span></span>
<span id="cb916-7"><a href="exploratory-data-analysis-in-r.html#cb916-7" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country <span class="sc">%in%</span> countries)</span>
<span id="cb916-8"><a href="exploratory-data-analysis-in-r.html#cb916-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb916-9"><a href="exploratory-data-analysis-in-r.html#cb916-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of % yes in four countries</span></span>
<span id="cb916-10"><a href="exploratory-data-analysis-in-r.html#cb916-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_4_countries, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb916-11"><a href="exploratory-data-analysis-in-r.html#cb916-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-469-1.png" width="672" /></p>
</div>
<div id="video-faceting-by-country" class="section level3" number="7.7.8">
<h3><span class="header-section-number">7.7.8</span> Video: Faceting by country</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>
</div>
<div id="faceting-the-time-series" class="section level3" number="7.7.9">
<h3><span class="header-section-number">7.7.9</span> Faceting the time series</h3>
<p>Now you’ll take a look at six countries. While in the previous exercise you used color to represent distinct countries, this gets a little too crowded with six.</p>
<p>Instead, you will facet, giving each country its own sub-plot. To do so, you add a <code>facet_wrap()</code> step after all of your layers.</p>
<div class="sourceCode" id="cb917"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb917-1"><a href="exploratory-data-analysis-in-r.html#cb917-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector of six countries to examine</span></span>
<span id="cb917-2"><a href="exploratory-data-analysis-in-r.html#cb917-2" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>,</span>
<span id="cb917-3"><a href="exploratory-data-analysis-in-r.html#cb917-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Japan&quot;</span>, <span class="st">&quot;Brazil&quot;</span>, <span class="st">&quot;India&quot;</span>)</span>
<span id="cb917-4"><a href="exploratory-data-analysis-in-r.html#cb917-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb917-5"><a href="exploratory-data-analysis-in-r.html#cb917-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtered by_year_country: filtered_6_countries</span></span>
<span id="cb917-6"><a href="exploratory-data-analysis-in-r.html#cb917-6" aria-hidden="true" tabindex="-1"></a>filtered_6_countries <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span></span>
<span id="cb917-7"><a href="exploratory-data-analysis-in-r.html#cb917-7" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(country <span class="sc">%in%</span> countries)</span>
<span id="cb917-8"><a href="exploratory-data-analysis-in-r.html#cb917-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb917-9"><a href="exploratory-data-analysis-in-r.html#cb917-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of % yes over time faceted by country</span></span>
<span id="cb917-10"><a href="exploratory-data-analysis-in-r.html#cb917-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_6_countries, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> percent_yes)) <span class="sc">+</span></span>
<span id="cb917-11"><a href="exploratory-data-analysis-in-r.html#cb917-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb917-12"><a href="exploratory-data-analysis-in-r.html#cb917-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>country)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-470-1.png" width="672" /></p>
</div>
<div id="faceting-with-free-y-axis" class="section level3" number="7.7.10">
<h3><span class="header-section-number">7.7.10</span> Faceting with free y-axis</h3>
<p>In the previous plot, all six graphs had the same axis limits. This made the changes over time hard to examine for plots with relatively little change.</p>
<p>Instead, you may want to let the plot choose a different y-axis for each facet.</p>
<div class="sourceCode" id="cb918"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb918-1"><a href="exploratory-data-analysis-in-r.html#cb918-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of % yes over time faceted by country</span></span>
<span id="cb918-2"><a href="exploratory-data-analysis-in-r.html#cb918-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_6_countries, <span class="fu">aes</span>(year, percent_yes)) <span class="sc">+</span></span>
<span id="cb918-3"><a href="exploratory-data-analysis-in-r.html#cb918-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb918-4"><a href="exploratory-data-analysis-in-r.html#cb918-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> country, <span class="at">scales=</span><span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-471-1.png" width="672" /></p>
</div>
<div id="choose-your-own-countries" class="section level3" number="7.7.11">
<h3><span class="header-section-number">7.7.11</span> Choose your own countries</h3>
<p>The purpose of an exploratory data analysis is to ask questions and answer them with data. Now it’s your turn to ask the questions.</p>
<p>You’ll choose some countries whose history you are interested in and add them to the graph. If you want to look up the full list of countries, enter by_country$country in the console.</p>
<div class="sourceCode" id="cb919"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb919-1"><a href="exploratory-data-analysis-in-r.html#cb919-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add three more countries to this list</span></span>
<span id="cb919-2"><a href="exploratory-data-analysis-in-r.html#cb919-2" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;United States&quot;</span>, <span class="st">&quot;United Kingdom&quot;</span>,</span>
<span id="cb919-3"><a href="exploratory-data-analysis-in-r.html#cb919-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Japan&quot;</span>, <span class="st">&quot;Brazil&quot;</span>, <span class="st">&quot;India&quot;</span>, <span class="st">&quot;Kyrgyzstan&quot;</span>, </span>
<span id="cb919-4"><a href="exploratory-data-analysis-in-r.html#cb919-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Georgia&quot;</span>, <span class="st">&quot;Germany&quot;</span>)</span>
<span id="cb919-5"><a href="exploratory-data-analysis-in-r.html#cb919-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb919-6"><a href="exploratory-data-analysis-in-r.html#cb919-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtered by_year_country: filtered_countries</span></span>
<span id="cb919-7"><a href="exploratory-data-analysis-in-r.html#cb919-7" aria-hidden="true" tabindex="-1"></a>filtered_countries <span class="ot">&lt;-</span> by_year_country <span class="sc">%&gt;%</span></span>
<span id="cb919-8"><a href="exploratory-data-analysis-in-r.html#cb919-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> countries)</span>
<span id="cb919-9"><a href="exploratory-data-analysis-in-r.html#cb919-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb919-10"><a href="exploratory-data-analysis-in-r.html#cb919-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Line plot of % yes over time faceted by country</span></span>
<span id="cb919-11"><a href="exploratory-data-analysis-in-r.html#cb919-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_countries, <span class="fu">aes</span>(year, percent_yes)) <span class="sc">+</span></span>
<span id="cb919-12"><a href="exploratory-data-analysis-in-r.html#cb919-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb919-13"><a href="exploratory-data-analysis-in-r.html#cb919-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> country, <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-472-1.png" width="672" /></p>
<hr />
</div>
</div>
<div id="solutions-3-tidy-modeling-with-broom" class="section level2" number="7.8">
<h2><span class="header-section-number">7.8</span> Solutions 3: Tidy modeling with broom</h2>
<p>While visualization helps you understand one country at a time, statistical modeling lets you quantify trends across many countries and interpret them together. Here you’ll learn to use the tidyr, purrr, and broom packages to fit linear models to each country, and understand and compare their outputs.</p>
<div id="video-linear-regression" class="section level3" number="7.8.1">
<h3><span class="header-section-number">7.8.1</span> Video: Linear regression</h3>
<p><a href="https://drive.google.com/drive/folders/1rTSXe2HiLMbTePzcwtP4IUKEOHs-0OXY">View slides.</a></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-data-visualization-with-ggplot2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="correlation-and-regression-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ijcwebb/wonderland/edit/master/07-eda.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ijcwebb/wonderland/blob/master/07-eda.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
